!function(){var e,t={20:function(e,t,i){"use strict";var n=i(609),s=Symbol.for("react.element"),a=(Symbol.for("react.fragment"),Object.prototype.hasOwnProperty),o=n.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED.ReactCurrentOwner,r={key:!0,ref:!0,__self:!0,__source:!0};function l(e,t,i){var n,l={},c=null,h=null;for(n in void 0!==i&&(c=""+i),void 0!==t.key&&(c=""+t.key),void 0!==t.ref&&(h=t.ref),t)a.call(t,n)&&!r.hasOwnProperty(n)&&(l[n]=t[n]);if(e&&e.defaultProps)for(n in t=e.defaultProps)void 0===l[n]&&(l[n]=t[n]);return{$$typeof:s,type:e,key:c,ref:h,props:l,_owner:o.current}}t.jsx=l,t.jsxs=l},150:function(e,t,i){"use strict";var n=i(609),s=window.wp.domReady,a=i.n(s),o=window.wp.element,r=window.wp.hooks,l=window.wp.data;const c={route:"home",hasLoaded:!1,settings:{},processed:[],hasAPI:Boolean(window.hyve.hasAPIKey),isQdrantActive:Boolean(window.hyve.isQdrantActive),totalChunks:0},h={setRoute(e){return{type:"SET_ROUTE",route:e}},setLoading(){return{type:"HAS_LOADED"}},setSettings(e){return{type:"SET_SETTINGS",settings:e}},setSetting(e,t){return{type:"SET_SETTING",key:e,value:t}},setHasAPI(e){return{type:"SET_HAS_API",hasAPI:e}},setTotalChunks(e){return{type:"SET_TOTAL_CHUNKS",totalChunks:e}},setQdrantStatus(e){return{type:"SET_QDRANT_STATUS",isQdrantActive:e}}},d={getRoute(e){return e.route},hasLoaded(e){return e.hasLoaded},getSettings(e){return e.settings},hasAPI(e){return e.hasAPI},getTotalChunks(e){return e.totalChunks},hasReachedLimit(e){return window.hyve.chunksLimit<=Number(e.totalChunks)&&!Boolean(window.hyve.isQdrantActive)},isQdrantActive(e){return e.isQdrantActive}},u=(0,l.createReduxStore)("hyve",{reducer:(e=c,t)=>{switch(t.type){case"SET_ROUTE":return{...e,route:t.route};case"HAS_LOADED":return{...e,hasLoaded:!0};case"SET_SETTINGS":return{...e,settings:t.settings};case"SET_SETTING":return{...e,settings:{...e.settings,[t.key]:t.value}};case"SET_HAS_API":return{...e,hasAPI:t.hasAPI};case"SET_TOTAL_CHUNKS":return{...e,totalChunks:t.totalChunks};case"SET_QDRANT_STATUS":return{...e,isQdrantActive:t.isQdrantActive};default:return e}},actions:h,selectors:d});(0,l.register)(u);var f=window.wp.apiFetch,p=i.n(f),g=window.wp.components,m=window.wp.i18n,y=window.wp.primitives,b=i(848),v=(0,b.jsx)(y.SVG,{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 24 24",children:(0,b.jsx)(y.Path,{d:"M12 4L4 7.9V20h16V7.9L12 4zm6.5 14.5H14V13h-4v5.5H5.5V8.8L12 5.7l6.5 3.1v9.7z"})}),_=(0,b.jsx)(y.SVG,{viewBox:"0 0 24 24",xmlns:"http://www.w3.org/2000/svg",children:(0,b.jsx)(y.Path,{fillRule:"evenodd",clipRule:"evenodd",d:"M11.934 7.406a1 1 0 0 0 .914.594H19a.5.5 0 0 1 .5.5v9a.5.5 0 0 1-.5.5H5a.5.5 0 0 1-.5-.5V6a.5.5 0 0 1 .5-.5h5.764a.5.5 0 0 1 .447.276l.723 1.63Zm1.064-1.216a.5.5 0 0 0 .462.31H19a2 2 0 0 1 2 2v9a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2V6a2 2 0 0 1 2-2h5.764a2 2 0 0 1 1.789 1.106l.445 1.084ZM8.5 10.5h7V12h-7v-1.5Zm7 3.5h-7v1.5h7V14Z"})}),x=(0,b.jsx)(y.SVG,{viewBox:"0 0 24 24",xmlns:"http://www.w3.org/2000/svg",children:(0,b.jsx)(y.Path,{d:"M18 4H6c-1.1 0-2 .9-2 2v12.9c0 .6.5 1.1 1.1 1.1.3 0 .5-.1.8-.3L8.5 17H18c1.1 0 2-.9 2-2V6c0-1.1-.9-2-2-2zm.5 11c0 .3-.2.5-.5.5H7.9l-2.4 2.4V6c0-.3.2-.5.5-.5h12c.3 0 .5.2.5.5v9z"})}),w=(0,b.jsx)(y.SVG,{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 24 24",children:(0,b.jsx)(y.Path,{fillRule:"evenodd",d:"M8.95 11.25H4v1.5h4.95v4.5H13V18c0 1.1.9 2 2 2h3c1.1 0 2-.9 2-2v-3c0-1.1-.9-2-2-2h-3c-1.1 0-2 .9-2 2v.75h-2.55v-7.5H13V9c0 1.1.9 2 2 2h3c1.1 0 2-.9 2-2V6c0-1.1-.9-2-2-2h-3c-1.1 0-2 .9-2 2v.75H8.95v4.5ZM14.5 15v3c0 .3.2.5.5.5h3c.3 0 .5-.2.5-.5v-3c0-.3-.2-.5-.5-.5h-3c-.3 0-.5.2-.5.5Zm0-6V6c0-.3.2-.5.5-.5h3c.3 0 .5.2.5.5v3c0 .3-.2.5-.5.5h-3c-.3 0-.5-.2-.5-.5Z",clipRule:"evenodd"})}),E=(0,b.jsxs)(y.SVG,{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 24 24",children:[(0,b.jsx)(y.Path,{d:"m19 7.5h-7.628c-.3089-.87389-1.1423-1.5-2.122-1.5-.97966 0-1.81309.62611-2.12197 1.5h-2.12803v1.5h2.12803c.30888.87389 1.14231 1.5 2.12197 1.5.9797 0 1.8131-.62611 2.122-1.5h7.628z"}),(0,b.jsx)(y.Path,{d:"m19 15h-2.128c-.3089-.8739-1.1423-1.5-2.122-1.5s-1.8131.6261-2.122 1.5h-7.628v1.5h7.628c.3089.8739 1.1423 1.5 2.122 1.5s1.8131-.6261 2.122-1.5h2.128z"})]}),k=(0,b.jsx)(y.SVG,{xmlns:"http://www.w3.org/2000/svg",viewBox:"-2 -2 24 24",children:(0,b.jsx)(y.Path,{d:"M20 10c0-5.51-4.49-10-10-10C4.48 0 0 4.49 0 10c0 5.52 4.48 10 10 10 5.51 0 10-4.48 10-10zM7.78 15.37L4.37 6.22c.55-.02 1.17-.08 1.17-.08.5-.06.44-1.13-.06-1.11 0 0-1.45.11-2.37.11-.18 0-.37 0-.58-.01C4.12 2.69 6.87 1.11 10 1.11c2.33 0 4.45.87 6.05 2.34-.68-.11-1.65.39-1.65 1.58 0 .74.45 1.36.9 2.1.35.61.55 1.36.55 2.46 0 1.49-1.4 5-1.4 5l-3.03-8.37c.54-.02.82-.17.82-.17.5-.05.44-1.25-.06-1.22 0 0-1.44.12-2.38.12-.87 0-2.33-.12-2.33-.12-.5-.03-.56 1.2-.06 1.22l.92.08 1.26 3.41zM17.41 10c.24-.64.74-1.87.43-4.25.7 1.29 1.05 2.71 1.05 4.25 0 3.29-1.73 6.24-4.4 7.78.97-2.59 1.94-5.2 2.92-7.78zM6.1 18.09C3.12 16.65 1.11 13.53 1.11 10c0-1.3.23-2.48.72-3.59C3.25 10.3 4.67 14.2 6.1 18.09zm4.03-6.63l2.58 6.98c-.86.29-1.76.45-2.71.45-.79 0-1.57-.11-2.29-.33.81-2.38 1.62-4.74 2.42-7.1z"})}),S=(0,b.jsx)(y.SVG,{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 24 24",children:(0,b.jsx)(y.Path,{d:"M12.5 14.5h-1V16h1c2.2 0 4-1.8 4-4s-1.8-4-4-4h-1v1.5h1c1.4 0 2.5 1.1 2.5 2.5s-1.1 2.5-2.5 2.5zm-4 1.5v-1.5h-1C6.1 14.5 5 13.4 5 12s1.1-2.5 2.5-2.5h1V8h-1c-2.2 0-4 1.8-4 4s1.8 4 4 4h1zm-1-3.2h5v-1.5h-5v1.5zM18 4H9c-1.1 0-2 .9-2 2v.5h1.5V6c0-.3.2-.5.5-.5h9c.3 0 .5.2.5.5v12c0 .3-.2.5-.5.5H9c-.3 0-.5-.2-.5-.5v-.5H7v.5c0 1.1.9 2 2 2h9c1.1 0 2-.9 2-2V6c0-1.1-.9-2-2-2z"})}),M=(0,b.jsx)(y.SVG,{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 24 24",children:(0,b.jsx)(y.Path,{d:"M4 20h8v-1.5H4V20zM18.9 3.5c-.6-.6-1.5-.6-2.1 0l-7.2 7.2c-.4-.1-.7 0-1.1.1-.5.2-1.5.7-1.9 2.2-.4 1.7-.8 2.2-1.1 2.7-.1.1-.2.3-.3.4l-.6 1.1H6c2 0 3.4-.4 4.7-1.4.8-.6 1.2-1.4 1.3-2.3 0-.3 0-.5-.1-.7L19 5.7c.5-.6.5-1.6-.1-2.2zM9.7 14.7c-.7.5-1.5.8-2.4 1 .2-.5.5-1.2.8-2.3.2-.6.4-1 .8-1.1.5-.1 1 .1 1.3.3.2.2.3.5.2.8 0 .3-.1.9-.7 1.3z"})}),C=(0,b.jsx)(y.SVG,{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 24 24",children:(0,b.jsx)(y.Path,{d:"M12 4.75a7.25 7.25 0 100 14.5 7.25 7.25 0 000-14.5zM3.25 12a8.75 8.75 0 1117.5 0 8.75 8.75 0 01-17.5 0zM12 8.75a1.5 1.5 0 01.167 2.99c-.465.052-.917.44-.917 1.01V14h1.5v-.845A3 3 0 109 10.25h1.5a1.5 1.5 0 011.5-1.5zM11.25 15v1.5h1.5V15h-1.5z"})});function P(e){return e+.5|0}const A=(e,t,i)=>Math.max(Math.min(e,i),t);function I(e){return A(P(2.55*e),0,255)}function D(e){return A(P(255*e),0,255)}function T(e){return A(P(e/2.55)/100,0,1)}function B(e){return A(P(100*e),0,100)}const N={0:0,1:1,2:2,3:3,4:4,5:5,6:6,7:7,8:8,9:9,A:10,B:11,C:12,D:13,E:14,F:15,a:10,b:11,c:12,d:13,e:14,f:15},O=[..."0123456789ABCDEF"],L=e=>O[15&e],R=e=>O[(240&e)>>4]+O[15&e],j=e=>(240&e)>>4==(15&e);const F=/^(hsla?|hwb|hsv)\(\s*([-+.e\d]+)(?:deg)?[\s,]+([-+.e\d]+)%[\s,]+([-+.e\d]+)%(?:[\s,]+([-+.e\d]+)(%)?)?\s*\)$/;function H(e,t,i){const n=t*Math.min(i,1-i),s=(t,s=(t+e/30)%12)=>i-n*Math.max(Math.min(s-3,9-s,1),-1);return[s(0),s(8),s(4)]}function z(e,t,i){const n=(n,s=(n+e/60)%6)=>i-i*t*Math.max(Math.min(s,4-s,1),0);return[n(5),n(3),n(1)]}function V(e,t,i){const n=H(e,1,.5);let s;for(t+i>1&&(s=1/(t+i),t*=s,i*=s),s=0;s<3;s++)n[s]*=1-t-i,n[s]+=t;return n}function W(e){const t=e.r/255,i=e.g/255,n=e.b/255,s=Math.max(t,i,n),a=Math.min(t,i,n),o=(s+a)/2;let r,l,c;return s!==a&&(c=s-a,l=o>.5?c/(2-s-a):c/(s+a),r=function(e,t,i,n,s){return e===s?(t-i)/n+(t<i?6:0):t===s?(i-e)/n+2:(e-t)/n+4}(t,i,n,c,s),r=60*r+.5),[0|r,l||0,o]}function U(e,t,i,n){return(Array.isArray(t)?e(t[0],t[1],t[2]):e(t,i,n)).map(D)}function $(e,t,i){return U(H,e,t,i)}function Y(e){return(e%360+360)%360}const q={x:"dark",Z:"light",Y:"re",X:"blu",W:"gr",V:"medium",U:"slate",A:"ee",T:"ol",S:"or",B:"ra",C:"lateg",D:"ights",R:"in",Q:"turquois",E:"hi",P:"ro",O:"al",N:"le",M:"de",L:"yello",F:"en",K:"ch",G:"arks",H:"ea",I:"ightg",J:"wh"},K={OiceXe:"f0f8ff",antiquewEte:"faebd7",aqua:"ffff",aquamarRe:"7fffd4",azuY:"f0ffff",beige:"f5f5dc",bisque:"ffe4c4",black:"0",blanKedOmond:"ffebcd",Xe:"ff",XeviTet:"8a2be2",bPwn:"a52a2a",burlywood:"deb887",caMtXe:"5f9ea0",KartYuse:"7fff00",KocTate:"d2691e",cSO:"ff7f50",cSnflowerXe:"6495ed",cSnsilk:"fff8dc",crimson:"dc143c",cyan:"ffff",xXe:"8b",xcyan:"8b8b",xgTMnPd:"b8860b",xWay:"a9a9a9",xgYF:"6400",xgYy:"a9a9a9",xkhaki:"bdb76b",xmagFta:"8b008b",xTivegYF:"556b2f",xSange:"ff8c00",xScEd:"9932cc",xYd:"8b0000",xsOmon:"e9967a",xsHgYF:"8fbc8f",xUXe:"483d8b",xUWay:"2f4f4f",xUgYy:"2f4f4f",xQe:"ced1",xviTet:"9400d3",dAppRk:"ff1493",dApskyXe:"bfff",dimWay:"696969",dimgYy:"696969",dodgerXe:"1e90ff",fiYbrick:"b22222",flSOwEte:"fffaf0",foYstWAn:"228b22",fuKsia:"ff00ff",gaRsbSo:"dcdcdc",ghostwEte:"f8f8ff",gTd:"ffd700",gTMnPd:"daa520",Way:"808080",gYF:"8000",gYFLw:"adff2f",gYy:"808080",honeyMw:"f0fff0",hotpRk:"ff69b4",RdianYd:"cd5c5c",Rdigo:"4b0082",ivSy:"fffff0",khaki:"f0e68c",lavFMr:"e6e6fa",lavFMrXsh:"fff0f5",lawngYF:"7cfc00",NmoncEffon:"fffacd",ZXe:"add8e6",ZcSO:"f08080",Zcyan:"e0ffff",ZgTMnPdLw:"fafad2",ZWay:"d3d3d3",ZgYF:"90ee90",ZgYy:"d3d3d3",ZpRk:"ffb6c1",ZsOmon:"ffa07a",ZsHgYF:"20b2aa",ZskyXe:"87cefa",ZUWay:"778899",ZUgYy:"778899",ZstAlXe:"b0c4de",ZLw:"ffffe0",lime:"ff00",limegYF:"32cd32",lRF:"faf0e6",magFta:"ff00ff",maPon:"800000",VaquamarRe:"66cdaa",VXe:"cd",VScEd:"ba55d3",VpurpN:"9370db",VsHgYF:"3cb371",VUXe:"7b68ee",VsprRggYF:"fa9a",VQe:"48d1cc",VviTetYd:"c71585",midnightXe:"191970",mRtcYam:"f5fffa",mistyPse:"ffe4e1",moccasR:"ffe4b5",navajowEte:"ffdead",navy:"80",Tdlace:"fdf5e6",Tive:"808000",TivedBb:"6b8e23",Sange:"ffa500",SangeYd:"ff4500",ScEd:"da70d6",pOegTMnPd:"eee8aa",pOegYF:"98fb98",pOeQe:"afeeee",pOeviTetYd:"db7093",papayawEp:"ffefd5",pHKpuff:"ffdab9",peru:"cd853f",pRk:"ffc0cb",plum:"dda0dd",powMrXe:"b0e0e6",purpN:"800080",YbeccapurpN:"663399",Yd:"ff0000",Psybrown:"bc8f8f",PyOXe:"4169e1",saddNbPwn:"8b4513",sOmon:"fa8072",sandybPwn:"f4a460",sHgYF:"2e8b57",sHshell:"fff5ee",siFna:"a0522d",silver:"c0c0c0",skyXe:"87ceeb",UXe:"6a5acd",UWay:"708090",UgYy:"708090",snow:"fffafa",sprRggYF:"ff7f",stAlXe:"4682b4",tan:"d2b48c",teO:"8080",tEstN:"d8bfd8",tomato:"ff6347",Qe:"40e0d0",viTet:"ee82ee",JHt:"f5deb3",wEte:"ffffff",wEtesmoke:"f5f5f5",Lw:"ffff00",LwgYF:"9acd32"};let Q;const X=/^rgba?\(\s*([-+.\d]+)(%)?[\s,]+([-+.e\d]+)(%)?[\s,]+([-+.e\d]+)(%)?(?:[\s,/]+([-+.e\d]+)(%)?)?\s*\)$/,G=e=>e<=.0031308?12.92*e:1.055*Math.pow(e,1/2.4)-.055,Z=e=>e<=.04045?e/12.92:Math.pow((e+.055)/1.055,2.4);function J(e,t,i){if(e){let n=W(e);n[t]=Math.max(0,Math.min(n[t]+n[t]*i,0===t?360:1)),n=$(n),e.r=n[0],e.g=n[1],e.b=n[2]}}function ee(e,t){return e?Object.assign(t||{},e):e}function te(e){var t={r:0,g:0,b:0,a:255};return Array.isArray(e)?e.length>=3&&(t={r:e[0],g:e[1],b:e[2],a:255},e.length>3&&(t.a=D(e[3]))):(t=ee(e,{r:0,g:0,b:0,a:1})).a=D(t.a),t}function ie(e){return"r"===e.charAt(0)?function(e){const t=X.exec(e);let i,n,s,a=255;if(t){if(t[7]!==i){const e=+t[7];a=t[8]?I(e):A(255*e,0,255)}return i=+t[1],n=+t[3],s=+t[5],i=255&(t[2]?I(i):A(i,0,255)),n=255&(t[4]?I(n):A(n,0,255)),s=255&(t[6]?I(s):A(s,0,255)),{r:i,g:n,b:s,a:a}}}(e):function(e){const t=F.exec(e);let i,n=255;if(!t)return;t[5]!==i&&(n=t[6]?I(+t[5]):D(+t[5]));const s=Y(+t[2]),a=+t[3]/100,o=+t[4]/100;return i="hwb"===t[1]?function(e,t,i){return U(V,e,t,i)}(s,a,o):"hsv"===t[1]?function(e,t,i){return U(z,e,t,i)}(s,a,o):$(s,a,o),{r:i[0],g:i[1],b:i[2],a:n}}(e)}class ne{constructor(e){if(e instanceof ne)return e;const t=typeof e;let i;var n,s,a;"object"===t?i=te(e):"string"===t&&(a=(n=e).length,"#"===n[0]&&(4===a||5===a?s={r:255&17*N[n[1]],g:255&17*N[n[2]],b:255&17*N[n[3]],a:5===a?17*N[n[4]]:255}:7!==a&&9!==a||(s={r:N[n[1]]<<4|N[n[2]],g:N[n[3]]<<4|N[n[4]],b:N[n[5]]<<4|N[n[6]],a:9===a?N[n[7]]<<4|N[n[8]]:255})),i=s||function(e){Q||(Q=function(){const e={},t=Object.keys(K),i=Object.keys(q);let n,s,a,o,r;for(n=0;n<t.length;n++){for(o=r=t[n],s=0;s<i.length;s++)a=i[s],r=r.replace(a,q[a]);a=parseInt(K[o],16),e[r]=[a>>16&255,a>>8&255,255&a]}return e}(),Q.transparent=[0,0,0,0]);const t=Q[e.toLowerCase()];return t&&{r:t[0],g:t[1],b:t[2],a:4===t.length?t[3]:255}}(e)||ie(e)),this._rgb=i,this._valid=!!i}get valid(){return this._valid}get rgb(){var e=ee(this._rgb);return e&&(e.a=T(e.a)),e}set rgb(e){this._rgb=te(e)}rgbString(){return this._valid?(e=this._rgb)&&(e.a<255?`rgba(${e.r}, ${e.g}, ${e.b}, ${T(e.a)})`:`rgb(${e.r}, ${e.g}, ${e.b})`):void 0;var e}hexString(){return this._valid?(e=this._rgb,t=(e=>j(e.r)&&j(e.g)&&j(e.b)&&j(e.a))(e)?L:R,e?"#"+t(e.r)+t(e.g)+t(e.b)+((e,t)=>e<255?t(e):"")(e.a,t):void 0):void 0;var e,t}hslString(){return this._valid?function(e){if(!e)return;const t=W(e),i=t[0],n=B(t[1]),s=B(t[2]);return e.a<255?`hsla(${i}, ${n}%, ${s}%, ${T(e.a)})`:`hsl(${i}, ${n}%, ${s}%)`}(this._rgb):void 0}mix(e,t){if(e){const i=this.rgb,n=e.rgb;let s;const a=t===s?.5:t,o=2*a-1,r=i.a-n.a,l=((o*r==-1?o:(o+r)/(1+o*r))+1)/2;s=1-l,i.r=255&l*i.r+s*n.r+.5,i.g=255&l*i.g+s*n.g+.5,i.b=255&l*i.b+s*n.b+.5,i.a=a*i.a+(1-a)*n.a,this.rgb=i}return this}interpolate(e,t){return e&&(this._rgb=function(e,t,i){const n=Z(T(e.r)),s=Z(T(e.g)),a=Z(T(e.b));return{r:D(G(n+i*(Z(T(t.r))-n))),g:D(G(s+i*(Z(T(t.g))-s))),b:D(G(a+i*(Z(T(t.b))-a))),a:e.a+i*(t.a-e.a)}}(this._rgb,e._rgb,t)),this}clone(){return new ne(this.rgb)}alpha(e){return this._rgb.a=D(e),this}clearer(e){return this._rgb.a*=1-e,this}greyscale(){const e=this._rgb,t=P(.3*e.r+.59*e.g+.11*e.b);return e.r=e.g=e.b=t,this}opaquer(e){return this._rgb.a*=1+e,this}negate(){const e=this._rgb;return e.r=255-e.r,e.g=255-e.g,e.b=255-e.b,this}lighten(e){return J(this._rgb,2,e),this}darken(e){return J(this._rgb,2,-e),this}saturate(e){return J(this._rgb,1,e),this}desaturate(e){return J(this._rgb,1,-e),this}rotate(e){return function(e,t){var i=W(e);i[0]=Y(i[0]+t),i=$(i),e.r=i[0],e.g=i[1],e.b=i[2]}(this._rgb,e),this}}function se(){}const ae=(()=>{let e=0;return()=>e++})();function oe(e){return null==e}function re(e){if(Array.isArray&&Array.isArray(e))return!0;const t=Object.prototype.toString.call(e);return"[object"===t.slice(0,7)&&"Array]"===t.slice(-6)}function le(e){return null!==e&&"[object Object]"===Object.prototype.toString.call(e)}function ce(e){return("number"==typeof e||e instanceof Number)&&isFinite(+e)}function he(e,t){return ce(e)?e:t}function de(e,t){return void 0===e?t:e}function ue(e,t,i){if(e&&"function"==typeof e.call)return e.apply(i,t)}function fe(e,t,i,n){let s,a,o;if(re(e))if(a=e.length,n)for(s=a-1;s>=0;s--)t.call(i,e[s],s);else for(s=0;s<a;s++)t.call(i,e[s],s);else if(le(e))for(o=Object.keys(e),a=o.length,s=0;s<a;s++)t.call(i,e[o[s]],o[s])}function pe(e,t){let i,n,s,a;if(!e||!t||e.length!==t.length)return!1;for(i=0,n=e.length;i<n;++i)if(s=e[i],a=t[i],s.datasetIndex!==a.datasetIndex||s.index!==a.index)return!1;return!0}function ge(e){if(re(e))return e.map(ge);if(le(e)){const t=Object.create(null),i=Object.keys(e),n=i.length;let s=0;for(;s<n;++s)t[i[s]]=ge(e[i[s]]);return t}return e}function me(e){return-1===["__proto__","prototype","constructor"].indexOf(e)}function ye(e,t,i,n){if(!me(e))return;const s=t[e],a=i[e];le(s)&&le(a)?be(s,a,n):t[e]=ge(a)}function be(e,t,i){const n=re(t)?t:[t],s=n.length;if(!le(e))return e;const a=(i=i||{}).merger||ye;let o;for(let t=0;t<s;++t){if(o=n[t],!le(o))continue;const s=Object.keys(o);for(let t=0,n=s.length;t<n;++t)a(s[t],e,o,i)}return e}function ve(e,t){return be(e,t,{merger:_e})}function _e(e,t,i){if(!me(e))return;const n=t[e],s=i[e];le(n)&&le(s)?ve(n,s):Object.prototype.hasOwnProperty.call(t,e)||(t[e]=ge(s))}const xe={"":e=>e,x:e=>e.x,y:e=>e.y};function we(e,t){const i=xe[t]||(xe[t]=function(e){const t=function(e){const t=e.split("."),i=[];let n="";for(const e of t)n+=e,n.endsWith("\\")?n=n.slice(0,-1)+".":(i.push(n),n="");return i}(e);return e=>{for(const i of t){if(""===i)break;e=e&&e[i]}return e}}(t));return i(e)}function Ee(e){return e.charAt(0).toUpperCase()+e.slice(1)}const ke=e=>void 0!==e,Se=e=>"function"==typeof e,Me=(e,t)=>{if(e.size!==t.size)return!1;for(const i of e)if(!t.has(i))return!1;return!0},Ce=Math.PI,Pe=2*Ce,Ae=Number.POSITIVE_INFINITY,Ie=Ce/180,De=Ce/2,Te=Ce/4,Be=2*Ce/3,Ne=Math.log10,Oe=Math.sign;function Le(e,t,i){return Math.abs(e-t)<i}function Re(e){const t=Math.round(e);e=Le(e,t,e/1e3)?t:e;const i=Math.pow(10,Math.floor(Ne(e))),n=e/i;return(n<=1?1:n<=2?2:n<=5?5:10)*i}function je(e){return!function(e){return"symbol"==typeof e||"object"==typeof e&&null!==e&&!(Symbol.toPrimitive in e||"toString"in e||"valueOf"in e)}(e)&&!isNaN(parseFloat(e))&&isFinite(e)}function Fe(e){return e*(Ce/180)}function He(e){if(!ce(e))return;let t=1,i=0;for(;Math.round(e*t)/t!==e;)t*=10,i++;return i}function ze(e){return(e%Pe+Pe)%Pe}function Ve(e,t,i){return Math.max(t,Math.min(i,e))}function We(e,t,i,n=1e-6){return e>=Math.min(t,i)-n&&e<=Math.max(t,i)+n}function Ue(e,t,i){i=i||(i=>e[i]<t);let n,s=e.length-1,a=0;for(;s-a>1;)n=a+s>>1,i(n)?a=n:s=n;return{lo:a,hi:s}}const $e=(e,t,i,n)=>Ue(e,i,n?n=>{const s=e[n][t];return s<i||s===i&&e[n+1][t]===i}:n=>e[n][t]<i),Ye=(e,t,i)=>Ue(e,i,(n=>e[n][t]>=i)),qe=["push","pop","shift","splice","unshift"];function Ke(e,t){const i=e._chartjs;if(!i)return;const n=i.listeners,s=n.indexOf(t);-1!==s&&n.splice(s,1),n.length>0||(qe.forEach((t=>{delete e[t]})),delete e._chartjs)}const Qe="undefined"==typeof window?function(e){return e()}:window.requestAnimationFrame;function Xe(e,t){let i=[],n=!1;return function(...s){i=s,n||(n=!0,Qe.call(window,(()=>{n=!1,e.apply(t,i)})))}}const Ge=e=>"start"===e?"left":"end"===e?"right":"center",Ze=(e,t,i)=>"start"===e?t:"end"===e?i:(t+i)/2,Je=e=>0===e||1===e,et=(e,t,i)=>-Math.pow(2,10*(e-=1))*Math.sin((e-t)*Pe/i),tt=(e,t,i)=>Math.pow(2,-10*e)*Math.sin((e-t)*Pe/i)+1,it={linear:e=>e,easeInQuad:e=>e*e,easeOutQuad:e=>-e*(e-2),easeInOutQuad:e=>(e/=.5)<1?.5*e*e:-.5*(--e*(e-2)-1),easeInCubic:e=>e*e*e,easeOutCubic:e=>(e-=1)*e*e+1,easeInOutCubic:e=>(e/=.5)<1?.5*e*e*e:.5*((e-=2)*e*e+2),easeInQuart:e=>e*e*e*e,easeOutQuart:e=>-((e-=1)*e*e*e-1),easeInOutQuart:e=>(e/=.5)<1?.5*e*e*e*e:-.5*((e-=2)*e*e*e-2),easeInQuint:e=>e*e*e*e*e,easeOutQuint:e=>(e-=1)*e*e*e*e+1,easeInOutQuint:e=>(e/=.5)<1?.5*e*e*e*e*e:.5*((e-=2)*e*e*e*e+2),easeInSine:e=>1-Math.cos(e*De),easeOutSine:e=>Math.sin(e*De),easeInOutSine:e=>-.5*(Math.cos(Ce*e)-1),easeInExpo:e=>0===e?0:Math.pow(2,10*(e-1)),easeOutExpo:e=>1===e?1:1-Math.pow(2,-10*e),easeInOutExpo:e=>Je(e)?e:e<.5?.5*Math.pow(2,10*(2*e-1)):.5*(2-Math.pow(2,-10*(2*e-1))),easeInCirc:e=>e>=1?e:-(Math.sqrt(1-e*e)-1),easeOutCirc:e=>Math.sqrt(1-(e-=1)*e),easeInOutCirc:e=>(e/=.5)<1?-.5*(Math.sqrt(1-e*e)-1):.5*(Math.sqrt(1-(e-=2)*e)+1),easeInElastic:e=>Je(e)?e:et(e,.075,.3),easeOutElastic:e=>Je(e)?e:tt(e,.075,.3),easeInOutElastic(e){const t=.1125;return Je(e)?e:e<.5?.5*et(2*e,t,.45):.5+.5*tt(2*e-1,t,.45)},easeInBack(e){const t=1.70158;return e*e*((t+1)*e-t)},easeOutBack(e){const t=1.70158;return(e-=1)*e*((t+1)*e+t)+1},easeInOutBack(e){let t=1.70158;return(e/=.5)<1?e*e*((1+(t*=1.525))*e-t)*.5:.5*((e-=2)*e*((1+(t*=1.525))*e+t)+2)},easeInBounce:e=>1-it.easeOutBounce(1-e),easeOutBounce(e){const t=7.5625,i=2.75;return e<1/i?t*e*e:e<2/i?t*(e-=1.5/i)*e+.75:e<2.5/i?t*(e-=2.25/i)*e+.9375:t*(e-=2.625/i)*e+.984375},easeInOutBounce:e=>e<.5?.5*it.easeInBounce(2*e):.5*it.easeOutBounce(2*e-1)+.5};function nt(e){if(e&&"object"==typeof e){const t=e.toString();return"[object CanvasPattern]"===t||"[object CanvasGradient]"===t}return!1}function st(e){return nt(e)?e:new ne(e)}function at(e){return nt(e)?e:new ne(e).saturate(.5).darken(.1).hexString()}const ot=["x","y","borderWidth","radius","tension"],rt=["color","borderColor","backgroundColor"],lt=new Map;function ct(e,t,i){return function(e,t){t=t||{};const i=e+JSON.stringify(t);let n=lt.get(i);return n||(n=new Intl.NumberFormat(e,t),lt.set(i,n)),n}(t,i).format(e)}const ht={values(e){return re(e)?e:""+e},numeric(e,t,i){if(0===e)return"0";const n=this.chart.options.locale;let s,a=e;if(i.length>1){const t=Math.max(Math.abs(i[0].value),Math.abs(i[i.length-1].value));(t<1e-4||t>1e15)&&(s="scientific"),a=function(e,t){let i=t.length>3?t[2].value-t[1].value:t[1].value-t[0].value;return Math.abs(i)>=1&&e!==Math.floor(e)&&(i=e-Math.floor(e)),i}(e,i)}const o=Ne(Math.abs(a)),r=isNaN(o)?1:Math.max(Math.min(-1*Math.floor(o),20),0),l={notation:s,minimumFractionDigits:r,maximumFractionDigits:r};return Object.assign(l,this.options.ticks.format),ct(e,n,l)},logarithmic(e,t,i){if(0===e)return"0";const n=i[t].significand||e/Math.pow(10,Math.floor(Ne(e)));return[1,2,3,5,10,15].includes(n)||t>.8*i.length?ht.numeric.call(this,e,t,i):""}};var dt={formatters:ht};const ut=Object.create(null),ft=Object.create(null);function pt(e,t){if(!t)return e;const i=t.split(".");for(let t=0,n=i.length;t<n;++t){const n=i[t];e=e[n]||(e[n]=Object.create(null))}return e}function gt(e,t,i){return"string"==typeof t?be(pt(e,t),i):be(pt(e,""),t)}class mt{constructor(e,t){this.animation=void 0,this.backgroundColor="rgba(0,0,0,0.1)",this.borderColor="rgba(0,0,0,0.1)",this.color="#666",this.datasets={},this.devicePixelRatio=e=>e.chart.platform.getDevicePixelRatio(),this.elements={},this.events=["mousemove","mouseout","click","touchstart","touchmove"],this.font={family:"'Helvetica Neue', 'Helvetica', 'Arial', sans-serif",size:12,style:"normal",lineHeight:1.2,weight:null},this.hover={},this.hoverBackgroundColor=(e,t)=>at(t.backgroundColor),this.hoverBorderColor=(e,t)=>at(t.borderColor),this.hoverColor=(e,t)=>at(t.color),this.indexAxis="x",this.interaction={mode:"nearest",intersect:!0,includeInvisible:!1},this.maintainAspectRatio=!0,this.onHover=null,this.onClick=null,this.parsing=!0,this.plugins={},this.responsive=!0,this.scale=void 0,this.scales={},this.showLine=!0,this.drawActiveElementsOnTop=!0,this.describe(e),this.apply(t)}set(e,t){return gt(this,e,t)}get(e){return pt(this,e)}describe(e,t){return gt(ft,e,t)}override(e,t){return gt(ut,e,t)}route(e,t,i,n){const s=pt(this,e),a=pt(this,i),o="_"+t;Object.defineProperties(s,{[o]:{value:s[t],writable:!0},[t]:{enumerable:!0,get(){const e=this[o],t=a[n];return le(e)?Object.assign({},t,e):de(e,t)},set(e){this[o]=e}}})}apply(e){e.forEach((e=>e(this)))}}var yt=new mt({_scriptable:e=>!e.startsWith("on"),_indexable:e=>"events"!==e,hover:{_fallback:"interaction"},interaction:{_scriptable:!1,_indexable:!1}},[function(e){e.set("animation",{delay:void 0,duration:1e3,easing:"easeOutQuart",fn:void 0,from:void 0,loop:void 0,to:void 0,type:void 0}),e.describe("animation",{_fallback:!1,_indexable:!1,_scriptable:e=>"onProgress"!==e&&"onComplete"!==e&&"fn"!==e}),e.set("animations",{colors:{type:"color",properties:rt},numbers:{type:"number",properties:ot}}),e.describe("animations",{_fallback:"animation"}),e.set("transitions",{active:{animation:{duration:400}},resize:{animation:{duration:0}},show:{animations:{colors:{from:"transparent"},visible:{type:"boolean",duration:0}}},hide:{animations:{colors:{to:"transparent"},visible:{type:"boolean",easing:"linear",fn:e=>0|e}}}})},function(e){e.set("layout",{autoPadding:!0,padding:{top:0,right:0,bottom:0,left:0}})},function(e){e.set("scale",{display:!0,offset:!1,reverse:!1,beginAtZero:!1,bounds:"ticks",clip:!0,grace:0,grid:{display:!0,lineWidth:1,drawOnChartArea:!0,drawTicks:!0,tickLength:8,tickWidth:(e,t)=>t.lineWidth,tickColor:(e,t)=>t.color,offset:!1},border:{display:!0,dash:[],dashOffset:0,width:1},title:{display:!1,text:"",padding:{top:4,bottom:4}},ticks:{minRotation:0,maxRotation:50,mirror:!1,textStrokeWidth:0,textStrokeColor:"",padding:3,display:!0,autoSkip:!0,autoSkipPadding:3,labelOffset:0,callback:dt.formatters.values,minor:{},major:{},align:"center",crossAlign:"near",showLabelBackdrop:!1,backdropColor:"rgba(255, 255, 255, 0.75)",backdropPadding:2}}),e.route("scale.ticks","color","","color"),e.route("scale.grid","color","","borderColor"),e.route("scale.border","color","","borderColor"),e.route("scale.title","color","","color"),e.describe("scale",{_fallback:!1,_scriptable:e=>!e.startsWith("before")&&!e.startsWith("after")&&"callback"!==e&&"parser"!==e,_indexable:e=>"borderDash"!==e&&"tickBorderDash"!==e&&"dash"!==e}),e.describe("scales",{_fallback:"scale"}),e.describe("scale.ticks",{_scriptable:e=>"backdropPadding"!==e&&"callback"!==e,_indexable:e=>"backdropPadding"!==e})}]);function bt(e,t,i,n,s){let a=t[s];return a||(a=t[s]=e.measureText(s).width,i.push(s)),a>n&&(n=a),n}function vt(e,t,i){const n=e.currentDevicePixelRatio,s=0!==i?Math.max(i/2,.5):0;return Math.round((t-s)*n)/n+s}function _t(e,t){(t||e)&&((t=t||e.getContext("2d")).save(),t.resetTransform(),t.clearRect(0,0,e.width,e.height),t.restore())}function xt(e,t,i,n){wt(e,t,i,n,null)}function wt(e,t,i,n,s){let a,o,r,l,c,h,d,u;const f=t.pointStyle,p=t.rotation,g=t.radius;let m=(p||0)*Ie;if(f&&"object"==typeof f&&(a=f.toString(),"[object HTMLImageElement]"===a||"[object HTMLCanvasElement]"===a))return e.save(),e.translate(i,n),e.rotate(m),e.drawImage(f,-f.width/2,-f.height/2,f.width,f.height),void e.restore();if(!(isNaN(g)||g<=0)){switch(e.beginPath(),f){default:s?e.ellipse(i,n,s/2,g,0,0,Pe):e.arc(i,n,g,0,Pe),e.closePath();break;case"triangle":h=s?s/2:g,e.moveTo(i+Math.sin(m)*h,n-Math.cos(m)*g),m+=Be,e.lineTo(i+Math.sin(m)*h,n-Math.cos(m)*g),m+=Be,e.lineTo(i+Math.sin(m)*h,n-Math.cos(m)*g),e.closePath();break;case"rectRounded":c=.516*g,l=g-c,o=Math.cos(m+Te)*l,d=Math.cos(m+Te)*(s?s/2-c:l),r=Math.sin(m+Te)*l,u=Math.sin(m+Te)*(s?s/2-c:l),e.arc(i-d,n-r,c,m-Ce,m-De),e.arc(i+u,n-o,c,m-De,m),e.arc(i+d,n+r,c,m,m+De),e.arc(i-u,n+o,c,m+De,m+Ce),e.closePath();break;case"rect":if(!p){l=Math.SQRT1_2*g,h=s?s/2:l,e.rect(i-h,n-l,2*h,2*l);break}m+=Te;case"rectRot":d=Math.cos(m)*(s?s/2:g),o=Math.cos(m)*g,r=Math.sin(m)*g,u=Math.sin(m)*(s?s/2:g),e.moveTo(i-d,n-r),e.lineTo(i+u,n-o),e.lineTo(i+d,n+r),e.lineTo(i-u,n+o),e.closePath();break;case"crossRot":m+=Te;case"cross":d=Math.cos(m)*(s?s/2:g),o=Math.cos(m)*g,r=Math.sin(m)*g,u=Math.sin(m)*(s?s/2:g),e.moveTo(i-d,n-r),e.lineTo(i+d,n+r),e.moveTo(i+u,n-o),e.lineTo(i-u,n+o);break;case"star":d=Math.cos(m)*(s?s/2:g),o=Math.cos(m)*g,r=Math.sin(m)*g,u=Math.sin(m)*(s?s/2:g),e.moveTo(i-d,n-r),e.lineTo(i+d,n+r),e.moveTo(i+u,n-o),e.lineTo(i-u,n+o),m+=Te,d=Math.cos(m)*(s?s/2:g),o=Math.cos(m)*g,r=Math.sin(m)*g,u=Math.sin(m)*(s?s/2:g),e.moveTo(i-d,n-r),e.lineTo(i+d,n+r),e.moveTo(i+u,n-o),e.lineTo(i-u,n+o);break;case"line":o=s?s/2:Math.cos(m)*g,r=Math.sin(m)*g,e.moveTo(i-o,n-r),e.lineTo(i+o,n+r);break;case"dash":e.moveTo(i,n),e.lineTo(i+Math.cos(m)*(s?s/2:g),n+Math.sin(m)*g);break;case!1:e.closePath()}e.fill(),t.borderWidth>0&&e.stroke()}}function Et(e,t,i){return i=i||.5,!t||e&&e.x>t.left-i&&e.x<t.right+i&&e.y>t.top-i&&e.y<t.bottom+i}function kt(e,t){e.save(),e.beginPath(),e.rect(t.left,t.top,t.right-t.left,t.bottom-t.top),e.clip()}function St(e){e.restore()}function Mt(e,t,i,n,s){if(s.strikethrough||s.underline){const a=e.measureText(n),o=t-a.actualBoundingBoxLeft,r=t+a.actualBoundingBoxRight,l=i-a.actualBoundingBoxAscent,c=i+a.actualBoundingBoxDescent,h=s.strikethrough?(l+c)/2:c;e.strokeStyle=e.fillStyle,e.beginPath(),e.lineWidth=s.decorationWidth||2,e.moveTo(o,h),e.lineTo(r,h),e.stroke()}}function Ct(e,t){const i=e.fillStyle;e.fillStyle=t.color,e.fillRect(t.left,t.top,t.width,t.height),e.fillStyle=i}function Pt(e,t,i,n,s,a={}){const o=re(t)?t:[t],r=a.strokeWidth>0&&""!==a.strokeColor;let l,c;for(e.save(),e.font=s.string,function(e,t){t.translation&&e.translate(t.translation[0],t.translation[1]),oe(t.rotation)||e.rotate(t.rotation),t.color&&(e.fillStyle=t.color),t.textAlign&&(e.textAlign=t.textAlign),t.textBaseline&&(e.textBaseline=t.textBaseline)}(e,a),l=0;l<o.length;++l)c=o[l],a.backdrop&&Ct(e,a.backdrop),r&&(a.strokeColor&&(e.strokeStyle=a.strokeColor),oe(a.strokeWidth)||(e.lineWidth=a.strokeWidth),e.strokeText(c,i,n,a.maxWidth)),e.fillText(c,i,n,a.maxWidth),Mt(e,i,n,c,a),n+=Number(s.lineHeight);e.restore()}function At(e,t){const{x:i,y:n,w:s,h:a,radius:o}=t;e.arc(i+o.topLeft,n+o.topLeft,o.topLeft,1.5*Ce,Ce,!0),e.lineTo(i,n+a-o.bottomLeft),e.arc(i+o.bottomLeft,n+a-o.bottomLeft,o.bottomLeft,Ce,De,!0),e.lineTo(i+s-o.bottomRight,n+a),e.arc(i+s-o.bottomRight,n+a-o.bottomRight,o.bottomRight,De,0,!0),e.lineTo(i+s,n+o.topRight),e.arc(i+s-o.topRight,n+o.topRight,o.topRight,0,-De,!0),e.lineTo(i+o.topLeft,n)}const It=/^(normal|(\d+(?:\.\d+)?)(px|em|%)?)$/,Dt=/^(normal|italic|initial|inherit|unset|(oblique( -?[0-9]?[0-9]deg)?))$/;function Tt(e,t){const i=(""+e).match(It);if(!i||"normal"===i[1])return 1.2*t;switch(e=+i[2],i[3]){case"px":return e;case"%":e/=100}return t*e}const Bt=e=>+e||0;function Nt(e,t){const i={},n=le(t),s=n?Object.keys(t):t,a=le(e)?n?i=>de(e[i],e[t[i]]):t=>e[t]:()=>e;for(const e of s)i[e]=Bt(a(e));return i}function Ot(e){return Nt(e,{top:"y",right:"x",bottom:"y",left:"x"})}function Lt(e){return Nt(e,["topLeft","topRight","bottomLeft","bottomRight"])}function Rt(e){const t=Ot(e);return t.width=t.left+t.right,t.height=t.top+t.bottom,t}function jt(e,t){e=e||{},t=t||yt.font;let i=de(e.size,t.size);"string"==typeof i&&(i=parseInt(i,10));let n=de(e.style,t.style);n&&!(""+n).match(Dt)&&(console.warn('Invalid font style specified: "'+n+'"'),n=void 0);const s={family:de(e.family,t.family),lineHeight:Tt(de(e.lineHeight,t.lineHeight),i),size:i,style:n,weight:de(e.weight,t.weight),string:""};return s.string=function(e){return!e||oe(e.size)||oe(e.family)?null:(e.style?e.style+" ":"")+(e.weight?e.weight+" ":"")+e.size+"px "+e.family}(s),s}function Ft(e,t,i,n){let s,a,o,r=!0;for(s=0,a=e.length;s<a;++s)if(o=e[s],void 0!==o&&(void 0!==t&&"function"==typeof o&&(o=o(t),r=!1),void 0!==i&&re(o)&&(o=o[i%o.length],r=!1),void 0!==o))return n&&!r&&(n.cacheable=!1),o}function Ht(e,t){return Object.assign(Object.create(e),t)}function zt(e,t=[""],i,n,s=(()=>e[0])){const a=i||e;void 0===n&&(n=Zt("_fallback",e));const o={[Symbol.toStringTag]:"Object",_cacheable:!0,_scopes:e,_rootScopes:a,_fallback:n,_getTarget:s,override:i=>zt([i,...e],t,a,n)};return new Proxy(o,{deleteProperty(t,i){return delete t[i],delete t._keys,delete e[0][i],!0},get(i,n){return Yt(i,n,(()=>function(e,t,i,n){let s;for(const a of t)if(s=Zt(Ut(a,e),i),void 0!==s)return $t(e,s)?Xt(i,n,e,s):s}(n,t,e,i)))},getOwnPropertyDescriptor(e,t){return Reflect.getOwnPropertyDescriptor(e._scopes[0],t)},getPrototypeOf(){return Reflect.getPrototypeOf(e[0])},has(e,t){return Jt(e).includes(t)},ownKeys(e){return Jt(e)},set(e,t,i){const n=e._storage||(e._storage=s());return e[t]=n[t]=i,delete e._keys,!0}})}function Vt(e,t,i,n){const s={_cacheable:!1,_proxy:e,_context:t,_subProxy:i,_stack:new Set,_descriptors:Wt(e,n),setContext:t=>Vt(e,t,i,n),override:s=>Vt(e.override(s),t,i,n)};return new Proxy(s,{deleteProperty(t,i){return delete t[i],delete e[i],!0},get(e,t,i){return Yt(e,t,(()=>function(e,t,i){const{_proxy:n,_context:s,_subProxy:a,_descriptors:o}=e;let r=n[t];return Se(r)&&o.isScriptable(t)&&(r=function(e,t,i,n){const{_proxy:s,_context:a,_subProxy:o,_stack:r}=i;if(r.has(e))throw new Error("Recursion detected: "+Array.from(r).join("->")+"->"+e);r.add(e);let l=t(a,o||n);return r.delete(e),$t(e,l)&&(l=Xt(s._scopes,s,e,l)),l}(t,r,e,i)),re(r)&&r.length&&(r=function(e,t,i,n){const{_proxy:s,_context:a,_subProxy:o,_descriptors:r}=i;if(void 0!==a.index&&n(e))return t[a.index%t.length];if(le(t[0])){const i=t,n=s._scopes.filter((e=>e!==i));t=[];for(const l of i){const i=Xt(n,s,e,l);t.push(Vt(i,a,o&&o[e],r))}}return t}(t,r,e,o.isIndexable)),$t(t,r)&&(r=Vt(r,s,a&&a[t],o)),r}(e,t,i)))},getOwnPropertyDescriptor(t,i){return t._descriptors.allKeys?Reflect.has(e,i)?{enumerable:!0,configurable:!0}:void 0:Reflect.getOwnPropertyDescriptor(e,i)},getPrototypeOf(){return Reflect.getPrototypeOf(e)},has(t,i){return Reflect.has(e,i)},ownKeys(){return Reflect.ownKeys(e)},set(t,i,n){return e[i]=n,delete t[i],!0}})}function Wt(e,t={scriptable:!0,indexable:!0}){const{_scriptable:i=t.scriptable,_indexable:n=t.indexable,_allKeys:s=t.allKeys}=e;return{allKeys:s,scriptable:i,indexable:n,isScriptable:Se(i)?i:()=>i,isIndexable:Se(n)?n:()=>n}}const Ut=(e,t)=>e?e+Ee(t):t,$t=(e,t)=>le(t)&&"adapters"!==e&&(null===Object.getPrototypeOf(t)||t.constructor===Object);function Yt(e,t,i){if(Object.prototype.hasOwnProperty.call(e,t)||"constructor"===t)return e[t];const n=i();return e[t]=n,n}function qt(e,t,i){return Se(e)?e(t,i):e}const Kt=(e,t)=>!0===e?t:"string"==typeof e?we(t,e):void 0;function Qt(e,t,i,n,s){for(const a of t){const t=Kt(i,a);if(t){e.add(t);const a=qt(t._fallback,i,s);if(void 0!==a&&a!==i&&a!==n)return a}else if(!1===t&&void 0!==n&&i!==n)return null}return!1}function Xt(e,t,i,n){const s=t._rootScopes,a=qt(t._fallback,i,n),o=[...e,...s],r=new Set;r.add(n);let l=Gt(r,o,i,a||i,n);return null!==l&&(void 0===a||a===i||(l=Gt(r,o,a,l,n),null!==l))&&zt(Array.from(r),[""],s,a,(()=>function(e,t,i){const n=e._getTarget();t in n||(n[t]={});const s=n[t];return re(s)&&le(i)?i:s||{}}(t,i,n)))}function Gt(e,t,i,n,s){for(;i;)i=Qt(e,t,i,n,s);return i}function Zt(e,t){for(const i of t){if(!i)continue;const t=i[e];if(void 0!==t)return t}}function Jt(e){let t=e._keys;return t||(t=e._keys=function(e){const t=new Set;for(const i of e)for(const e of Object.keys(i).filter((e=>!e.startsWith("_"))))t.add(e);return Array.from(t)}(e._scopes)),t}function ei(){return"undefined"!=typeof window&&"undefined"!=typeof document}function ti(e){let t=e.parentNode;return t&&"[object ShadowRoot]"===t.toString()&&(t=t.host),t}function ii(e,t,i){let n;return"string"==typeof e?(n=parseInt(e,10),-1!==e.indexOf("%")&&(n=n/100*t.parentNode[i])):n=e,n}Number.EPSILON;const ni=e=>e.ownerDocument.defaultView.getComputedStyle(e,null),si=["top","right","bottom","left"];function ai(e,t,i){const n={};i=i?"-"+i:"";for(let s=0;s<4;s++){const a=si[s];n[a]=parseFloat(e[t+"-"+a+i])||0}return n.width=n.left+n.right,n.height=n.top+n.bottom,n}const oi=(e,t,i)=>(e>0||t>0)&&(!i||!i.shadowRoot);function ri(e,t){if("native"in e)return e;const{canvas:i,currentDevicePixelRatio:n}=t,s=ni(i),a="border-box"===s.boxSizing,o=ai(s,"padding"),r=ai(s,"border","width"),{x:l,y:c,box:h}=function(e,t){const i=e.touches,n=i&&i.length?i[0]:e,{offsetX:s,offsetY:a}=n;let o,r,l=!1;if(oi(s,a,e.target))o=s,r=a;else{const e=t.getBoundingClientRect();o=n.clientX-e.left,r=n.clientY-e.top,l=!0}return{x:o,y:r,box:l}}(e,i),d=o.left+(h&&r.left),u=o.top+(h&&r.top);let{width:f,height:p}=t;return a&&(f-=o.width+r.width,p-=o.height+r.height),{x:Math.round((l-d)/f*i.width/n),y:Math.round((c-u)/p*i.height/n)}}const li=e=>Math.round(10*e)/10;function ci(e,t,i){const n=t||1,s=Math.floor(e.height*n),a=Math.floor(e.width*n);e.height=Math.floor(e.height),e.width=Math.floor(e.width);const o=e.canvas;return o.style&&(i||!o.style.height&&!o.style.width)&&(o.style.height=`${e.height}px`,o.style.width=`${e.width}px`),(e.currentDevicePixelRatio!==n||o.height!==s||o.width!==a)&&(e.currentDevicePixelRatio=n,o.height=s,o.width=a,e.ctx.setTransform(n,0,0,n,0,0),!0)}const hi=function(){let e=!1;try{const t={get passive(){return e=!0,!1}};ei()&&(window.addEventListener("test",null,t),window.removeEventListener("test",null,t))}catch(e){}return e}();function di(e,t){const i=function(e,t){return ni(e).getPropertyValue(t)}(e,t),n=i&&i.match(/^(\d+)(\.\d+)?px$/);return n?+n[1]:void 0}function ui(e,t,i){return e?function(e,t){return{x(i){return e+e+t-i},setWidth(e){t=e},textAlign(e){return"center"===e?e:"right"===e?"left":"right"},xPlus(e,t){return e-t},leftForLtr(e,t){return e-t}}}(t,i):{x(e){return e},setWidth(e){},textAlign(e){return e},xPlus(e,t){return e+t},leftForLtr(e,t){return e}}}function fi(e,t){let i,n;"ltr"!==t&&"rtl"!==t||(i=e.canvas.style,n=[i.getPropertyValue("direction"),i.getPropertyPriority("direction")],i.setProperty("direction",t,"important"),e.prevTextDirection=n)}function pi(e,t){void 0!==t&&(delete e.prevTextDirection,e.canvas.style.setProperty("direction",t[0],t[1]))}function gi(e,t,i){return e.options.clip?e[i]:t[i]}class mi{constructor(){this._request=null,this._charts=new Map,this._running=!1,this._lastDate=void 0}_notify(e,t,i,n){const s=t.listeners[n],a=t.duration;s.forEach((n=>n({chart:e,initial:t.initial,numSteps:a,currentStep:Math.min(i-t.start,a)})))}_refresh(){this._request||(this._running=!0,this._request=Qe.call(window,(()=>{this._update(),this._request=null,this._running&&this._refresh()})))}_update(e=Date.now()){let t=0;this._charts.forEach(((i,n)=>{if(!i.running||!i.items.length)return;const s=i.items;let a,o=s.length-1,r=!1;for(;o>=0;--o)a=s[o],a._active?(a._total>i.duration&&(i.duration=a._total),a.tick(e),r=!0):(s[o]=s[s.length-1],s.pop());r&&(n.draw(),this._notify(n,i,e,"progress")),s.length||(i.running=!1,this._notify(n,i,e,"complete"),i.initial=!1),t+=s.length})),this._lastDate=e,0===t&&(this._running=!1)}_getAnims(e){const t=this._charts;let i=t.get(e);return i||(i={running:!1,initial:!0,items:[],listeners:{complete:[],progress:[]}},t.set(e,i)),i}listen(e,t,i){this._getAnims(e).listeners[t].push(i)}add(e,t){t&&t.length&&this._getAnims(e).items.push(...t)}has(e){return this._getAnims(e).items.length>0}start(e){const t=this._charts.get(e);t&&(t.running=!0,t.start=Date.now(),t.duration=t.items.reduce(((e,t)=>Math.max(e,t._duration)),0),this._refresh())}running(e){if(!this._running)return!1;const t=this._charts.get(e);return!!(t&&t.running&&t.items.length)}stop(e){const t=this._charts.get(e);if(!t||!t.items.length)return;const i=t.items;let n=i.length-1;for(;n>=0;--n)i[n].cancel();t.items=[],this._notify(e,t,Date.now(),"complete")}remove(e){return this._charts.delete(e)}}var yi=new mi;const bi="transparent",vi={boolean(e,t,i){return i>.5?t:e},color(e,t,i){const n=st(e||bi),s=n.valid&&st(t||bi);return s&&s.valid?s.mix(n,i).hexString():t},number(e,t,i){return e+(t-e)*i}};class _i{constructor(e,t,i,n){const s=t[i];n=Ft([e.to,n,s,e.from]);const a=Ft([e.from,s,n]);this._active=!0,this._fn=e.fn||vi[e.type||typeof a],this._easing=it[e.easing]||it.linear,this._start=Math.floor(Date.now()+(e.delay||0)),this._duration=this._total=Math.floor(e.duration),this._loop=!!e.loop,this._target=t,this._prop=i,this._from=a,this._to=n,this._promises=void 0}active(){return this._active}update(e,t,i){if(this._active){this._notify(!1);const n=this._target[this._prop],s=i-this._start,a=this._duration-s;this._start=i,this._duration=Math.floor(Math.max(a,e.duration)),this._total+=s,this._loop=!!e.loop,this._to=Ft([e.to,t,n,e.from]),this._from=Ft([e.from,n,t])}}cancel(){this._active&&(this.tick(Date.now()),this._active=!1,this._notify(!1))}tick(e){const t=e-this._start,i=this._duration,n=this._prop,s=this._from,a=this._loop,o=this._to;let r;if(this._active=s!==o&&(a||t<i),!this._active)return this._target[n]=o,void this._notify(!0);t<0?this._target[n]=s:(r=t/i%2,r=a&&r>1?2-r:r,r=this._easing(Math.min(1,Math.max(0,r))),this._target[n]=this._fn(s,o,r))}wait(){const e=this._promises||(this._promises=[]);return new Promise(((t,i)=>{e.push({res:t,rej:i})}))}_notify(e){const t=e?"res":"rej",i=this._promises||[];for(let e=0;e<i.length;e++)i[e][t]()}}class xi{constructor(e,t){this._chart=e,this._properties=new Map,this.configure(t)}configure(e){if(!le(e))return;const t=Object.keys(yt.animation),i=this._properties;Object.getOwnPropertyNames(e).forEach((n=>{const s=e[n];if(!le(s))return;const a={};for(const e of t)a[e]=s[e];(re(s.properties)&&s.properties||[n]).forEach((e=>{e!==n&&i.has(e)||i.set(e,a)}))}))}_animateOptions(e,t){const i=t.options,n=function(e,t){if(!t)return;let i=e.options;if(i)return i.$shared&&(e.options=i=Object.assign({},i,{$shared:!1,$animations:{}})),i;e.options=t}(e,i);if(!n)return[];const s=this._createAnimations(n,i);return i.$shared&&function(e,t){const i=[],n=Object.keys(t);for(let t=0;t<n.length;t++){const s=e[n[t]];s&&s.active()&&i.push(s.wait())}return Promise.all(i)}(e.options.$animations,i).then((()=>{e.options=i}),(()=>{})),s}_createAnimations(e,t){const i=this._properties,n=[],s=e.$animations||(e.$animations={}),a=Object.keys(t),o=Date.now();let r;for(r=a.length-1;r>=0;--r){const l=a[r];if("$"===l.charAt(0))continue;if("options"===l){n.push(...this._animateOptions(e,t));continue}const c=t[l];let h=s[l];const d=i.get(l);if(h){if(d&&h.active()){h.update(d,c,o);continue}h.cancel()}d&&d.duration?(s[l]=h=new _i(d,e,l,c),n.push(h)):e[l]=c}return n}update(e,t){if(0===this._properties.size)return void Object.assign(e,t);const i=this._createAnimations(e,t);return i.length?(yi.add(this._chart,i),!0):void 0}}function wi(e,t){const i=e&&e.options||{},n=i.reverse,s=void 0===i.min?t:0,a=void 0===i.max?t:0;return{start:n?a:s,end:n?s:a}}function Ei(e,t){const i=[],n=e._getSortedDatasetMetas(t);let s,a;for(s=0,a=n.length;s<a;++s)i.push(n[s].index);return i}function ki(e,t,i,n={}){const s=e.keys,a="single"===n.mode;let o,r,l,c;if(null===t)return;let h=!1;for(o=0,r=s.length;o<r;++o){if(l=+s[o],l===i){if(h=!0,n.all)continue;break}c=e.values[l],ce(c)&&(a||0===t||Oe(t)===Oe(c))&&(t+=c)}return h||n.all?t:0}function Si(e,t){const i=e&&e.options.stacked;return i||void 0===i&&void 0!==t.stack}function Mi(e,t,i){const n=e[t]||(e[t]={});return n[i]||(n[i]={})}function Ci(e,t,i,n){for(const s of t.getMatchingVisibleMetas(n).reverse()){const t=e[s.index];if(i&&t>0||!i&&t<0)return s.index}return null}function Pi(e,t){const{chart:i,_cachedMeta:n}=e,s=i._stacks||(i._stacks={}),{iScale:a,vScale:o,index:r}=n,l=a.axis,c=o.axis,h=function(e,t,i){return`${e.id}.${t.id}.${i.stack||i.type}`}(a,o,n),d=t.length;let u;for(let e=0;e<d;++e){const i=t[e],{[l]:a,[c]:d}=i;u=(i._stacks||(i._stacks={}))[c]=Mi(s,h,a),u[r]=d,u._top=Ci(u,o,!0,n.type),u._bottom=Ci(u,o,!1,n.type),(u._visualValues||(u._visualValues={}))[r]=d}}function Ai(e,t){const i=e.scales;return Object.keys(i).filter((e=>i[e].axis===t)).shift()}function Ii(e,t){const i=e.controller.index,n=e.vScale&&e.vScale.axis;if(n){t=t||e._parsed;for(const e of t){const t=e._stacks;if(!t||void 0===t[n]||void 0===t[n][i])return;delete t[n][i],void 0!==t[n]._visualValues&&void 0!==t[n]._visualValues[i]&&delete t[n]._visualValues[i]}}}const Di=e=>"reset"===e||"none"===e,Ti=(e,t)=>t?e:Object.assign({},e);class Bi{static defaults={};static datasetElementType=null;static dataElementType=null;constructor(e,t){this.chart=e,this._ctx=e.ctx,this.index=t,this._cachedDataOpts={},this._cachedMeta=this.getMeta(),this._type=this._cachedMeta.type,this.options=void 0,this._parsing=!1,this._data=void 0,this._objectData=void 0,this._sharedOptions=void 0,this._drawStart=void 0,this._drawCount=void 0,this.enableOptionSharing=!1,this.supportsDecimation=!1,this.$context=void 0,this._syncList=[],this.datasetElementType=new.target.datasetElementType,this.dataElementType=new.target.dataElementType,this.initialize()}initialize(){const e=this._cachedMeta;this.configure(),this.linkScales(),e._stacked=Si(e.vScale,e),this.addElements(),this.options.fill&&!this.chart.isPluginEnabled("filler")&&console.warn("Tried to use the 'fill' option without the 'Filler' plugin enabled. Please import and register the 'Filler' plugin and make sure it is not disabled in the options")}updateIndex(e){this.index!==e&&Ii(this._cachedMeta),this.index=e}linkScales(){const e=this.chart,t=this._cachedMeta,i=this.getDataset(),n=(e,t,i,n)=>"x"===e?t:"r"===e?n:i,s=t.xAxisID=de(i.xAxisID,Ai(e,"x")),a=t.yAxisID=de(i.yAxisID,Ai(e,"y")),o=t.rAxisID=de(i.rAxisID,Ai(e,"r")),r=t.indexAxis,l=t.iAxisID=n(r,s,a,o),c=t.vAxisID=n(r,a,s,o);t.xScale=this.getScaleForId(s),t.yScale=this.getScaleForId(a),t.rScale=this.getScaleForId(o),t.iScale=this.getScaleForId(l),t.vScale=this.getScaleForId(c)}getDataset(){return this.chart.data.datasets[this.index]}getMeta(){return this.chart.getDatasetMeta(this.index)}getScaleForId(e){return this.chart.scales[e]}_getOtherScale(e){const t=this._cachedMeta;return e===t.iScale?t.vScale:t.iScale}reset(){this._update("reset")}_destroy(){const e=this._cachedMeta;this._data&&Ke(this._data,this),e._stacked&&Ii(e)}_dataCheck(){const e=this.getDataset(),t=e.data||(e.data=[]),i=this._data;if(le(t)){const e=this._cachedMeta;this._data=function(e,t){const{iScale:i,vScale:n}=t,s="x"===i.axis?"x":"y",a="x"===n.axis?"x":"y",o=Object.keys(e),r=new Array(o.length);let l,c,h;for(l=0,c=o.length;l<c;++l)h=o[l],r[l]={[s]:h,[a]:e[h]};return r}(t,e)}else if(i!==t){if(i){Ke(i,this);const e=this._cachedMeta;Ii(e),e._parsed=[]}t&&Object.isExtensible(t)&&((n=t)._chartjs?n._chartjs.listeners.push(this):(Object.defineProperty(n,"_chartjs",{configurable:!0,enumerable:!1,value:{listeners:[this]}}),qe.forEach((e=>{const t="_onData"+Ee(e),i=n[e];Object.defineProperty(n,e,{configurable:!0,enumerable:!1,value(...e){const s=i.apply(this,e);return n._chartjs.listeners.forEach((i=>{"function"==typeof i[t]&&i[t](...e)})),s}})})))),this._syncList=[],this._data=t}var n}addElements(){const e=this._cachedMeta;this._dataCheck(),this.datasetElementType&&(e.dataset=new this.datasetElementType)}buildOrUpdateElements(e){const t=this._cachedMeta,i=this.getDataset();let n=!1;this._dataCheck();const s=t._stacked;t._stacked=Si(t.vScale,t),t.stack!==i.stack&&(n=!0,Ii(t),t.stack=i.stack),this._resyncElements(e),(n||s!==t._stacked)&&(Pi(this,t._parsed),t._stacked=Si(t.vScale,t))}configure(){const e=this.chart.config,t=e.datasetScopeKeys(this._type),i=e.getOptionScopes(this.getDataset(),t,!0);this.options=e.createResolver(i,this.getContext()),this._parsing=this.options.parsing,this._cachedDataOpts={}}parse(e,t){const{_cachedMeta:i,_data:n}=this,{iScale:s,_stacked:a}=i,o=s.axis;let r,l,c,h=0===e&&t===n.length||i._sorted,d=e>0&&i._parsed[e-1];if(!1===this._parsing)i._parsed=n,i._sorted=!0,c=n;else{c=re(n[e])?this.parseArrayData(i,n,e,t):le(n[e])?this.parseObjectData(i,n,e,t):this.parsePrimitiveData(i,n,e,t);const s=()=>null===l[o]||d&&l[o]<d[o];for(r=0;r<t;++r)i._parsed[r+e]=l=c[r],h&&(s()&&(h=!1),d=l);i._sorted=h}a&&Pi(this,c)}parsePrimitiveData(e,t,i,n){const{iScale:s,vScale:a}=e,o=s.axis,r=a.axis,l=s.getLabels(),c=s===a,h=new Array(n);let d,u,f;for(d=0,u=n;d<u;++d)f=d+i,h[d]={[o]:c||s.parse(l[f],f),[r]:a.parse(t[f],f)};return h}parseArrayData(e,t,i,n){const{xScale:s,yScale:a}=e,o=new Array(n);let r,l,c,h;for(r=0,l=n;r<l;++r)c=r+i,h=t[c],o[r]={x:s.parse(h[0],c),y:a.parse(h[1],c)};return o}parseObjectData(e,t,i,n){const{xScale:s,yScale:a}=e,{xAxisKey:o="x",yAxisKey:r="y"}=this._parsing,l=new Array(n);let c,h,d,u;for(c=0,h=n;c<h;++c)d=c+i,u=t[d],l[c]={x:s.parse(we(u,o),d),y:a.parse(we(u,r),d)};return l}getParsed(e){return this._cachedMeta._parsed[e]}getDataElement(e){return this._cachedMeta.data[e]}applyStack(e,t,i){const n=this.chart,s=this._cachedMeta,a=t[e.axis];return ki({keys:Ei(n,!0),values:t._stacks[e.axis]._visualValues},a,s.index,{mode:i})}updateRangeFromParsed(e,t,i,n){const s=i[t.axis];let a=null===s?NaN:s;const o=n&&i._stacks[t.axis];n&&o&&(n.values=o,a=ki(n,s,this._cachedMeta.index)),e.min=Math.min(e.min,a),e.max=Math.max(e.max,a)}getMinMax(e,t){const i=this._cachedMeta,n=i._parsed,s=i._sorted&&e===i.iScale,a=n.length,o=this._getOtherScale(e),r=((e,t,i)=>e&&!t.hidden&&t._stacked&&{keys:Ei(i,!0),values:null})(t,i,this.chart),l={min:Number.POSITIVE_INFINITY,max:Number.NEGATIVE_INFINITY},{min:c,max:h}=function(e){const{min:t,max:i,minDefined:n,maxDefined:s}=e.getUserBounds();return{min:n?t:Number.NEGATIVE_INFINITY,max:s?i:Number.POSITIVE_INFINITY}}(o);let d,u;function f(){u=n[d];const t=u[o.axis];return!ce(u[e.axis])||c>t||h<t}for(d=0;d<a&&(f()||(this.updateRangeFromParsed(l,e,u,r),!s));++d);if(s)for(d=a-1;d>=0;--d)if(!f()){this.updateRangeFromParsed(l,e,u,r);break}return l}getAllParsedValues(e){const t=this._cachedMeta._parsed,i=[];let n,s,a;for(n=0,s=t.length;n<s;++n)a=t[n][e.axis],ce(a)&&i.push(a);return i}getMaxOverflow(){return!1}getLabelAndValue(e){const t=this._cachedMeta,i=t.iScale,n=t.vScale,s=this.getParsed(e);return{label:i?""+i.getLabelForValue(s[i.axis]):"",value:n?""+n.getLabelForValue(s[n.axis]):""}}_update(e){const t=this._cachedMeta;this.update(e||"default"),t._clip=function(e){let t,i,n,s;return le(e)?(t=e.top,i=e.right,n=e.bottom,s=e.left):t=i=n=s=e,{top:t,right:i,bottom:n,left:s,disabled:!1===e}}(de(this.options.clip,function(e,t,i){if(!1===i)return!1;const n=wi(e,i),s=wi(t,i);return{top:s.end,right:n.end,bottom:s.start,left:n.start}}(t.xScale,t.yScale,this.getMaxOverflow())))}update(e){}draw(){const e=this._ctx,t=this.chart,i=this._cachedMeta,n=i.data||[],s=t.chartArea,a=[],o=this._drawStart||0,r=this._drawCount||n.length-o,l=this.options.drawActiveElementsOnTop;let c;for(i.dataset&&i.dataset.draw(e,s,o,r),c=o;c<o+r;++c){const t=n[c];t.hidden||(t.active&&l?a.push(t):t.draw(e,s))}for(c=0;c<a.length;++c)a[c].draw(e,s)}getStyle(e,t){const i=t?"active":"default";return void 0===e&&this._cachedMeta.dataset?this.resolveDatasetElementOptions(i):this.resolveDataElementOptions(e||0,i)}getContext(e,t,i){const n=this.getDataset();let s;if(e>=0&&e<this._cachedMeta.data.length){const t=this._cachedMeta.data[e];s=t.$context||(t.$context=function(e,t,i){return Ht(e,{active:!1,dataIndex:t,parsed:void 0,raw:void 0,element:i,index:t,mode:"default",type:"data"})}(this.getContext(),e,t)),s.parsed=this.getParsed(e),s.raw=n.data[e],s.index=s.dataIndex=e}else s=this.$context||(this.$context=function(e,t){return Ht(e,{active:!1,dataset:void 0,datasetIndex:t,index:t,mode:"default",type:"dataset"})}(this.chart.getContext(),this.index)),s.dataset=n,s.index=s.datasetIndex=this.index;return s.active=!!t,s.mode=i,s}resolveDatasetElementOptions(e){return this._resolveElementOptions(this.datasetElementType.id,e)}resolveDataElementOptions(e,t){return this._resolveElementOptions(this.dataElementType.id,t,e)}_resolveElementOptions(e,t="default",i){const n="active"===t,s=this._cachedDataOpts,a=e+"-"+t,o=s[a],r=this.enableOptionSharing&&ke(i);if(o)return Ti(o,r);const l=this.chart.config,c=l.datasetElementScopeKeys(this._type,e),h=n?[`${e}Hover`,"hover",e,""]:[e,""],d=l.getOptionScopes(this.getDataset(),c),u=Object.keys(yt.elements[e]),f=l.resolveNamedOptions(d,u,(()=>this.getContext(i,n,t)),h);return f.$shared&&(f.$shared=r,s[a]=Object.freeze(Ti(f,r))),f}_resolveAnimations(e,t,i){const n=this.chart,s=this._cachedDataOpts,a=`animation-${t}`,o=s[a];if(o)return o;let r;if(!1!==n.options.animation){const n=this.chart.config,s=n.datasetAnimationScopeKeys(this._type,t),a=n.getOptionScopes(this.getDataset(),s);r=n.createResolver(a,this.getContext(e,i,t))}const l=new xi(n,r&&r.animations);return r&&r._cacheable&&(s[a]=Object.freeze(l)),l}getSharedOptions(e){if(e.$shared)return this._sharedOptions||(this._sharedOptions=Object.assign({},e))}includeOptions(e,t){return!t||Di(e)||this.chart._animationsDisabled}_getSharedOptions(e,t){const i=this.resolveDataElementOptions(e,t),n=this._sharedOptions,s=this.getSharedOptions(i),a=this.includeOptions(t,s)||s!==n;return this.updateSharedOptions(s,t,i),{sharedOptions:s,includeOptions:a}}updateElement(e,t,i,n){Di(n)?Object.assign(e,i):this._resolveAnimations(t,n).update(e,i)}updateSharedOptions(e,t,i){e&&!Di(t)&&this._resolveAnimations(void 0,t).update(e,i)}_setStyle(e,t,i,n){e.active=n;const s=this.getStyle(t,n);this._resolveAnimations(t,i,n).update(e,{options:!n&&this.getSharedOptions(s)||s})}removeHoverStyle(e,t,i){this._setStyle(e,i,"active",!1)}setHoverStyle(e,t,i){this._setStyle(e,i,"active",!0)}_removeDatasetHoverStyle(){const e=this._cachedMeta.dataset;e&&this._setStyle(e,void 0,"active",!1)}_setDatasetHoverStyle(){const e=this._cachedMeta.dataset;e&&this._setStyle(e,void 0,"active",!0)}_resyncElements(e){const t=this._data,i=this._cachedMeta.data;for(const[e,t,i]of this._syncList)this[e](t,i);this._syncList=[];const n=i.length,s=t.length,a=Math.min(s,n);a&&this.parse(0,a),s>n?this._insertElements(n,s-n,e):s<n&&this._removeElements(s,n-s)}_insertElements(e,t,i=!0){const n=this._cachedMeta,s=n.data,a=e+t;let o;const r=e=>{for(e.length+=t,o=e.length-1;o>=a;o--)e[o]=e[o-t]};for(r(s),o=e;o<a;++o)s[o]=new this.dataElementType;this._parsing&&r(n._parsed),this.parse(e,t),i&&this.updateElements(s,e,t,"reset")}updateElements(e,t,i,n){}_removeElements(e,t){const i=this._cachedMeta;if(this._parsing){const n=i._parsed.splice(e,t);i._stacked&&Ii(i,n)}i.data.splice(e,t)}_sync(e){if(this._parsing)this._syncList.push(e);else{const[t,i,n]=e;this[t](i,n)}this.chart._dataChanges.push([this.index,...e])}_onDataPush(){const e=arguments.length;this._sync(["_insertElements",this.getDataset().data.length-e,e])}_onDataPop(){this._sync(["_removeElements",this._cachedMeta.data.length-1,1])}_onDataShift(){this._sync(["_removeElements",0,1])}_onDataSplice(e,t){t&&this._sync(["_removeElements",e,t]);const i=arguments.length-2;i&&this._sync(["_insertElements",e,i])}_onDataUnshift(){this._sync(["_insertElements",0,arguments.length])}}function Ni(e){const t=e.iScale,i=function(e,t){if(!e._cache.$bar){const i=e.getMatchingVisibleMetas(t);let n=[];for(let t=0,s=i.length;t<s;t++)n=n.concat(i[t].controller.getAllParsedValues(e));e._cache.$bar=function(e){const t=new Set(e);return t.size===e.length?e:Array.from(t)}(n.sort(((e,t)=>e-t)))}return e._cache.$bar}(t,e.type);let n,s,a,o,r=t._length;const l=()=>{32767!==a&&-32768!==a&&(ke(o)&&(r=Math.min(r,Math.abs(a-o)||r)),o=a)};for(n=0,s=i.length;n<s;++n)a=t.getPixelForValue(i[n]),l();for(o=void 0,n=0,s=t.ticks.length;n<s;++n)a=t.getPixelForTick(n),l();return r}function Oi(e,t,i,n){return re(e)?function(e,t,i,n){const s=i.parse(e[0],n),a=i.parse(e[1],n),o=Math.min(s,a),r=Math.max(s,a);let l=o,c=r;Math.abs(o)>Math.abs(r)&&(l=r,c=o),t[i.axis]=c,t._custom={barStart:l,barEnd:c,start:s,end:a,min:o,max:r}}(e,t,i,n):t[i.axis]=i.parse(e,n),t}function Li(e,t,i,n){const s=e.iScale,a=e.vScale,o=s.getLabels(),r=s===a,l=[];let c,h,d,u;for(c=i,h=i+n;c<h;++c)u=t[c],d={},d[s.axis]=r||s.parse(o[c],c),l.push(Oi(u,d,a,c));return l}function Ri(e){return e&&void 0!==e.barStart&&void 0!==e.barEnd}function ji(e,t,i,n){let s=t.borderSkipped;const a={};if(!s)return void(e.borderSkipped=a);if(!0===s)return void(e.borderSkipped={top:!0,right:!0,bottom:!0,left:!0});const{start:o,end:r,reverse:l,top:c,bottom:h}=function(e){let t,i,n,s,a;return e.horizontal?(t=e.base>e.x,i="left",n="right"):(t=e.base<e.y,i="bottom",n="top"),t?(s="end",a="start"):(s="start",a="end"),{start:i,end:n,reverse:t,top:s,bottom:a}}(e);"middle"===s&&i&&(e.enableBorderRadius=!0,(i._top||0)===n?s=c:(i._bottom||0)===n?s=h:(a[Fi(h,o,r,l)]=!0,s=c)),a[Fi(s,o,r,l)]=!0,e.borderSkipped=a}function Fi(e,t,i,n){var s,a,o;return n?(o=i,e=Hi(e=(s=e)===(a=t)?o:s===o?a:s,i,t)):e=Hi(e,t,i),e}function Hi(e,t,i){return"start"===e?t:"end"===e?i:e}function zi(e,{inflateAmount:t},i){e.inflateAmount="auto"===t?1===i?.33:0:t}function Vi(e,t,i,n){const{controller:s,data:a,_sorted:o}=e,r=s._cachedMeta.iScale,l=e.dataset&&e.dataset.options?e.dataset.options.spanGaps:null;if(r&&t===r.axis&&"r"!==t&&o&&a.length){const o=r._reversePixels?Ye:$e;if(!n){const n=o(a,t,i);if(l){const{vScale:t}=s._cachedMeta,{_parsed:i}=e,a=i.slice(0,n.lo+1).reverse().findIndex((e=>!oe(e[t.axis])));n.lo-=Math.max(0,a);const o=i.slice(n.hi).findIndex((e=>!oe(e[t.axis])));n.hi+=Math.max(0,o)}return n}if(s._sharedOptions){const e=a[0],n="function"==typeof e.getRange&&e.getRange(t);if(n){const e=o(a,t,i-n),s=o(a,t,i+n);return{lo:e.lo,hi:s.hi}}}}return{lo:0,hi:a.length-1}}function Wi(e,t,i,n,s){const a=e.getSortedVisibleDatasetMetas(),o=i[t];for(let e=0,i=a.length;e<i;++e){const{index:i,data:r}=a[e],{lo:l,hi:c}=Vi(a[e],t,o,s);for(let e=l;e<=c;++e){const t=r[e];t.skip||n(t,i,e)}}}function Ui(e,t,i,n,s){const a=[];return s||e.isPointInArea(t)?(Wi(e,i,t,(function(i,o,r){(s||Et(i,e.chartArea,0))&&i.inRange(t.x,t.y,n)&&a.push({element:i,datasetIndex:o,index:r})}),!0),a):a}function $i(e,t,i,n,s,a){return a||e.isPointInArea(t)?"r"!==i||n?function(e,t,i,n,s,a){let o=[];const r=function(e){const t=-1!==e.indexOf("x"),i=-1!==e.indexOf("y");return function(e,n){const s=t?Math.abs(e.x-n.x):0,a=i?Math.abs(e.y-n.y):0;return Math.sqrt(Math.pow(s,2)+Math.pow(a,2))}}(i);let l=Number.POSITIVE_INFINITY;return Wi(e,i,t,(function(i,c,h){const d=i.inRange(t.x,t.y,s);if(n&&!d)return;const u=i.getCenterPoint(s);if(!a&&!e.isPointInArea(u)&&!d)return;const f=r(t,u);f<l?(o=[{element:i,datasetIndex:c,index:h}],l=f):f===l&&o.push({element:i,datasetIndex:c,index:h})})),o}(e,t,i,n,s,a):function(e,t,i,n){let s=[];return Wi(e,i,t,(function(e,i,a){const{startAngle:o,endAngle:r}=e.getProps(["startAngle","endAngle"],n),{angle:l}=function(e,t){const i=t.x-e.x,n=t.y-e.y,s=Math.sqrt(i*i+n*n);let a=Math.atan2(n,i);return a<-.5*Ce&&(a+=Pe),{angle:a,distance:s}}(e,{x:t.x,y:t.y});(function(e,t,i,n){const s=ze(e),a=ze(t),o=ze(i),r=ze(a-s),l=ze(o-s),c=ze(s-a),h=ze(s-o);return s===a||s===o||n&&a===o||r>l&&c<h})(l,o,r)&&s.push({element:e,datasetIndex:i,index:a})})),s}(e,t,i,s):[]}function Yi(e,t,i,n,s){const a=[],o="x"===i?"inXRange":"inYRange";let r=!1;return Wi(e,i,t,((e,n,l)=>{e[o]&&e[o](t[i],s)&&(a.push({element:e,datasetIndex:n,index:l}),r=r||e.inRange(t.x,t.y,s))})),n&&!r?[]:a}var qi={evaluateInteractionItems:Wi,modes:{index(e,t,i,n){const s=ri(t,e),a=i.axis||"x",o=i.includeInvisible||!1,r=i.intersect?Ui(e,s,a,n,o):$i(e,s,a,!1,n,o),l=[];return r.length?(e.getSortedVisibleDatasetMetas().forEach((e=>{const t=r[0].index,i=e.data[t];i&&!i.skip&&l.push({element:i,datasetIndex:e.index,index:t})})),l):[]},dataset(e,t,i,n){const s=ri(t,e),a=i.axis||"xy",o=i.includeInvisible||!1;let r=i.intersect?Ui(e,s,a,n,o):$i(e,s,a,!1,n,o);if(r.length>0){const t=r[0].datasetIndex,i=e.getDatasetMeta(t).data;r=[];for(let e=0;e<i.length;++e)r.push({element:i[e],datasetIndex:t,index:e})}return r},point(e,t,i,n){return Ui(e,ri(t,e),i.axis||"xy",n,i.includeInvisible||!1)},nearest(e,t,i,n){const s=ri(t,e),a=i.axis||"xy",o=i.includeInvisible||!1;return $i(e,s,a,i.intersect,n,o)},x(e,t,i,n){return Yi(e,ri(t,e),"x",i.intersect,n)},y(e,t,i,n){return Yi(e,ri(t,e),"y",i.intersect,n)}}};const Ki=["left","top","right","bottom"];function Qi(e,t){return e.filter((e=>e.pos===t))}function Xi(e,t){return e.filter((e=>-1===Ki.indexOf(e.pos)&&e.box.axis===t))}function Gi(e,t){return e.sort(((e,i)=>{const n=t?i:e,s=t?e:i;return n.weight===s.weight?n.index-s.index:n.weight-s.weight}))}function Zi(e,t,i,n){return Math.max(e[i],t[i])+Math.max(e[n],t[n])}function Ji(e,t){e.top=Math.max(e.top,t.top),e.left=Math.max(e.left,t.left),e.bottom=Math.max(e.bottom,t.bottom),e.right=Math.max(e.right,t.right)}function en(e,t,i,n){const{pos:s,box:a}=i,o=e.maxPadding;if(!le(s)){i.size&&(e[s]-=i.size);const t=n[i.stack]||{size:0,count:1};t.size=Math.max(t.size,i.horizontal?a.height:a.width),i.size=t.size/t.count,e[s]+=i.size}a.getPadding&&Ji(o,a.getPadding());const r=Math.max(0,t.outerWidth-Zi(o,e,"left","right")),l=Math.max(0,t.outerHeight-Zi(o,e,"top","bottom")),c=r!==e.w,h=l!==e.h;return e.w=r,e.h=l,i.horizontal?{same:c,other:h}:{same:h,other:c}}function tn(e,t){const i=t.maxPadding;return function(e){const n={left:0,top:0,right:0,bottom:0};return e.forEach((e=>{n[e]=Math.max(t[e],i[e])})),n}(e?["left","right"]:["top","bottom"])}function nn(e,t,i,n){const s=[];let a,o,r,l,c,h;for(a=0,o=e.length,c=0;a<o;++a){r=e[a],l=r.box,l.update(r.width||t.w,r.height||t.h,tn(r.horizontal,t));const{same:o,other:d}=en(t,i,r,n);c|=o&&s.length,h=h||d,l.fullSize||s.push(r)}return c&&nn(s,t,i,n)||h}function sn(e,t,i,n,s){e.top=i,e.left=t,e.right=t+n,e.bottom=i+s,e.width=n,e.height=s}function an(e,t,i,n){const s=i.padding;let{x:a,y:o}=t;for(const r of e){const e=r.box,l=n[r.stack]||{count:1,placed:0,weight:1},c=r.stackWeight/l.weight||1;if(r.horizontal){const n=t.w*c,a=l.size||e.height;ke(l.start)&&(o=l.start),e.fullSize?sn(e,s.left,o,i.outerWidth-s.right-s.left,a):sn(e,t.left+l.placed,o,n,a),l.start=o,l.placed+=n,o=e.bottom}else{const n=t.h*c,o=l.size||e.width;ke(l.start)&&(a=l.start),e.fullSize?sn(e,a,s.top,o,i.outerHeight-s.bottom-s.top):sn(e,a,t.top+l.placed,o,n),l.start=a,l.placed+=n,a=e.right}}t.x=a,t.y=o}var on={addBox(e,t){e.boxes||(e.boxes=[]),t.fullSize=t.fullSize||!1,t.position=t.position||"top",t.weight=t.weight||0,t._layers=t._layers||function(){return[{z:0,draw(e){t.draw(e)}}]},e.boxes.push(t)},removeBox(e,t){const i=e.boxes?e.boxes.indexOf(t):-1;-1!==i&&e.boxes.splice(i,1)},configure(e,t,i){t.fullSize=i.fullSize,t.position=i.position,t.weight=i.weight},update(e,t,i,n){if(!e)return;const s=Rt(e.options.layout.padding),a=Math.max(t-s.width,0),o=Math.max(i-s.height,0),r=function(e){const t=function(e){const t=[];let i,n,s,a,o,r;for(i=0,n=(e||[]).length;i<n;++i)s=e[i],({position:a,options:{stack:o,stackWeight:r=1}}=s),t.push({index:i,box:s,pos:a,horizontal:s.isHorizontal(),weight:s.weight,stack:o&&a+o,stackWeight:r});return t}(e),i=Gi(t.filter((e=>e.box.fullSize)),!0),n=Gi(Qi(t,"left"),!0),s=Gi(Qi(t,"right")),a=Gi(Qi(t,"top"),!0),o=Gi(Qi(t,"bottom")),r=Xi(t,"x"),l=Xi(t,"y");return{fullSize:i,leftAndTop:n.concat(a),rightAndBottom:s.concat(l).concat(o).concat(r),chartArea:Qi(t,"chartArea"),vertical:n.concat(s).concat(l),horizontal:a.concat(o).concat(r)}}(e.boxes),l=r.vertical,c=r.horizontal;fe(e.boxes,(e=>{"function"==typeof e.beforeLayout&&e.beforeLayout()}));const h=l.reduce(((e,t)=>t.box.options&&!1===t.box.options.display?e:e+1),0)||1,d=Object.freeze({outerWidth:t,outerHeight:i,padding:s,availableWidth:a,availableHeight:o,vBoxMaxWidth:a/2/h,hBoxMaxHeight:o/2}),u=Object.assign({},s);Ji(u,Rt(n));const f=Object.assign({maxPadding:u,w:a,h:o,x:s.left,y:s.top},s),p=function(e,t){const i=function(e){const t={};for(const i of e){const{stack:e,pos:n,stackWeight:s}=i;if(!e||!Ki.includes(n))continue;const a=t[e]||(t[e]={count:0,placed:0,weight:0,size:0});a.count++,a.weight+=s}return t}(e),{vBoxMaxWidth:n,hBoxMaxHeight:s}=t;let a,o,r;for(a=0,o=e.length;a<o;++a){r=e[a];const{fullSize:o}=r.box,l=i[r.stack],c=l&&r.stackWeight/l.weight;r.horizontal?(r.width=c?c*n:o&&t.availableWidth,r.height=s):(r.width=n,r.height=c?c*s:o&&t.availableHeight)}return i}(l.concat(c),d);nn(r.fullSize,f,d,p),nn(l,f,d,p),nn(c,f,d,p)&&nn(l,f,d,p),function(e){const t=e.maxPadding;function i(i){const n=Math.max(t[i]-e[i],0);return e[i]+=n,n}e.y+=i("top"),e.x+=i("left"),i("right"),i("bottom")}(f),an(r.leftAndTop,f,d,p),f.x+=f.w,f.y+=f.h,an(r.rightAndBottom,f,d,p),e.chartArea={left:f.left,top:f.top,right:f.left+f.w,bottom:f.top+f.h,height:f.h,width:f.w},fe(r.chartArea,(t=>{const i=t.box;Object.assign(i,e.chartArea),i.update(f.w,f.h,{left:0,top:0,right:0,bottom:0})}))}};class rn{acquireContext(e,t){}releaseContext(e){return!1}addEventListener(e,t,i){}removeEventListener(e,t,i){}getDevicePixelRatio(){return 1}getMaximumSize(e,t,i,n){return t=Math.max(0,t||e.width),i=i||e.height,{width:t,height:Math.max(0,n?Math.floor(t/n):i)}}isAttached(e){return!0}updateConfig(e){}}class ln extends rn{acquireContext(e){return e&&e.getContext&&e.getContext("2d")||null}updateConfig(e){e.options.animation=!1}}const cn="$chartjs",hn={touchstart:"mousedown",touchmove:"mousemove",touchend:"mouseup",pointerenter:"mouseenter",pointerdown:"mousedown",pointermove:"mousemove",pointerup:"mouseup",pointerleave:"mouseout",pointerout:"mouseout"},dn=e=>null===e||""===e,un=!!hi&&{passive:!0};function fn(e,t,i){e&&e.canvas&&e.canvas.removeEventListener(t,i,un)}function pn(e,t){for(const i of e)if(i===t||i.contains(t))return!0}function gn(e,t,i){const n=e.canvas,s=new MutationObserver((e=>{let t=!1;for(const i of e)t=t||pn(i.addedNodes,n),t=t&&!pn(i.removedNodes,n);t&&i()}));return s.observe(document,{childList:!0,subtree:!0}),s}function mn(e,t,i){const n=e.canvas,s=new MutationObserver((e=>{let t=!1;for(const i of e)t=t||pn(i.removedNodes,n),t=t&&!pn(i.addedNodes,n);t&&i()}));return s.observe(document,{childList:!0,subtree:!0}),s}const yn=new Map;let bn=0;function vn(){const e=window.devicePixelRatio;e!==bn&&(bn=e,yn.forEach(((t,i)=>{i.currentDevicePixelRatio!==e&&t()})))}function xn(e,t,i){const n=e.canvas,s=n&&ti(n);if(!s)return;const a=Xe(((e,t)=>{const n=s.clientWidth;i(e,t),n<s.clientWidth&&i()}),window),o=new ResizeObserver((e=>{const t=e[0],i=t.contentRect.width,n=t.contentRect.height;0===i&&0===n||a(i,n)}));return o.observe(s),function(e,t){yn.size||window.addEventListener("resize",vn),yn.set(e,t)}(e,a),o}function wn(e,t,i){i&&i.disconnect(),"resize"===t&&function(e){yn.delete(e),yn.size||window.removeEventListener("resize",vn)}(e)}function En(e,t,i){const n=e.canvas,s=Xe((t=>{null!==e.ctx&&i(function(e,t){const i=hn[e.type]||e.type,{x:n,y:s}=ri(e,t);return{type:i,chart:t,native:e,x:void 0!==n?n:null,y:void 0!==s?s:null}}(t,e))}),e);return function(e,t,i){e&&e.addEventListener(t,i,un)}(n,t,s),s}class kn extends rn{acquireContext(e,t){const i=e&&e.getContext&&e.getContext("2d");return i&&i.canvas===e?(function(e,t){const i=e.style,n=e.getAttribute("height"),s=e.getAttribute("width");if(e[cn]={initial:{height:n,width:s,style:{display:i.display,height:i.height,width:i.width}}},i.display=i.display||"block",i.boxSizing=i.boxSizing||"border-box",dn(s)){const t=di(e,"width");void 0!==t&&(e.width=t)}if(dn(n))if(""===e.style.height)e.height=e.width/(t||2);else{const t=di(e,"height");void 0!==t&&(e.height=t)}}(e,t),i):null}releaseContext(e){const t=e.canvas;if(!t[cn])return!1;const i=t[cn].initial;["height","width"].forEach((e=>{const n=i[e];oe(n)?t.removeAttribute(e):t.setAttribute(e,n)}));const n=i.style||{};return Object.keys(n).forEach((e=>{t.style[e]=n[e]})),t.width=t.width,delete t[cn],!0}addEventListener(e,t,i){this.removeEventListener(e,t);const n=e.$proxies||(e.$proxies={}),s={attach:gn,detach:mn,resize:xn}[t]||En;n[t]=s(e,t,i)}removeEventListener(e,t){const i=e.$proxies||(e.$proxies={}),n=i[t];n&&(({attach:wn,detach:wn,resize:wn}[t]||fn)(e,t,n),i[t]=void 0)}getDevicePixelRatio(){return window.devicePixelRatio}getMaximumSize(e,t,i,n){return function(e,t,i,n){const s=ni(e),a=ai(s,"margin"),o=ii(s.maxWidth,e,"clientWidth")||Ae,r=ii(s.maxHeight,e,"clientHeight")||Ae,l=function(e,t,i){let n,s;if(void 0===t||void 0===i){const a=e&&ti(e);if(a){const e=a.getBoundingClientRect(),o=ni(a),r=ai(o,"border","width"),l=ai(o,"padding");t=e.width-l.width-r.width,i=e.height-l.height-r.height,n=ii(o.maxWidth,a,"clientWidth"),s=ii(o.maxHeight,a,"clientHeight")}else t=e.clientWidth,i=e.clientHeight}return{width:t,height:i,maxWidth:n||Ae,maxHeight:s||Ae}}(e,t,i);let{width:c,height:h}=l;if("content-box"===s.boxSizing){const e=ai(s,"border","width"),t=ai(s,"padding");c-=t.width+e.width,h-=t.height+e.height}return c=Math.max(0,c-a.width),h=Math.max(0,n?c/n:h-a.height),c=li(Math.min(c,o,l.maxWidth)),h=li(Math.min(h,r,l.maxHeight)),c&&!h&&(h=li(c/2)),(void 0!==t||void 0!==i)&&n&&l.height&&h>l.height&&(h=l.height,c=li(Math.floor(h*n))),{width:c,height:h}}(e,t,i,n)}isAttached(e){const t=e&&ti(e);return!(!t||!t.isConnected)}}class Sn{static defaults={};static defaultRoutes=void 0;x;y;active=!1;options;$animations;tooltipPosition(e){const{x:t,y:i}=this.getProps(["x","y"],e);return{x:t,y:i}}hasValue(){return je(this.x)&&je(this.y)}getProps(e,t){const i=this.$animations;if(!t||!i)return this;const n={};return e.forEach((e=>{n[e]=i[e]&&i[e].active()?i[e]._to:this[e]})),n}}function Mn(e,t,i,n,s){const a=de(n,0),o=Math.min(de(s,e.length),e.length);let r,l,c,h=0;for(i=Math.ceil(i),s&&(r=s-n,i=r/Math.floor(r/i)),c=a;c<0;)h++,c=Math.round(a+h*i);for(l=Math.max(a,0);l<o;l++)l===c&&(t.push(e[l]),h++,c=Math.round(a+h*i))}const Cn=(e,t,i)=>"top"===t||"left"===t?e[t]+i:e[t]-i,Pn=(e,t)=>Math.min(t||e,e);function An(e,t){const i=[],n=e.length/t,s=e.length;let a=0;for(;a<s;a+=n)i.push(e[Math.floor(a)]);return i}function In(e,t,i){const n=e.ticks.length,s=Math.min(t,n-1),a=e._startPixel,o=e._endPixel,r=1e-6;let l,c=e.getPixelForTick(s);if(!(i&&(l=1===n?Math.max(c-a,o-c):0===t?(e.getPixelForTick(1)-c)/2:(c-e.getPixelForTick(s-1))/2,c+=s<t?l:-l,c<a-r||c>o+r)))return c}function Dn(e){return e.drawTicks?e.tickLength:0}function Tn(e,t){if(!e.display)return 0;const i=jt(e.font,t),n=Rt(e.padding);return(re(e.text)?e.text.length:1)*i.lineHeight+n.height}function Bn(e,t,i){let n=Ge(e);return(i&&"right"!==t||!i&&"right"===t)&&(n=(e=>"left"===e?"right":"right"===e?"left":e)(n)),n}class Nn extends Sn{constructor(e){super(),this.id=e.id,this.type=e.type,this.options=void 0,this.ctx=e.ctx,this.chart=e.chart,this.top=void 0,this.bottom=void 0,this.left=void 0,this.right=void 0,this.width=void 0,this.height=void 0,this._margins={left:0,right:0,top:0,bottom:0},this.maxWidth=void 0,this.maxHeight=void 0,this.paddingTop=void 0,this.paddingBottom=void 0,this.paddingLeft=void 0,this.paddingRight=void 0,this.axis=void 0,this.labelRotation=void 0,this.min=void 0,this.max=void 0,this._range=void 0,this.ticks=[],this._gridLineItems=null,this._labelItems=null,this._labelSizes=null,this._length=0,this._maxLength=0,this._longestTextCache={},this._startPixel=void 0,this._endPixel=void 0,this._reversePixels=!1,this._userMax=void 0,this._userMin=void 0,this._suggestedMax=void 0,this._suggestedMin=void 0,this._ticksLength=0,this._borderValue=0,this._cache={},this._dataLimitsCached=!1,this.$context=void 0}init(e){this.options=e.setContext(this.getContext()),this.axis=e.axis,this._userMin=this.parse(e.min),this._userMax=this.parse(e.max),this._suggestedMin=this.parse(e.suggestedMin),this._suggestedMax=this.parse(e.suggestedMax)}parse(e,t){return e}getUserBounds(){let{_userMin:e,_userMax:t,_suggestedMin:i,_suggestedMax:n}=this;return e=he(e,Number.POSITIVE_INFINITY),t=he(t,Number.NEGATIVE_INFINITY),i=he(i,Number.POSITIVE_INFINITY),n=he(n,Number.NEGATIVE_INFINITY),{min:he(e,i),max:he(t,n),minDefined:ce(e),maxDefined:ce(t)}}getMinMax(e){let t,{min:i,max:n,minDefined:s,maxDefined:a}=this.getUserBounds();if(s&&a)return{min:i,max:n};const o=this.getMatchingVisibleMetas();for(let r=0,l=o.length;r<l;++r)t=o[r].controller.getMinMax(this,e),s||(i=Math.min(i,t.min)),a||(n=Math.max(n,t.max));return i=a&&i>n?n:i,n=s&&i>n?i:n,{min:he(i,he(n,i)),max:he(n,he(i,n))}}getPadding(){return{left:this.paddingLeft||0,top:this.paddingTop||0,right:this.paddingRight||0,bottom:this.paddingBottom||0}}getTicks(){return this.ticks}getLabels(){const e=this.chart.data;return this.options.labels||(this.isHorizontal()?e.xLabels:e.yLabels)||e.labels||[]}getLabelItems(e=this.chart.chartArea){return this._labelItems||(this._labelItems=this._computeLabelItems(e))}beforeLayout(){this._cache={},this._dataLimitsCached=!1}beforeUpdate(){ue(this.options.beforeUpdate,[this])}update(e,t,i){const{beginAtZero:n,grace:s,ticks:a}=this.options,o=a.sampleSize;this.beforeUpdate(),this.maxWidth=e,this.maxHeight=t,this._margins=i=Object.assign({left:0,right:0,top:0,bottom:0},i),this.ticks=null,this._labelSizes=null,this._gridLineItems=null,this._labelItems=null,this.beforeSetDimensions(),this.setDimensions(),this.afterSetDimensions(),this._maxLength=this.isHorizontal()?this.width+i.left+i.right:this.height+i.top+i.bottom,this._dataLimitsCached||(this.beforeDataLimits(),this.determineDataLimits(),this.afterDataLimits(),this._range=function(e,t,i){const{min:n,max:s}=e,a=(l=(s-n)/2,"string"==typeof(r=t)&&r.endsWith("%")?parseFloat(r)/100*l:+r),o=(e,t)=>i&&0===e?0:e+t;var r,l;return{min:o(n,-Math.abs(a)),max:o(s,a)}}(this,s,n),this._dataLimitsCached=!0),this.beforeBuildTicks(),this.ticks=this.buildTicks()||[],this.afterBuildTicks();const r=o<this.ticks.length;this._convertTicksToLabels(r?An(this.ticks,o):this.ticks),this.configure(),this.beforeCalculateLabelRotation(),this.calculateLabelRotation(),this.afterCalculateLabelRotation(),a.display&&(a.autoSkip||"auto"===a.source)&&(this.ticks=function(e,t){const i=e.options.ticks,n=function(e){const t=e.options.offset,i=e._tickSize(),n=e._length/i+(t?0:1),s=e._maxLength/i;return Math.floor(Math.min(n,s))}(e),s=Math.min(i.maxTicksLimit||n,n),a=i.major.enabled?function(e){const t=[];let i,n;for(i=0,n=e.length;i<n;i++)e[i].major&&t.push(i);return t}(t):[],o=a.length,r=a[0],l=a[o-1],c=[];if(o>s)return function(e,t,i,n){let s,a=0,o=i[0];for(n=Math.ceil(n),s=0;s<e.length;s++)s===o&&(t.push(e[s]),a++,o=i[a*n])}(t,c,a,o/s),c;const h=function(e,t,i){const n=function(e){const t=e.length;let i,n;if(t<2)return!1;for(n=e[0],i=1;i<t;++i)if(e[i]-e[i-1]!==n)return!1;return n}(e),s=t.length/i;if(!n)return Math.max(s,1);const a=function(e){const t=[],i=Math.sqrt(e);let n;for(n=1;n<i;n++)e%n==0&&(t.push(n),t.push(e/n));return i===(0|i)&&t.push(i),t.sort(((e,t)=>e-t)).pop(),t}(n);for(let e=0,t=a.length-1;e<t;e++){const t=a[e];if(t>s)return t}return Math.max(s,1)}(a,t,s);if(o>0){let e,i;const n=o>1?Math.round((l-r)/(o-1)):null;for(Mn(t,c,h,oe(n)?0:r-n,r),e=0,i=o-1;e<i;e++)Mn(t,c,h,a[e],a[e+1]);return Mn(t,c,h,l,oe(n)?t.length:l+n),c}return Mn(t,c,h),c}(this,this.ticks),this._labelSizes=null,this.afterAutoSkip()),r&&this._convertTicksToLabels(this.ticks),this.beforeFit(),this.fit(),this.afterFit(),this.afterUpdate()}configure(){let e,t,i=this.options.reverse;this.isHorizontal()?(e=this.left,t=this.right):(e=this.top,t=this.bottom,i=!i),this._startPixel=e,this._endPixel=t,this._reversePixels=i,this._length=t-e,this._alignToPixels=this.options.alignToPixels}afterUpdate(){ue(this.options.afterUpdate,[this])}beforeSetDimensions(){ue(this.options.beforeSetDimensions,[this])}setDimensions(){this.isHorizontal()?(this.width=this.maxWidth,this.left=0,this.right=this.width):(this.height=this.maxHeight,this.top=0,this.bottom=this.height),this.paddingLeft=0,this.paddingTop=0,this.paddingRight=0,this.paddingBottom=0}afterSetDimensions(){ue(this.options.afterSetDimensions,[this])}_callHooks(e){this.chart.notifyPlugins(e,this.getContext()),ue(this.options[e],[this])}beforeDataLimits(){this._callHooks("beforeDataLimits")}determineDataLimits(){}afterDataLimits(){this._callHooks("afterDataLimits")}beforeBuildTicks(){this._callHooks("beforeBuildTicks")}buildTicks(){return[]}afterBuildTicks(){this._callHooks("afterBuildTicks")}beforeTickToLabelConversion(){ue(this.options.beforeTickToLabelConversion,[this])}generateTickLabels(e){const t=this.options.ticks;let i,n,s;for(i=0,n=e.length;i<n;i++)s=e[i],s.label=ue(t.callback,[s.value,i,e],this)}afterTickToLabelConversion(){ue(this.options.afterTickToLabelConversion,[this])}beforeCalculateLabelRotation(){ue(this.options.beforeCalculateLabelRotation,[this])}calculateLabelRotation(){const e=this.options,t=e.ticks,i=Pn(this.ticks.length,e.ticks.maxTicksLimit),n=t.minRotation||0,s=t.maxRotation;let a,o,r,l=n;if(!this._isVisible()||!t.display||n>=s||i<=1||!this.isHorizontal())return void(this.labelRotation=n);const c=this._getLabelSizes(),h=c.widest.width,d=c.highest.height,u=Ve(this.chart.width-h,0,this.maxWidth);a=e.offset?this.maxWidth/i:u/(i-1),h+6>a&&(a=u/(i-(e.offset?.5:1)),o=this.maxHeight-Dn(e.grid)-t.padding-Tn(e.title,this.chart.options.font),r=Math.sqrt(h*h+d*d),l=Math.min(Math.asin(Ve((c.highest.height+6)/a,-1,1)),Math.asin(Ve(o/r,-1,1))-Math.asin(Ve(d/r,-1,1)))*(180/Ce),l=Math.max(n,Math.min(s,l))),this.labelRotation=l}afterCalculateLabelRotation(){ue(this.options.afterCalculateLabelRotation,[this])}afterAutoSkip(){}beforeFit(){ue(this.options.beforeFit,[this])}fit(){const e={width:0,height:0},{chart:t,options:{ticks:i,title:n,grid:s}}=this,a=this._isVisible(),o=this.isHorizontal();if(a){const a=Tn(n,t.options.font);if(o?(e.width=this.maxWidth,e.height=Dn(s)+a):(e.height=this.maxHeight,e.width=Dn(s)+a),i.display&&this.ticks.length){const{first:t,last:n,widest:s,highest:a}=this._getLabelSizes(),r=2*i.padding,l=Fe(this.labelRotation),c=Math.cos(l),h=Math.sin(l);if(o){const t=i.mirror?0:h*s.width+c*a.height;e.height=Math.min(this.maxHeight,e.height+t+r)}else{const t=i.mirror?0:c*s.width+h*a.height;e.width=Math.min(this.maxWidth,e.width+t+r)}this._calculatePadding(t,n,h,c)}}this._handleMargins(),o?(this.width=this._length=t.width-this._margins.left-this._margins.right,this.height=e.height):(this.width=e.width,this.height=this._length=t.height-this._margins.top-this._margins.bottom)}_calculatePadding(e,t,i,n){const{ticks:{align:s,padding:a},position:o}=this.options,r=0!==this.labelRotation,l="top"!==o&&"x"===this.axis;if(this.isHorizontal()){const o=this.getPixelForTick(0)-this.left,c=this.right-this.getPixelForTick(this.ticks.length-1);let h=0,d=0;r?l?(h=n*e.width,d=i*t.height):(h=i*e.height,d=n*t.width):"start"===s?d=t.width:"end"===s?h=e.width:"inner"!==s&&(h=e.width/2,d=t.width/2),this.paddingLeft=Math.max((h-o+a)*this.width/(this.width-o),0),this.paddingRight=Math.max((d-c+a)*this.width/(this.width-c),0)}else{let i=t.height/2,n=e.height/2;"start"===s?(i=0,n=e.height):"end"===s&&(i=t.height,n=0),this.paddingTop=i+a,this.paddingBottom=n+a}}_handleMargins(){this._margins&&(this._margins.left=Math.max(this.paddingLeft,this._margins.left),this._margins.top=Math.max(this.paddingTop,this._margins.top),this._margins.right=Math.max(this.paddingRight,this._margins.right),this._margins.bottom=Math.max(this.paddingBottom,this._margins.bottom))}afterFit(){ue(this.options.afterFit,[this])}isHorizontal(){const{axis:e,position:t}=this.options;return"top"===t||"bottom"===t||"x"===e}isFullSize(){return this.options.fullSize}_convertTicksToLabels(e){let t,i;for(this.beforeTickToLabelConversion(),this.generateTickLabels(e),t=0,i=e.length;t<i;t++)oe(e[t].label)&&(e.splice(t,1),i--,t--);this.afterTickToLabelConversion()}_getLabelSizes(){let e=this._labelSizes;if(!e){const t=this.options.ticks.sampleSize;let i=this.ticks;t<i.length&&(i=An(i,t)),this._labelSizes=e=this._computeLabelSizes(i,i.length,this.options.ticks.maxTicksLimit)}return e}_computeLabelSizes(e,t,i){const{ctx:n,_longestTextCache:s}=this,a=[],o=[],r=Math.floor(t/Pn(t,i));let l,c,h,d,u,f,p,g,m,y,b,v=0,_=0;for(l=0;l<t;l+=r){if(d=e[l].label,u=this._resolveTickFontOptions(l),n.font=f=u.string,p=s[f]=s[f]||{data:{},gc:[]},g=u.lineHeight,m=y=0,oe(d)||re(d)){if(re(d))for(c=0,h=d.length;c<h;++c)b=d[c],oe(b)||re(b)||(m=bt(n,p.data,p.gc,m,b),y+=g)}else m=bt(n,p.data,p.gc,m,d),y=g;a.push(m),o.push(y),v=Math.max(m,v),_=Math.max(y,_)}!function(e,t){fe(e,(e=>{const i=e.gc,n=i.length/2;let s;if(n>t){for(s=0;s<n;++s)delete e.data[i[s]];i.splice(0,n)}}))}(s,t);const x=a.indexOf(v),w=o.indexOf(_),E=e=>({width:a[e]||0,height:o[e]||0});return{first:E(0),last:E(t-1),widest:E(x),highest:E(w),widths:a,heights:o}}getLabelForValue(e){return e}getPixelForValue(e,t){return NaN}getValueForPixel(e){}getPixelForTick(e){const t=this.ticks;return e<0||e>t.length-1?null:this.getPixelForValue(t[e].value)}getPixelForDecimal(e){this._reversePixels&&(e=1-e);const t=this._startPixel+e*this._length;return Ve(this._alignToPixels?vt(this.chart,t,0):t,-32768,32767)}getDecimalForPixel(e){const t=(e-this._startPixel)/this._length;return this._reversePixels?1-t:t}getBasePixel(){return this.getPixelForValue(this.getBaseValue())}getBaseValue(){const{min:e,max:t}=this;return e<0&&t<0?t:e>0&&t>0?e:0}getContext(e){const t=this.ticks||[];if(e>=0&&e<t.length){const i=t[e];return i.$context||(i.$context=function(e,t,i){return Ht(e,{tick:i,index:t,type:"tick"})}(this.getContext(),e,i))}return this.$context||(this.$context=Ht(this.chart.getContext(),{scale:this,type:"scale"}))}_tickSize(){const e=this.options.ticks,t=Fe(this.labelRotation),i=Math.abs(Math.cos(t)),n=Math.abs(Math.sin(t)),s=this._getLabelSizes(),a=e.autoSkipPadding||0,o=s?s.widest.width+a:0,r=s?s.highest.height+a:0;return this.isHorizontal()?r*i>o*n?o/i:r/n:r*n<o*i?r/i:o/n}_isVisible(){const e=this.options.display;return"auto"!==e?!!e:this.getMatchingVisibleMetas().length>0}_computeGridLineItems(e){const t=this.axis,i=this.chart,n=this.options,{grid:s,position:a,border:o}=n,r=s.offset,l=this.isHorizontal(),c=this.ticks.length+(r?1:0),h=Dn(s),d=[],u=o.setContext(this.getContext()),f=u.display?u.width:0,p=f/2,g=function(e){return vt(i,e,f)};let m,y,b,v,_,x,w,E,k,S,M,C;if("top"===a)m=g(this.bottom),x=this.bottom-h,E=m-p,S=g(e.top)+p,C=e.bottom;else if("bottom"===a)m=g(this.top),S=e.top,C=g(e.bottom)-p,x=m+p,E=this.top+h;else if("left"===a)m=g(this.right),_=this.right-h,w=m-p,k=g(e.left)+p,M=e.right;else if("right"===a)m=g(this.left),k=e.left,M=g(e.right)-p,_=m+p,w=this.left+h;else if("x"===t){if("center"===a)m=g((e.top+e.bottom)/2+.5);else if(le(a)){const e=Object.keys(a)[0],t=a[e];m=g(this.chart.scales[e].getPixelForValue(t))}S=e.top,C=e.bottom,x=m+p,E=x+h}else if("y"===t){if("center"===a)m=g((e.left+e.right)/2);else if(le(a)){const e=Object.keys(a)[0],t=a[e];m=g(this.chart.scales[e].getPixelForValue(t))}_=m-p,w=_-h,k=e.left,M=e.right}const P=de(n.ticks.maxTicksLimit,c),A=Math.max(1,Math.ceil(c/P));for(y=0;y<c;y+=A){const e=this.getContext(y),t=s.setContext(e),n=o.setContext(e),a=t.lineWidth,c=t.color,h=n.dash||[],u=n.dashOffset,f=t.tickWidth,p=t.tickColor,g=t.tickBorderDash||[],m=t.tickBorderDashOffset;b=In(this,y,r),void 0!==b&&(v=vt(i,b,a),l?_=w=k=M=v:x=E=S=C=v,d.push({tx1:_,ty1:x,tx2:w,ty2:E,x1:k,y1:S,x2:M,y2:C,width:a,color:c,borderDash:h,borderDashOffset:u,tickWidth:f,tickColor:p,tickBorderDash:g,tickBorderDashOffset:m}))}return this._ticksLength=c,this._borderValue=m,d}_computeLabelItems(e){const t=this.axis,i=this.options,{position:n,ticks:s}=i,a=this.isHorizontal(),o=this.ticks,{align:r,crossAlign:l,padding:c,mirror:h}=s,d=Dn(i.grid),u=d+c,f=h?-c:u,p=-Fe(this.labelRotation),g=[];let m,y,b,v,_,x,w,E,k,S,M,C,P="middle";if("top"===n)x=this.bottom-f,w=this._getXAxisLabelAlignment();else if("bottom"===n)x=this.top+f,w=this._getXAxisLabelAlignment();else if("left"===n){const e=this._getYAxisLabelAlignment(d);w=e.textAlign,_=e.x}else if("right"===n){const e=this._getYAxisLabelAlignment(d);w=e.textAlign,_=e.x}else if("x"===t){if("center"===n)x=(e.top+e.bottom)/2+u;else if(le(n)){const e=Object.keys(n)[0],t=n[e];x=this.chart.scales[e].getPixelForValue(t)+u}w=this._getXAxisLabelAlignment()}else if("y"===t){if("center"===n)_=(e.left+e.right)/2-u;else if(le(n)){const e=Object.keys(n)[0],t=n[e];_=this.chart.scales[e].getPixelForValue(t)}w=this._getYAxisLabelAlignment(d).textAlign}"y"===t&&("start"===r?P="top":"end"===r&&(P="bottom"));const A=this._getLabelSizes();for(m=0,y=o.length;m<y;++m){b=o[m],v=b.label;const e=s.setContext(this.getContext(m));E=this.getPixelForTick(m)+s.labelOffset,k=this._resolveTickFontOptions(m),S=k.lineHeight,M=re(v)?v.length:1;const t=M/2,i=e.color,r=e.textStrokeColor,c=e.textStrokeWidth;let d,u=w;if(a?(_=E,"inner"===w&&(u=m===y-1?this.options.reverse?"left":"right":0===m?this.options.reverse?"right":"left":"center"),C="top"===n?"near"===l||0!==p?-M*S+S/2:"center"===l?-A.highest.height/2-t*S+S:-A.highest.height+S/2:"near"===l||0!==p?S/2:"center"===l?A.highest.height/2-t*S:A.highest.height-M*S,h&&(C*=-1),0===p||e.showLabelBackdrop||(_+=S/2*Math.sin(p))):(x=E,C=(1-M)*S/2),e.showLabelBackdrop){const t=Rt(e.backdropPadding),i=A.heights[m],n=A.widths[m];let s=C-t.top,a=0-t.left;switch(P){case"middle":s-=i/2;break;case"bottom":s-=i}switch(w){case"center":a-=n/2;break;case"right":a-=n;break;case"inner":m===y-1?a-=n:m>0&&(a-=n/2)}d={left:a,top:s,width:n+t.width,height:i+t.height,color:e.backdropColor}}g.push({label:v,font:k,textOffset:C,options:{rotation:p,color:i,strokeColor:r,strokeWidth:c,textAlign:u,textBaseline:P,translation:[_,x],backdrop:d}})}return g}_getXAxisLabelAlignment(){const{position:e,ticks:t}=this.options;if(-Fe(this.labelRotation))return"top"===e?"left":"right";let i="center";return"start"===t.align?i="left":"end"===t.align?i="right":"inner"===t.align&&(i="inner"),i}_getYAxisLabelAlignment(e){const{position:t,ticks:{crossAlign:i,mirror:n,padding:s}}=this.options,a=e+s,o=this._getLabelSizes().widest.width;let r,l;return"left"===t?n?(l=this.right+s,"near"===i?r="left":"center"===i?(r="center",l+=o/2):(r="right",l+=o)):(l=this.right-a,"near"===i?r="right":"center"===i?(r="center",l-=o/2):(r="left",l=this.left)):"right"===t?n?(l=this.left+s,"near"===i?r="right":"center"===i?(r="center",l-=o/2):(r="left",l-=o)):(l=this.left+a,"near"===i?r="left":"center"===i?(r="center",l+=o/2):(r="right",l=this.right)):r="right",{textAlign:r,x:l}}_computeLabelArea(){if(this.options.ticks.mirror)return;const e=this.chart,t=this.options.position;return"left"===t||"right"===t?{top:0,left:this.left,bottom:e.height,right:this.right}:"top"===t||"bottom"===t?{top:this.top,left:0,bottom:this.bottom,right:e.width}:void 0}drawBackground(){const{ctx:e,options:{backgroundColor:t},left:i,top:n,width:s,height:a}=this;t&&(e.save(),e.fillStyle=t,e.fillRect(i,n,s,a),e.restore())}getLineWidthForValue(e){const t=this.options.grid;if(!this._isVisible()||!t.display)return 0;const i=this.ticks.findIndex((t=>t.value===e));return i>=0?t.setContext(this.getContext(i)).lineWidth:0}drawGrid(e){const t=this.options.grid,i=this.ctx,n=this._gridLineItems||(this._gridLineItems=this._computeGridLineItems(e));let s,a;const o=(e,t,n)=>{n.width&&n.color&&(i.save(),i.lineWidth=n.width,i.strokeStyle=n.color,i.setLineDash(n.borderDash||[]),i.lineDashOffset=n.borderDashOffset,i.beginPath(),i.moveTo(e.x,e.y),i.lineTo(t.x,t.y),i.stroke(),i.restore())};if(t.display)for(s=0,a=n.length;s<a;++s){const e=n[s];t.drawOnChartArea&&o({x:e.x1,y:e.y1},{x:e.x2,y:e.y2},e),t.drawTicks&&o({x:e.tx1,y:e.ty1},{x:e.tx2,y:e.ty2},{color:e.tickColor,width:e.tickWidth,borderDash:e.tickBorderDash,borderDashOffset:e.tickBorderDashOffset})}}drawBorder(){const{chart:e,ctx:t,options:{border:i,grid:n}}=this,s=i.setContext(this.getContext()),a=i.display?s.width:0;if(!a)return;const o=n.setContext(this.getContext(0)).lineWidth,r=this._borderValue;let l,c,h,d;this.isHorizontal()?(l=vt(e,this.left,a)-a/2,c=vt(e,this.right,o)+o/2,h=d=r):(h=vt(e,this.top,a)-a/2,d=vt(e,this.bottom,o)+o/2,l=c=r),t.save(),t.lineWidth=s.width,t.strokeStyle=s.color,t.beginPath(),t.moveTo(l,h),t.lineTo(c,d),t.stroke(),t.restore()}drawLabels(e){if(!this.options.ticks.display)return;const t=this.ctx,i=this._computeLabelArea();i&&kt(t,i);const n=this.getLabelItems(e);for(const e of n){const i=e.options,n=e.font;Pt(t,e.label,0,e.textOffset,n,i)}i&&St(t)}drawTitle(){const{ctx:e,options:{position:t,title:i,reverse:n}}=this;if(!i.display)return;const s=jt(i.font),a=Rt(i.padding),o=i.align;let r=s.lineHeight/2;"bottom"===t||"center"===t||le(t)?(r+=a.bottom,re(i.text)&&(r+=s.lineHeight*(i.text.length-1))):r+=a.top;const{titleX:l,titleY:c,maxWidth:h,rotation:d}=function(e,t,i,n){const{top:s,left:a,bottom:o,right:r,chart:l}=e,{chartArea:c,scales:h}=l;let d,u,f,p=0;const g=o-s,m=r-a;if(e.isHorizontal()){if(u=Ze(n,a,r),le(i)){const e=Object.keys(i)[0],n=i[e];f=h[e].getPixelForValue(n)+g-t}else f="center"===i?(c.bottom+c.top)/2+g-t:Cn(e,i,t);d=r-a}else{if(le(i)){const e=Object.keys(i)[0],n=i[e];u=h[e].getPixelForValue(n)-m+t}else u="center"===i?(c.left+c.right)/2-m+t:Cn(e,i,t);f=Ze(n,o,s),p="left"===i?-De:De}return{titleX:u,titleY:f,maxWidth:d,rotation:p}}(this,r,t,o);Pt(e,i.text,0,0,s,{color:i.color,maxWidth:h,rotation:d,textAlign:Bn(o,t,n),textBaseline:"middle",translation:[l,c]})}draw(e){this._isVisible()&&(this.drawBackground(),this.drawGrid(e),this.drawBorder(),this.drawTitle(),this.drawLabels(e))}_layers(){const e=this.options,t=e.ticks&&e.ticks.z||0,i=de(e.grid&&e.grid.z,-1),n=de(e.border&&e.border.z,0);return this._isVisible()&&this.draw===Nn.prototype.draw?[{z:i,draw:e=>{this.drawBackground(),this.drawGrid(e),this.drawTitle()}},{z:n,draw:()=>{this.drawBorder()}},{z:t,draw:e=>{this.drawLabels(e)}}]:[{z:t,draw:e=>{this.draw(e)}}]}getMatchingVisibleMetas(e){const t=this.chart.getSortedVisibleDatasetMetas(),i=this.axis+"AxisID",n=[];let s,a;for(s=0,a=t.length;s<a;++s){const a=t[s];a[i]!==this.id||e&&a.type!==e||n.push(a)}return n}_resolveTickFontOptions(e){return jt(this.options.ticks.setContext(this.getContext(e)).font)}_maxDigits(){const e=this._resolveTickFontOptions(0).lineHeight;return(this.isHorizontal()?this.width:this.height)/e}}class On{constructor(e,t,i){this.type=e,this.scope=t,this.override=i,this.items=Object.create(null)}isForType(e){return Object.prototype.isPrototypeOf.call(this.type.prototype,e.prototype)}register(e){const t=Object.getPrototypeOf(e);let i;(function(e){return"id"in e&&"defaults"in e})(t)&&(i=this.register(t));const n=this.items,s=e.id,a=this.scope+"."+s;if(!s)throw new Error("class does not have id: "+e);return s in n||(n[s]=e,function(e,t,i){const n=be(Object.create(null),[i?yt.get(i):{},yt.get(t),e.defaults]);yt.set(t,n),e.defaultRoutes&&function(e,t){Object.keys(t).forEach((i=>{const n=i.split("."),s=n.pop(),a=[e].concat(n).join("."),o=t[i].split("."),r=o.pop(),l=o.join(".");yt.route(a,s,l,r)}))}(t,e.defaultRoutes),e.descriptors&&yt.describe(t,e.descriptors)}(e,a,i),this.override&&yt.override(e.id,e.overrides)),a}get(e){return this.items[e]}unregister(e){const t=this.items,i=e.id,n=this.scope;i in t&&delete t[i],n&&i in yt[n]&&(delete yt[n][i],this.override&&delete ut[i])}}class Ln{constructor(){this.controllers=new On(Bi,"datasets",!0),this.elements=new On(Sn,"elements"),this.plugins=new On(Object,"plugins"),this.scales=new On(Nn,"scales"),this._typedRegistries=[this.controllers,this.scales,this.elements]}add(...e){this._each("register",e)}remove(...e){this._each("unregister",e)}addControllers(...e){this._each("register",e,this.controllers)}addElements(...e){this._each("register",e,this.elements)}addPlugins(...e){this._each("register",e,this.plugins)}addScales(...e){this._each("register",e,this.scales)}getController(e){return this._get(e,this.controllers,"controller")}getElement(e){return this._get(e,this.elements,"element")}getPlugin(e){return this._get(e,this.plugins,"plugin")}getScale(e){return this._get(e,this.scales,"scale")}removeControllers(...e){this._each("unregister",e,this.controllers)}removeElements(...e){this._each("unregister",e,this.elements)}removePlugins(...e){this._each("unregister",e,this.plugins)}removeScales(...e){this._each("unregister",e,this.scales)}_each(e,t,i){[...t].forEach((t=>{const n=i||this._getRegistryForType(t);i||n.isForType(t)||n===this.plugins&&t.id?this._exec(e,n,t):fe(t,(t=>{const n=i||this._getRegistryForType(t);this._exec(e,n,t)}))}))}_exec(e,t,i){const n=Ee(e);ue(i["before"+n],[],i),t[e](i),ue(i["after"+n],[],i)}_getRegistryForType(e){for(let t=0;t<this._typedRegistries.length;t++){const i=this._typedRegistries[t];if(i.isForType(e))return i}return this.plugins}_get(e,t,i){const n=t.get(e);if(void 0===n)throw new Error('"'+e+'" is not a registered '+i+".");return n}}var Rn=new Ln;class jn{constructor(){this._init=[]}notify(e,t,i,n){"beforeInit"===t&&(this._init=this._createDescriptors(e,!0),this._notify(this._init,e,"install"));const s=n?this._descriptors(e).filter(n):this._descriptors(e),a=this._notify(s,e,t,i);return"afterDestroy"===t&&(this._notify(s,e,"stop"),this._notify(this._init,e,"uninstall")),a}_notify(e,t,i,n){n=n||{};for(const s of e){const e=s.plugin;if(!1===ue(e[i],[t,n,s.options],e)&&n.cancelable)return!1}return!0}invalidate(){oe(this._cache)||(this._oldCache=this._cache,this._cache=void 0)}_descriptors(e){if(this._cache)return this._cache;const t=this._cache=this._createDescriptors(e);return this._notifyStateChanges(e),t}_createDescriptors(e,t){const i=e&&e.config,n=de(i.options&&i.options.plugins,{}),s=function(e){const t={},i=[],n=Object.keys(Rn.plugins.items);for(let e=0;e<n.length;e++)i.push(Rn.getPlugin(n[e]));const s=e.plugins||[];for(let e=0;e<s.length;e++){const n=s[e];-1===i.indexOf(n)&&(i.push(n),t[n.id]=!0)}return{plugins:i,localIds:t}}(i);return!1!==n||t?function(e,{plugins:t,localIds:i},n,s){const a=[],o=e.getContext();for(const r of t){const t=r.id,l=Fn(n[t],s);null!==l&&a.push({plugin:r,options:Hn(e.config,{plugin:r,local:i[t]},l,o)})}return a}(e,s,n,t):[]}_notifyStateChanges(e){const t=this._oldCache||[],i=this._cache,n=(e,t)=>e.filter((e=>!t.some((t=>e.plugin.id===t.plugin.id))));this._notify(n(t,i),e,"stop"),this._notify(n(i,t),e,"start")}}function Fn(e,t){return t||!1!==e?!0===e?{}:e:null}function Hn(e,{plugin:t,local:i},n,s){const a=e.pluginScopeKeys(t),o=e.getOptionScopes(n,a);return i&&t.defaults&&o.push(t.defaults),e.createResolver(o,s,[""],{scriptable:!1,indexable:!1,allKeys:!0})}function zn(e,t){const i=yt.datasets[e]||{};return((t.datasets||{})[e]||{}).indexAxis||t.indexAxis||i.indexAxis||"x"}function Vn(e){if("x"===e||"y"===e||"r"===e)return e}function Wn(e,...t){if(Vn(e))return e;for(const n of t){const t=n.axis||("top"===(i=n.position)||"bottom"===i?"x":"left"===i||"right"===i?"y":void 0)||e.length>1&&Vn(e[0].toLowerCase());if(t)return t}var i;throw new Error(`Cannot determine type of '${e}' axis. Please provide 'axis' or 'position' option.`)}function Un(e,t,i){if(i[t+"AxisID"]===e)return{axis:t}}function $n(e){const t=e.options||(e.options={});t.plugins=de(t.plugins,{}),t.scales=function(e,t){const i=ut[e.type]||{scales:{}},n=t.scales||{},s=zn(e.type,t),a=Object.create(null);return Object.keys(n).forEach((t=>{const o=n[t];if(!le(o))return console.error(`Invalid scale configuration for scale: ${t}`);if(o._proxy)return console.warn(`Ignoring resolver passed as options for scale: ${t}`);const r=Wn(t,o,function(e,t){if(t.data&&t.data.datasets){const i=t.data.datasets.filter((t=>t.xAxisID===e||t.yAxisID===e));if(i.length)return Un(e,"x",i[0])||Un(e,"y",i[0])}return{}}(t,e),yt.scales[o.type]),l=function(e,t){return e===t?"_index_":"_value_"}(r,s),c=i.scales||{};a[t]=ve(Object.create(null),[{axis:r},o,c[r],c[l]])})),e.data.datasets.forEach((i=>{const s=i.type||e.type,o=i.indexAxis||zn(s,t),r=(ut[s]||{}).scales||{};Object.keys(r).forEach((e=>{const t=function(e,t){let i=e;return"_index_"===e?i=t:"_value_"===e&&(i="x"===t?"y":"x"),i}(e,o),s=i[t+"AxisID"]||t;a[s]=a[s]||Object.create(null),ve(a[s],[{axis:t},n[s],r[e]])}))})),Object.keys(a).forEach((e=>{const t=a[e];ve(t,[yt.scales[t.type],yt.scale])})),a}(e,t)}function Yn(e){return(e=e||{}).datasets=e.datasets||[],e.labels=e.labels||[],e}const qn=new Map,Kn=new Set;function Qn(e,t){let i=qn.get(e);return i||(i=t(),qn.set(e,i),Kn.add(i)),i}const Xn=(e,t,i)=>{const n=we(t,i);void 0!==n&&e.add(n)};class Gn{constructor(e){this._config=function(e){return(e=e||{}).data=Yn(e.data),$n(e),e}(e),this._scopeCache=new Map,this._resolverCache=new Map}get platform(){return this._config.platform}get type(){return this._config.type}set type(e){this._config.type=e}get data(){return this._config.data}set data(e){this._config.data=Yn(e)}get options(){return this._config.options}set options(e){this._config.options=e}get plugins(){return this._config.plugins}update(){const e=this._config;this.clearCache(),$n(e)}clearCache(){this._scopeCache.clear(),this._resolverCache.clear()}datasetScopeKeys(e){return Qn(e,(()=>[[`datasets.${e}`,""]]))}datasetAnimationScopeKeys(e,t){return Qn(`${e}.transition.${t}`,(()=>[[`datasets.${e}.transitions.${t}`,`transitions.${t}`],[`datasets.${e}`,""]]))}datasetElementScopeKeys(e,t){return Qn(`${e}-${t}`,(()=>[[`datasets.${e}.elements.${t}`,`datasets.${e}`,`elements.${t}`,""]]))}pluginScopeKeys(e){const t=e.id;return Qn(`${this.type}-plugin-${t}`,(()=>[[`plugins.${t}`,...e.additionalOptionScopes||[]]]))}_cachedScopes(e,t){const i=this._scopeCache;let n=i.get(e);return n&&!t||(n=new Map,i.set(e,n)),n}getOptionScopes(e,t,i){const{options:n,type:s}=this,a=this._cachedScopes(e,i),o=a.get(t);if(o)return o;const r=new Set;t.forEach((t=>{e&&(r.add(e),t.forEach((t=>Xn(r,e,t)))),t.forEach((e=>Xn(r,n,e))),t.forEach((e=>Xn(r,ut[s]||{},e))),t.forEach((e=>Xn(r,yt,e))),t.forEach((e=>Xn(r,ft,e)))}));const l=Array.from(r);return 0===l.length&&l.push(Object.create(null)),Kn.has(t)&&a.set(t,l),l}chartOptionScopes(){const{options:e,type:t}=this;return[e,ut[t]||{},yt.datasets[t]||{},{type:t},yt,ft]}resolveNamedOptions(e,t,i,n=[""]){const s={$shared:!0},{resolver:a,subPrefixes:o}=Zn(this._resolverCache,e,n);let r=a;(function(e,t){const{isScriptable:i,isIndexable:n}=Wt(e);for(const s of t){const t=i(s),a=n(s),o=(a||t)&&e[s];if(t&&(Se(o)||Jn(o))||a&&re(o))return!0}return!1})(a,t)&&(s.$shared=!1,r=Vt(a,i=Se(i)?i():i,this.createResolver(e,i,o)));for(const e of t)s[e]=r[e];return s}createResolver(e,t,i=[""],n){const{resolver:s}=Zn(this._resolverCache,e,i);return le(t)?Vt(s,t,void 0,n):s}}function Zn(e,t,i){let n=e.get(t);n||(n=new Map,e.set(t,n));const s=i.join();let a=n.get(s);return a||(a={resolver:zt(t,i),subPrefixes:i.filter((e=>!e.toLowerCase().includes("hover")))},n.set(s,a)),a}const Jn=e=>le(e)&&Object.getOwnPropertyNames(e).some((t=>Se(e[t]))),es=["top","bottom","left","right","chartArea"];function ts(e,t){return"top"===e||"bottom"===e||-1===es.indexOf(e)&&"x"===t}function is(e,t){return function(i,n){return i[e]===n[e]?i[t]-n[t]:i[e]-n[e]}}function ns(e){const t=e.chart,i=t.options.animation;t.notifyPlugins("afterRender"),ue(i&&i.onComplete,[e],t)}function ss(e){const t=e.chart,i=t.options.animation;ue(i&&i.onProgress,[e],t)}function as(e){return ei()&&"string"==typeof e?e=document.getElementById(e):e&&e.length&&(e=e[0]),e&&e.canvas&&(e=e.canvas),e}const os={},rs=e=>{const t=as(e);return Object.values(os).filter((e=>e.canvas===t)).pop()};function ls(e,t,i){const n=Object.keys(e);for(const s of n){const n=+s;if(n>=t){const a=e[s];delete e[s],(i>0||n>t)&&(e[n+i]=a)}}}class cs{static defaults=yt;static instances=os;static overrides=ut;static registry=Rn;static version="4.5.0";static getChart=rs;static register(...e){Rn.add(...e),hs()}static unregister(...e){Rn.remove(...e),hs()}constructor(e,t){const i=this.config=new Gn(t),n=as(e),s=rs(n);if(s)throw new Error("Canvas is already in use. Chart with ID '"+s.id+"' must be destroyed before the canvas with ID '"+s.canvas.id+"' can be reused.");const a=i.createResolver(i.chartOptionScopes(),this.getContext());this.platform=new(i.platform||function(e){return!ei()||"undefined"!=typeof OffscreenCanvas&&e instanceof OffscreenCanvas?ln:kn}(n)),this.platform.updateConfig(i);const o=this.platform.acquireContext(n,a.aspectRatio),r=o&&o.canvas,l=r&&r.height,c=r&&r.width;this.id=ae(),this.ctx=o,this.canvas=r,this.width=c,this.height=l,this._options=a,this._aspectRatio=this.aspectRatio,this._layers=[],this._metasets=[],this._stacks=void 0,this.boxes=[],this.currentDevicePixelRatio=void 0,this.chartArea=void 0,this._active=[],this._lastEvent=void 0,this._listeners={},this._responsiveListeners=void 0,this._sortedMetasets=[],this.scales={},this._plugins=new jn,this.$proxies={},this._hiddenIndices={},this.attached=!1,this._animationsDisabled=void 0,this.$context=void 0,this._doResize=function(e,t){let i;return function(...n){return t?(clearTimeout(i),i=setTimeout(e,t,n)):e.apply(this,n),t}}((e=>this.update(e)),a.resizeDelay||0),this._dataChanges=[],os[this.id]=this,o&&r?(yi.listen(this,"complete",ns),yi.listen(this,"progress",ss),this._initialize(),this.attached&&this.update()):console.error("Failed to create chart: can't acquire context from the given item")}get aspectRatio(){const{options:{aspectRatio:e,maintainAspectRatio:t},width:i,height:n,_aspectRatio:s}=this;return oe(e)?t&&s?s:n?i/n:null:e}get data(){return this.config.data}set data(e){this.config.data=e}get options(){return this._options}set options(e){this.config.options=e}get registry(){return Rn}_initialize(){return this.notifyPlugins("beforeInit"),this.options.responsive?this.resize():ci(this,this.options.devicePixelRatio),this.bindEvents(),this.notifyPlugins("afterInit"),this}clear(){return _t(this.canvas,this.ctx),this}stop(){return yi.stop(this),this}resize(e,t){yi.running(this)?this._resizeBeforeDraw={width:e,height:t}:this._resize(e,t)}_resize(e,t){const i=this.options,n=this.canvas,s=i.maintainAspectRatio&&this.aspectRatio,a=this.platform.getMaximumSize(n,e,t,s),o=i.devicePixelRatio||this.platform.getDevicePixelRatio(),r=this.width?"resize":"attach";this.width=a.width,this.height=a.height,this._aspectRatio=this.aspectRatio,ci(this,o,!0)&&(this.notifyPlugins("resize",{size:a}),ue(i.onResize,[this,a],this),this.attached&&this._doResize(r)&&this.render())}ensureScalesHaveIDs(){fe(this.options.scales||{},((e,t)=>{e.id=t}))}buildOrUpdateScales(){const e=this.options,t=e.scales,i=this.scales,n=Object.keys(i).reduce(((e,t)=>(e[t]=!1,e)),{});let s=[];t&&(s=s.concat(Object.keys(t).map((e=>{const i=t[e],n=Wn(e,i),s="r"===n,a="x"===n;return{options:i,dposition:s?"chartArea":a?"bottom":"left",dtype:s?"radialLinear":a?"category":"linear"}})))),fe(s,(t=>{const s=t.options,a=s.id,o=Wn(a,s),r=de(s.type,t.dtype);void 0!==s.position&&ts(s.position,o)===ts(t.dposition)||(s.position=t.dposition),n[a]=!0;let l=null;a in i&&i[a].type===r?l=i[a]:(l=new(Rn.getScale(r))({id:a,type:r,ctx:this.ctx,chart:this}),i[l.id]=l),l.init(s,e)})),fe(n,((e,t)=>{e||delete i[t]})),fe(i,(e=>{on.configure(this,e,e.options),on.addBox(this,e)}))}_updateMetasets(){const e=this._metasets,t=this.data.datasets.length,i=e.length;if(e.sort(((e,t)=>e.index-t.index)),i>t){for(let e=t;e<i;++e)this._destroyDatasetMeta(e);e.splice(t,i-t)}this._sortedMetasets=e.slice(0).sort(is("order","index"))}_removeUnreferencedMetasets(){const{_metasets:e,data:{datasets:t}}=this;e.length>t.length&&delete this._stacks,e.forEach(((e,i)=>{0===t.filter((t=>t===e._dataset)).length&&this._destroyDatasetMeta(i)}))}buildOrUpdateControllers(){const e=[],t=this.data.datasets;let i,n;for(this._removeUnreferencedMetasets(),i=0,n=t.length;i<n;i++){const n=t[i];let s=this.getDatasetMeta(i);const a=n.type||this.config.type;if(s.type&&s.type!==a&&(this._destroyDatasetMeta(i),s=this.getDatasetMeta(i)),s.type=a,s.indexAxis=n.indexAxis||zn(a,this.options),s.order=n.order||0,s.index=i,s.label=""+n.label,s.visible=this.isDatasetVisible(i),s.controller)s.controller.updateIndex(i),s.controller.linkScales();else{const t=Rn.getController(a),{datasetElementType:n,dataElementType:o}=yt.datasets[a];Object.assign(t,{dataElementType:Rn.getElement(o),datasetElementType:n&&Rn.getElement(n)}),s.controller=new t(this,i),e.push(s.controller)}}return this._updateMetasets(),e}_resetElements(){fe(this.data.datasets,((e,t)=>{this.getDatasetMeta(t).controller.reset()}),this)}reset(){this._resetElements(),this.notifyPlugins("reset")}update(e){const t=this.config;t.update();const i=this._options=t.createResolver(t.chartOptionScopes(),this.getContext()),n=this._animationsDisabled=!i.animation;if(this._updateScales(),this._checkEventBindings(),this._updateHiddenIndices(),this._plugins.invalidate(),!1===this.notifyPlugins("beforeUpdate",{mode:e,cancelable:!0}))return;const s=this.buildOrUpdateControllers();this.notifyPlugins("beforeElementsUpdate");let a=0;for(let e=0,t=this.data.datasets.length;e<t;e++){const{controller:t}=this.getDatasetMeta(e),i=!n&&-1===s.indexOf(t);t.buildOrUpdateElements(i),a=Math.max(+t.getMaxOverflow(),a)}a=this._minPadding=i.layout.autoPadding?a:0,this._updateLayout(a),n||fe(s,(e=>{e.reset()})),this._updateDatasets(e),this.notifyPlugins("afterUpdate",{mode:e}),this._layers.sort(is("z","_idx"));const{_active:o,_lastEvent:r}=this;r?this._eventHandler(r,!0):o.length&&this._updateHoverStyles(o,o,!0),this.render()}_updateScales(){fe(this.scales,(e=>{on.removeBox(this,e)})),this.ensureScalesHaveIDs(),this.buildOrUpdateScales()}_checkEventBindings(){const e=this.options,t=new Set(Object.keys(this._listeners)),i=new Set(e.events);Me(t,i)&&!!this._responsiveListeners===e.responsive||(this.unbindEvents(),this.bindEvents())}_updateHiddenIndices(){const{_hiddenIndices:e}=this,t=this._getUniformDataChanges()||[];for(const{method:i,start:n,count:s}of t)ls(e,n,"_removeElements"===i?-s:s)}_getUniformDataChanges(){const e=this._dataChanges;if(!e||!e.length)return;this._dataChanges=[];const t=this.data.datasets.length,i=t=>new Set(e.filter((e=>e[0]===t)).map(((e,t)=>t+","+e.splice(1).join(",")))),n=i(0);for(let e=1;e<t;e++)if(!Me(n,i(e)))return;return Array.from(n).map((e=>e.split(","))).map((e=>({method:e[1],start:+e[2],count:+e[3]})))}_updateLayout(e){if(!1===this.notifyPlugins("beforeLayout",{cancelable:!0}))return;on.update(this,this.width,this.height,e);const t=this.chartArea,i=t.width<=0||t.height<=0;this._layers=[],fe(this.boxes,(e=>{i&&"chartArea"===e.position||(e.configure&&e.configure(),this._layers.push(...e._layers()))}),this),this._layers.forEach(((e,t)=>{e._idx=t})),this.notifyPlugins("afterLayout")}_updateDatasets(e){if(!1!==this.notifyPlugins("beforeDatasetsUpdate",{mode:e,cancelable:!0})){for(let e=0,t=this.data.datasets.length;e<t;++e)this.getDatasetMeta(e).controller.configure();for(let t=0,i=this.data.datasets.length;t<i;++t)this._updateDataset(t,Se(e)?e({datasetIndex:t}):e);this.notifyPlugins("afterDatasetsUpdate",{mode:e})}}_updateDataset(e,t){const i=this.getDatasetMeta(e),n={meta:i,index:e,mode:t,cancelable:!0};!1!==this.notifyPlugins("beforeDatasetUpdate",n)&&(i.controller._update(t),n.cancelable=!1,this.notifyPlugins("afterDatasetUpdate",n))}render(){!1!==this.notifyPlugins("beforeRender",{cancelable:!0})&&(yi.has(this)?this.attached&&!yi.running(this)&&yi.start(this):(this.draw(),ns({chart:this})))}draw(){let e;if(this._resizeBeforeDraw){const{width:e,height:t}=this._resizeBeforeDraw;this._resizeBeforeDraw=null,this._resize(e,t)}if(this.clear(),this.width<=0||this.height<=0)return;if(!1===this.notifyPlugins("beforeDraw",{cancelable:!0}))return;const t=this._layers;for(e=0;e<t.length&&t[e].z<=0;++e)t[e].draw(this.chartArea);for(this._drawDatasets();e<t.length;++e)t[e].draw(this.chartArea);this.notifyPlugins("afterDraw")}_getSortedDatasetMetas(e){const t=this._sortedMetasets,i=[];let n,s;for(n=0,s=t.length;n<s;++n){const s=t[n];e&&!s.visible||i.push(s)}return i}getSortedVisibleDatasetMetas(){return this._getSortedDatasetMetas(!0)}_drawDatasets(){if(!1===this.notifyPlugins("beforeDatasetsDraw",{cancelable:!0}))return;const e=this.getSortedVisibleDatasetMetas();for(let t=e.length-1;t>=0;--t)this._drawDataset(e[t]);this.notifyPlugins("afterDatasetsDraw")}_drawDataset(e){const t=this.ctx,i={meta:e,index:e.index,cancelable:!0},n=function(e,t){const i=t._clip;if(i.disabled)return!1;const n=function(e,t){const{xScale:i,yScale:n}=e;return i&&n?{left:gi(i,t,"left"),right:gi(i,t,"right"),top:gi(n,t,"top"),bottom:gi(n,t,"bottom")}:t}(t,e.chartArea);return{left:!1===i.left?0:n.left-(!0===i.left?0:i.left),right:!1===i.right?e.width:n.right+(!0===i.right?0:i.right),top:!1===i.top?0:n.top-(!0===i.top?0:i.top),bottom:!1===i.bottom?e.height:n.bottom+(!0===i.bottom?0:i.bottom)}}(this,e);!1!==this.notifyPlugins("beforeDatasetDraw",i)&&(n&&kt(t,n),e.controller.draw(),n&&St(t),i.cancelable=!1,this.notifyPlugins("afterDatasetDraw",i))}isPointInArea(e){return Et(e,this.chartArea,this._minPadding)}getElementsAtEventForMode(e,t,i,n){const s=qi.modes[t];return"function"==typeof s?s(this,e,i,n):[]}getDatasetMeta(e){const t=this.data.datasets[e],i=this._metasets;let n=i.filter((e=>e&&e._dataset===t)).pop();return n||(n={type:null,data:[],dataset:null,controller:null,hidden:null,xAxisID:null,yAxisID:null,order:t&&t.order||0,index:e,_dataset:t,_parsed:[],_sorted:!1},i.push(n)),n}getContext(){return this.$context||(this.$context=Ht(null,{chart:this,type:"chart"}))}getVisibleDatasetCount(){return this.getSortedVisibleDatasetMetas().length}isDatasetVisible(e){const t=this.data.datasets[e];if(!t)return!1;const i=this.getDatasetMeta(e);return"boolean"==typeof i.hidden?!i.hidden:!t.hidden}setDatasetVisibility(e,t){this.getDatasetMeta(e).hidden=!t}toggleDataVisibility(e){this._hiddenIndices[e]=!this._hiddenIndices[e]}getDataVisibility(e){return!this._hiddenIndices[e]}_updateVisibility(e,t,i){const n=i?"show":"hide",s=this.getDatasetMeta(e),a=s.controller._resolveAnimations(void 0,n);ke(t)?(s.data[t].hidden=!i,this.update()):(this.setDatasetVisibility(e,i),a.update(s,{visible:i}),this.update((t=>t.datasetIndex===e?n:void 0)))}hide(e,t){this._updateVisibility(e,t,!1)}show(e,t){this._updateVisibility(e,t,!0)}_destroyDatasetMeta(e){const t=this._metasets[e];t&&t.controller&&t.controller._destroy(),delete this._metasets[e]}_stop(){let e,t;for(this.stop(),yi.remove(this),e=0,t=this.data.datasets.length;e<t;++e)this._destroyDatasetMeta(e)}destroy(){this.notifyPlugins("beforeDestroy");const{canvas:e,ctx:t}=this;this._stop(),this.config.clearCache(),e&&(this.unbindEvents(),_t(e,t),this.platform.releaseContext(t),this.canvas=null,this.ctx=null),delete os[this.id],this.notifyPlugins("afterDestroy")}toBase64Image(...e){return this.canvas.toDataURL(...e)}bindEvents(){this.bindUserEvents(),this.options.responsive?this.bindResponsiveEvents():this.attached=!0}bindUserEvents(){const e=this._listeners,t=this.platform,i=(i,n)=>{t.addEventListener(this,i,n),e[i]=n},n=(e,t,i)=>{e.offsetX=t,e.offsetY=i,this._eventHandler(e)};fe(this.options.events,(e=>i(e,n)))}bindResponsiveEvents(){this._responsiveListeners||(this._responsiveListeners={});const e=this._responsiveListeners,t=this.platform,i=(i,n)=>{t.addEventListener(this,i,n),e[i]=n},n=(i,n)=>{e[i]&&(t.removeEventListener(this,i,n),delete e[i])},s=(e,t)=>{this.canvas&&this.resize(e,t)};let a;const o=()=>{n("attach",o),this.attached=!0,this.resize(),i("resize",s),i("detach",a)};a=()=>{this.attached=!1,n("resize",s),this._stop(),this._resize(0,0),i("attach",o)},t.isAttached(this.canvas)?o():a()}unbindEvents(){fe(this._listeners,((e,t)=>{this.platform.removeEventListener(this,t,e)})),this._listeners={},fe(this._responsiveListeners,((e,t)=>{this.platform.removeEventListener(this,t,e)})),this._responsiveListeners=void 0}updateHoverStyle(e,t,i){const n=i?"set":"remove";let s,a,o,r;for("dataset"===t&&(s=this.getDatasetMeta(e[0].datasetIndex),s.controller["_"+n+"DatasetHoverStyle"]()),o=0,r=e.length;o<r;++o){a=e[o];const t=a&&this.getDatasetMeta(a.datasetIndex).controller;t&&t[n+"HoverStyle"](a.element,a.datasetIndex,a.index)}}getActiveElements(){return this._active||[]}setActiveElements(e){const t=this._active||[],i=e.map((({datasetIndex:e,index:t})=>{const i=this.getDatasetMeta(e);if(!i)throw new Error("No dataset found at index "+e);return{datasetIndex:e,element:i.data[t],index:t}}));!pe(i,t)&&(this._active=i,this._lastEvent=null,this._updateHoverStyles(i,t))}notifyPlugins(e,t,i){return this._plugins.notify(this,e,t,i)}isPluginEnabled(e){return 1===this._plugins._cache.filter((t=>t.plugin.id===e)).length}_updateHoverStyles(e,t,i){const n=this.options.hover,s=(e,t)=>e.filter((e=>!t.some((t=>e.datasetIndex===t.datasetIndex&&e.index===t.index)))),a=s(t,e),o=i?e:s(e,t);a.length&&this.updateHoverStyle(a,n.mode,!1),o.length&&n.mode&&this.updateHoverStyle(o,n.mode,!0)}_eventHandler(e,t){const i={event:e,replay:t,cancelable:!0,inChartArea:this.isPointInArea(e)},n=t=>(t.options.events||this.options.events).includes(e.native.type);if(!1===this.notifyPlugins("beforeEvent",i,n))return;const s=this._handleEvent(e,t,i.inChartArea);return i.cancelable=!1,this.notifyPlugins("afterEvent",i,n),(s||i.changed)&&this.render(),this}_handleEvent(e,t,i){const{_active:n=[],options:s}=this,a=t,o=this._getActiveElements(e,n,i,a),r=function(e){return"mouseup"===e.type||"click"===e.type||"contextmenu"===e.type}(e),l=function(e,t,i,n){return i&&"mouseout"!==e.type?n?t:e:null}(e,this._lastEvent,i,r);i&&(this._lastEvent=null,ue(s.onHover,[e,o,this],this),r&&ue(s.onClick,[e,o,this],this));const c=!pe(o,n);return(c||t)&&(this._active=o,this._updateHoverStyles(o,n,t)),this._lastEvent=l,c}_getActiveElements(e,t,i,n){if("mouseout"===e.type)return[];if(!i)return t;const s=this.options.hover;return this.getElementsAtEventForMode(e,s.mode,s,n)}}function hs(){return fe(cs.instances,(e=>e._plugins.invalidate()))}function ds(e,t){const{x:i,y:n,base:s,width:a,height:o}=e.getProps(["x","y","base","width","height"],t);let r,l,c,h,d;return e.horizontal?(d=o/2,r=Math.min(i,s),l=Math.max(i,s),c=n-d,h=n+d):(d=a/2,r=i-d,l=i+d,c=Math.min(n,s),h=Math.max(n,s)),{left:r,top:c,right:l,bottom:h}}function us(e,t,i,n){return e?0:Ve(t,i,n)}function fs(e,t,i,n){const s=null===t,a=null===i,o=e&&!(s&&a)&&ds(e,n);return o&&(s||We(t,o.left,o.right))&&(a||We(i,o.top,o.bottom))}function ps(e,t){e.rect(t.x,t.y,t.w,t.h)}function gs(e,t,i={}){const n=e.x!==i.x?-t:0,s=e.y!==i.y?-t:0,a=(e.x+e.w!==i.x+i.w?t:0)-n,o=(e.y+e.h!==i.y+i.h?t:0)-s;return{x:e.x+n,y:e.y+s,w:e.w+a,h:e.h+o,radius:e.radius}}const ms=(e,t)=>{let{boxHeight:i=t,boxWidth:n=t}=e;return e.usePointStyle&&(i=Math.min(i,t),n=e.pointStyleWidth||Math.min(n,t)),{boxWidth:n,boxHeight:i,itemHeight:Math.max(t,i)}};class ys extends Sn{constructor(e){super(),this._added=!1,this.legendHitBoxes=[],this._hoveredItem=null,this.doughnutMode=!1,this.chart=e.chart,this.options=e.options,this.ctx=e.ctx,this.legendItems=void 0,this.columnSizes=void 0,this.lineWidths=void 0,this.maxHeight=void 0,this.maxWidth=void 0,this.top=void 0,this.bottom=void 0,this.left=void 0,this.right=void 0,this.height=void 0,this.width=void 0,this._margins=void 0,this.position=void 0,this.weight=void 0,this.fullSize=void 0}update(e,t,i){this.maxWidth=e,this.maxHeight=t,this._margins=i,this.setDimensions(),this.buildLabels(),this.fit()}setDimensions(){this.isHorizontal()?(this.width=this.maxWidth,this.left=this._margins.left,this.right=this.width):(this.height=this.maxHeight,this.top=this._margins.top,this.bottom=this.height)}buildLabels(){const e=this.options.labels||{};let t=ue(e.generateLabels,[this.chart],this)||[];e.filter&&(t=t.filter((t=>e.filter(t,this.chart.data)))),e.sort&&(t=t.sort(((t,i)=>e.sort(t,i,this.chart.data)))),this.options.reverse&&t.reverse(),this.legendItems=t}fit(){const{options:e,ctx:t}=this;if(!e.display)return void(this.width=this.height=0);const i=e.labels,n=jt(i.font),s=n.size,a=this._computeTitleHeight(),{boxWidth:o,itemHeight:r}=ms(i,s);let l,c;t.font=n.string,this.isHorizontal()?(l=this.maxWidth,c=this._fitRows(a,s,o,r)+10):(c=this.maxHeight,l=this._fitCols(a,n,o,r)+10),this.width=Math.min(l,e.maxWidth||this.maxWidth),this.height=Math.min(c,e.maxHeight||this.maxHeight)}_fitRows(e,t,i,n){const{ctx:s,maxWidth:a,options:{labels:{padding:o}}}=this,r=this.legendHitBoxes=[],l=this.lineWidths=[0],c=n+o;let h=e;s.textAlign="left",s.textBaseline="middle";let d=-1,u=-c;return this.legendItems.forEach(((e,f)=>{const p=i+t/2+s.measureText(e.text).width;(0===f||l[l.length-1]+p+2*o>a)&&(h+=c,l[l.length-(f>0?0:1)]=0,u+=c,d++),r[f]={left:0,top:u,row:d,width:p,height:n},l[l.length-1]+=p+o})),h}_fitCols(e,t,i,n){const{ctx:s,maxHeight:a,options:{labels:{padding:o}}}=this,r=this.legendHitBoxes=[],l=this.columnSizes=[],c=a-e;let h=o,d=0,u=0,f=0,p=0;return this.legendItems.forEach(((e,a)=>{const{itemWidth:g,itemHeight:m}=function(e,t,i,n,s){const a=function(e,t,i,n){let s=e.text;return s&&"string"!=typeof s&&(s=s.reduce(((e,t)=>e.length>t.length?e:t))),t+i.size/2+n.measureText(s).width}(n,e,t,i),o=function(e,t,i){let n=e;return"string"!=typeof t.text&&(n=bs(t,i)),n}(s,n,t.lineHeight);return{itemWidth:a,itemHeight:o}}(i,t,s,e,n);a>0&&u+m+2*o>c&&(h+=d+o,l.push({width:d,height:u}),f+=d+o,p++,d=u=0),r[a]={left:f,top:u,col:p,width:g,height:m},d=Math.max(d,g),u+=m+o})),h+=d,l.push({width:d,height:u}),h}adjustHitBoxes(){if(!this.options.display)return;const e=this._computeTitleHeight(),{legendHitBoxes:t,options:{align:i,labels:{padding:n},rtl:s}}=this,a=ui(s,this.left,this.width);if(this.isHorizontal()){let s=0,o=Ze(i,this.left+n,this.right-this.lineWidths[s]);for(const r of t)s!==r.row&&(s=r.row,o=Ze(i,this.left+n,this.right-this.lineWidths[s])),r.top+=this.top+e+n,r.left=a.leftForLtr(a.x(o),r.width),o+=r.width+n}else{let s=0,o=Ze(i,this.top+e+n,this.bottom-this.columnSizes[s].height);for(const r of t)r.col!==s&&(s=r.col,o=Ze(i,this.top+e+n,this.bottom-this.columnSizes[s].height)),r.top=o,r.left+=this.left+n,r.left=a.leftForLtr(a.x(r.left),r.width),o+=r.height+n}}isHorizontal(){return"top"===this.options.position||"bottom"===this.options.position}draw(){if(this.options.display){const e=this.ctx;kt(e,this),this._draw(),St(e)}}_draw(){const{options:e,columnSizes:t,lineWidths:i,ctx:n}=this,{align:s,labels:a}=e,o=yt.color,r=ui(e.rtl,this.left,this.width),l=jt(a.font),{padding:c}=a,h=l.size,d=h/2;let u;this.drawTitle(),n.textAlign=r.textAlign("left"),n.textBaseline="middle",n.lineWidth=.5,n.font=l.string;const{boxWidth:f,boxHeight:p,itemHeight:g}=ms(a,h),m=this.isHorizontal(),y=this._computeTitleHeight();u=m?{x:Ze(s,this.left+c,this.right-i[0]),y:this.top+c+y,line:0}:{x:this.left+c,y:Ze(s,this.top+y+c,this.bottom-t[0].height),line:0},fi(this.ctx,e.textDirection);const b=g+c;this.legendItems.forEach(((v,_)=>{n.strokeStyle=v.fontColor,n.fillStyle=v.fontColor;const x=n.measureText(v.text).width,w=r.textAlign(v.textAlign||(v.textAlign=a.textAlign)),E=f+d+x;let k=u.x,S=u.y;if(r.setWidth(this.width),m?_>0&&k+E+c>this.right&&(S=u.y+=b,u.line++,k=u.x=Ze(s,this.left+c,this.right-i[u.line])):_>0&&S+b>this.bottom&&(k=u.x=k+t[u.line].width+c,u.line++,S=u.y=Ze(s,this.top+y+c,this.bottom-t[u.line].height)),function(e,t,i){if(isNaN(f)||f<=0||isNaN(p)||p<0)return;n.save();const s=de(i.lineWidth,1);if(n.fillStyle=de(i.fillStyle,o),n.lineCap=de(i.lineCap,"butt"),n.lineDashOffset=de(i.lineDashOffset,0),n.lineJoin=de(i.lineJoin,"miter"),n.lineWidth=s,n.strokeStyle=de(i.strokeStyle,o),n.setLineDash(de(i.lineDash,[])),a.usePointStyle){const o={radius:p*Math.SQRT2/2,pointStyle:i.pointStyle,rotation:i.rotation,borderWidth:s},l=r.xPlus(e,f/2);wt(n,o,l,t+d,a.pointStyleWidth&&f)}else{const a=t+Math.max((h-p)/2,0),o=r.leftForLtr(e,f),l=Lt(i.borderRadius);n.beginPath(),Object.values(l).some((e=>0!==e))?At(n,{x:o,y:a,w:f,h:p,radius:l}):n.rect(o,a,f,p),n.fill(),0!==s&&n.stroke()}n.restore()}(r.x(k),S,v),k=((e,t,i,n)=>e===(n?"left":"right")?i:"center"===e?(t+i)/2:t)(w,k+f+d,m?k+E:this.right,e.rtl),function(e,t,i){Pt(n,i.text,e,t+g/2,l,{strikethrough:i.hidden,textAlign:r.textAlign(i.textAlign)})}(r.x(k),S,v),m)u.x+=E+c;else if("string"!=typeof v.text){const e=l.lineHeight;u.y+=bs(v,e)+c}else u.y+=b})),pi(this.ctx,e.textDirection)}drawTitle(){const e=this.options,t=e.title,i=jt(t.font),n=Rt(t.padding);if(!t.display)return;const s=ui(e.rtl,this.left,this.width),a=this.ctx,o=t.position,r=i.size/2,l=n.top+r;let c,h=this.left,d=this.width;if(this.isHorizontal())d=Math.max(...this.lineWidths),c=this.top+l,h=Ze(e.align,h,this.right-d);else{const t=this.columnSizes.reduce(((e,t)=>Math.max(e,t.height)),0);c=l+Ze(e.align,this.top,this.bottom-t-e.labels.padding-this._computeTitleHeight())}const u=Ze(o,h,h+d);a.textAlign=s.textAlign(Ge(o)),a.textBaseline="middle",a.strokeStyle=t.color,a.fillStyle=t.color,a.font=i.string,Pt(a,t.text,u,c,i)}_computeTitleHeight(){const e=this.options.title,t=jt(e.font),i=Rt(e.padding);return e.display?t.lineHeight+i.height:0}_getLegendItemAt(e,t){let i,n,s;if(We(e,this.left,this.right)&&We(t,this.top,this.bottom))for(s=this.legendHitBoxes,i=0;i<s.length;++i)if(n=s[i],We(e,n.left,n.left+n.width)&&We(t,n.top,n.top+n.height))return this.legendItems[i];return null}handleEvent(e){const t=this.options;if(!function(e,t){return!("mousemove"!==e&&"mouseout"!==e||!t.onHover&&!t.onLeave)||!(!t.onClick||"click"!==e&&"mouseup"!==e)}(e.type,t))return;const i=this._getLegendItemAt(e.x,e.y);if("mousemove"===e.type||"mouseout"===e.type){const a=this._hoveredItem,o=(s=i,null!==(n=a)&&null!==s&&n.datasetIndex===s.datasetIndex&&n.index===s.index);a&&!o&&ue(t.onLeave,[e,a,this],this),this._hoveredItem=i,i&&!o&&ue(t.onHover,[e,i,this],this)}else i&&ue(t.onClick,[e,i,this],this);var n,s}}function bs(e,t){return t*(e.text?e.text.length:0)}var vs={id:"legend",_element:ys,start(e,t,i){const n=e.legend=new ys({ctx:e.ctx,options:i,chart:e});on.configure(e,n,i),on.addBox(e,n)},stop(e){on.removeBox(e,e.legend),delete e.legend},beforeUpdate(e,t,i){const n=e.legend;on.configure(e,n,i),n.options=i},afterUpdate(e){const t=e.legend;t.buildLabels(),t.adjustHitBoxes()},afterEvent(e,t){t.replay||e.legend.handleEvent(t.event)},defaults:{display:!0,position:"top",align:"center",fullSize:!0,reverse:!1,weight:1e3,onClick(e,t,i){const n=t.datasetIndex,s=i.chart;s.isDatasetVisible(n)?(s.hide(n),t.hidden=!0):(s.show(n),t.hidden=!1)},onHover:null,onLeave:null,labels:{color:e=>e.chart.options.color,boxWidth:40,padding:10,generateLabels(e){const t=e.data.datasets,{labels:{usePointStyle:i,pointStyle:n,textAlign:s,color:a,useBorderRadius:o,borderRadius:r}}=e.legend.options;return e._getSortedDatasetMetas().map((e=>{const l=e.controller.getStyle(i?0:void 0),c=Rt(l.borderWidth);return{text:t[e.index].label,fillStyle:l.backgroundColor,fontColor:a,hidden:!e.visible,lineCap:l.borderCapStyle,lineDash:l.borderDash,lineDashOffset:l.borderDashOffset,lineJoin:l.borderJoinStyle,lineWidth:(c.width+c.height)/4,strokeStyle:l.borderColor,pointStyle:n||l.pointStyle,rotation:l.rotation,textAlign:s||l.textAlign,borderRadius:o&&(r||l.borderRadius),datasetIndex:e.index}}),this)}},title:{color:e=>e.chart.options.color,display:!1,position:"center",text:""}},descriptors:{_scriptable:e=>!e.startsWith("on"),labels:{_scriptable:e=>!["generateLabels","filter","sort"].includes(e)}}};new WeakMap;const _s={average(e){if(!e.length)return!1;let t,i,n=new Set,s=0,a=0;for(t=0,i=e.length;t<i;++t){const i=e[t].element;if(i&&i.hasValue()){const e=i.tooltipPosition();n.add(e.x),s+=e.y,++a}}return 0!==a&&0!==n.size&&{x:[...n].reduce(((e,t)=>e+t))/n.size,y:s/a}},nearest(e,t){if(!e.length)return!1;let i,n,s,a=t.x,o=t.y,r=Number.POSITIVE_INFINITY;for(i=0,n=e.length;i<n;++i){const n=e[i].element;if(n&&n.hasValue()){const e=(l=t,c=n.getCenterPoint(),Math.sqrt(Math.pow(c.x-l.x,2)+Math.pow(c.y-l.y,2)));e<r&&(r=e,s=n)}}var l,c;if(s){const e=s.tooltipPosition();a=e.x,o=e.y}return{x:a,y:o}}};function xs(e,t){return t&&(re(t)?Array.prototype.push.apply(e,t):e.push(t)),e}function ws(e){return("string"==typeof e||e instanceof String)&&e.indexOf("\n")>-1?e.split("\n"):e}function Es(e,t){const{element:i,datasetIndex:n,index:s}=t,a=e.getDatasetMeta(n).controller,{label:o,value:r}=a.getLabelAndValue(s);return{chart:e,label:o,parsed:a.getParsed(s),raw:e.data.datasets[n].data[s],formattedValue:r,dataset:a.getDataset(),dataIndex:s,datasetIndex:n,element:i}}function ks(e,t){const i=e.chart.ctx,{body:n,footer:s,title:a}=e,{boxWidth:o,boxHeight:r}=t,l=jt(t.bodyFont),c=jt(t.titleFont),h=jt(t.footerFont),d=a.length,u=s.length,f=n.length,p=Rt(t.padding);let g=p.height,m=0,y=n.reduce(((e,t)=>e+t.before.length+t.lines.length+t.after.length),0);y+=e.beforeBody.length+e.afterBody.length,d&&(g+=d*c.lineHeight+(d-1)*t.titleSpacing+t.titleMarginBottom),y&&(g+=f*(t.displayColors?Math.max(r,l.lineHeight):l.lineHeight)+(y-f)*l.lineHeight+(y-1)*t.bodySpacing),u&&(g+=t.footerMarginTop+u*h.lineHeight+(u-1)*t.footerSpacing);let b=0;const v=function(e){m=Math.max(m,i.measureText(e).width+b)};return i.save(),i.font=c.string,fe(e.title,v),i.font=l.string,fe(e.beforeBody.concat(e.afterBody),v),b=t.displayColors?o+2+t.boxPadding:0,fe(n,(e=>{fe(e.before,v),fe(e.lines,v),fe(e.after,v)})),b=0,i.font=h.string,fe(e.footer,v),i.restore(),m+=p.width,{width:m,height:g}}function Ss(e,t,i,n){const{x:s,width:a}=i,{width:o,chartArea:{left:r,right:l}}=e;let c="center";return"center"===n?c=s<=(r+l)/2?"left":"right":s<=a/2?c="left":s>=o-a/2&&(c="right"),function(e,t,i,n){const{x:s,width:a}=n,o=i.caretSize+i.caretPadding;return"left"===e&&s+a+o>t.width||"right"===e&&s-a-o<0||void 0}(c,e,t,i)&&(c="center"),c}function Ms(e,t,i){const n=i.yAlign||t.yAlign||function(e,t){const{y:i,height:n}=t;return i<n/2?"top":i>e.height-n/2?"bottom":"center"}(e,i);return{xAlign:i.xAlign||t.xAlign||Ss(e,t,i,n),yAlign:n}}function Cs(e,t,i,n){const{caretSize:s,caretPadding:a,cornerRadius:o}=e,{xAlign:r,yAlign:l}=i,c=s+a,{topLeft:h,topRight:d,bottomLeft:u,bottomRight:f}=Lt(o);let p=function(e,t){let{x:i,width:n}=e;return"right"===t?i-=n:"center"===t&&(i-=n/2),i}(t,r);const g=function(e,t,i){let{y:n,height:s}=e;return"top"===t?n+=i:n-="bottom"===t?s+i:s/2,n}(t,l,c);return"center"===l?"left"===r?p+=c:"right"===r&&(p-=c):"left"===r?p-=Math.max(h,u)+s:"right"===r&&(p+=Math.max(d,f)+s),{x:Ve(p,0,n.width-t.width),y:Ve(g,0,n.height-t.height)}}function Ps(e,t,i){const n=Rt(i.padding);return"center"===t?e.x+e.width/2:"right"===t?e.x+e.width-n.right:e.x+n.left}function As(e){return xs([],ws(e))}function Is(e,t){const i=t&&t.dataset&&t.dataset.tooltip&&t.dataset.tooltip.callbacks;return i?e.override(i):e}const Ds={beforeTitle:se,title(e){if(e.length>0){const t=e[0],i=t.chart.data.labels,n=i?i.length:0;if(this&&this.options&&"dataset"===this.options.mode)return t.dataset.label||"";if(t.label)return t.label;if(n>0&&t.dataIndex<n)return i[t.dataIndex]}return""},afterTitle:se,beforeBody:se,beforeLabel:se,label(e){if(this&&this.options&&"dataset"===this.options.mode)return e.label+": "+e.formattedValue||e.formattedValue;let t=e.dataset.label||"";t&&(t+=": ");const i=e.formattedValue;return oe(i)||(t+=i),t},labelColor(e){const t=e.chart.getDatasetMeta(e.datasetIndex).controller.getStyle(e.dataIndex);return{borderColor:t.borderColor,backgroundColor:t.backgroundColor,borderWidth:t.borderWidth,borderDash:t.borderDash,borderDashOffset:t.borderDashOffset,borderRadius:0}},labelTextColor(){return this.options.bodyColor},labelPointStyle(e){const t=e.chart.getDatasetMeta(e.datasetIndex).controller.getStyle(e.dataIndex);return{pointStyle:t.pointStyle,rotation:t.rotation}},afterLabel:se,afterBody:se,beforeFooter:se,footer:se,afterFooter:se};function Ts(e,t,i,n){const s=e[t].call(i,n);return void 0===s?Ds[t].call(i,n):s}class Bs extends Sn{static positioners=_s;constructor(e){super(),this.opacity=0,this._active=[],this._eventPosition=void 0,this._size=void 0,this._cachedAnimations=void 0,this._tooltipItems=[],this.$animations=void 0,this.$context=void 0,this.chart=e.chart,this.options=e.options,this.dataPoints=void 0,this.title=void 0,this.beforeBody=void 0,this.body=void 0,this.afterBody=void 0,this.footer=void 0,this.xAlign=void 0,this.yAlign=void 0,this.x=void 0,this.y=void 0,this.height=void 0,this.width=void 0,this.caretX=void 0,this.caretY=void 0,this.labelColors=void 0,this.labelPointStyles=void 0,this.labelTextColors=void 0}initialize(e){this.options=e,this._cachedAnimations=void 0,this.$context=void 0}_resolveAnimations(){const e=this._cachedAnimations;if(e)return e;const t=this.chart,i=this.options.setContext(this.getContext()),n=i.enabled&&t.options.animation&&i.animations,s=new xi(this.chart,n);return n._cacheable&&(this._cachedAnimations=Object.freeze(s)),s}getContext(){return this.$context||(this.$context=Ht(this.chart.getContext(),{tooltip:this,tooltipItems:this._tooltipItems,type:"tooltip"}))}getTitle(e,t){const{callbacks:i}=t,n=Ts(i,"beforeTitle",this,e),s=Ts(i,"title",this,e),a=Ts(i,"afterTitle",this,e);let o=[];return o=xs(o,ws(n)),o=xs(o,ws(s)),o=xs(o,ws(a)),o}getBeforeBody(e,t){return As(Ts(t.callbacks,"beforeBody",this,e))}getBody(e,t){const{callbacks:i}=t,n=[];return fe(e,(e=>{const t={before:[],lines:[],after:[]},s=Is(i,e);xs(t.before,ws(Ts(s,"beforeLabel",this,e))),xs(t.lines,Ts(s,"label",this,e)),xs(t.after,ws(Ts(s,"afterLabel",this,e))),n.push(t)})),n}getAfterBody(e,t){return As(Ts(t.callbacks,"afterBody",this,e))}getFooter(e,t){const{callbacks:i}=t,n=Ts(i,"beforeFooter",this,e),s=Ts(i,"footer",this,e),a=Ts(i,"afterFooter",this,e);let o=[];return o=xs(o,ws(n)),o=xs(o,ws(s)),o=xs(o,ws(a)),o}_createItems(e){const t=this._active,i=this.chart.data,n=[],s=[],a=[];let o,r,l=[];for(o=0,r=t.length;o<r;++o)l.push(Es(this.chart,t[o]));return e.filter&&(l=l.filter(((t,n,s)=>e.filter(t,n,s,i)))),e.itemSort&&(l=l.sort(((t,n)=>e.itemSort(t,n,i)))),fe(l,(t=>{const i=Is(e.callbacks,t);n.push(Ts(i,"labelColor",this,t)),s.push(Ts(i,"labelPointStyle",this,t)),a.push(Ts(i,"labelTextColor",this,t))})),this.labelColors=n,this.labelPointStyles=s,this.labelTextColors=a,this.dataPoints=l,l}update(e,t){const i=this.options.setContext(this.getContext()),n=this._active;let s,a=[];if(n.length){const e=_s[i.position].call(this,n,this._eventPosition);a=this._createItems(i),this.title=this.getTitle(a,i),this.beforeBody=this.getBeforeBody(a,i),this.body=this.getBody(a,i),this.afterBody=this.getAfterBody(a,i),this.footer=this.getFooter(a,i);const t=this._size=ks(this,i),o=Object.assign({},e,t),r=Ms(this.chart,i,o),l=Cs(i,o,r,this.chart);this.xAlign=r.xAlign,this.yAlign=r.yAlign,s={opacity:1,x:l.x,y:l.y,width:t.width,height:t.height,caretX:e.x,caretY:e.y}}else 0!==this.opacity&&(s={opacity:0});this._tooltipItems=a,this.$context=void 0,s&&this._resolveAnimations().update(this,s),e&&i.external&&i.external.call(this,{chart:this.chart,tooltip:this,replay:t})}drawCaret(e,t,i,n){const s=this.getCaretPosition(e,i,n);t.lineTo(s.x1,s.y1),t.lineTo(s.x2,s.y2),t.lineTo(s.x3,s.y3)}getCaretPosition(e,t,i){const{xAlign:n,yAlign:s}=this,{caretSize:a,cornerRadius:o}=i,{topLeft:r,topRight:l,bottomLeft:c,bottomRight:h}=Lt(o),{x:d,y:u}=e,{width:f,height:p}=t;let g,m,y,b,v,_;return"center"===s?(v=u+p/2,"left"===n?(g=d,m=g-a,b=v+a,_=v-a):(g=d+f,m=g+a,b=v-a,_=v+a),y=g):(m="left"===n?d+Math.max(r,c)+a:"right"===n?d+f-Math.max(l,h)-a:this.caretX,"top"===s?(b=u,v=b-a,g=m-a,y=m+a):(b=u+p,v=b+a,g=m+a,y=m-a),_=b),{x1:g,x2:m,x3:y,y1:b,y2:v,y3:_}}drawTitle(e,t,i){const n=this.title,s=n.length;let a,o,r;if(s){const l=ui(i.rtl,this.x,this.width);for(e.x=Ps(this,i.titleAlign,i),t.textAlign=l.textAlign(i.titleAlign),t.textBaseline="middle",a=jt(i.titleFont),o=i.titleSpacing,t.fillStyle=i.titleColor,t.font=a.string,r=0;r<s;++r)t.fillText(n[r],l.x(e.x),e.y+a.lineHeight/2),e.y+=a.lineHeight+o,r+1===s&&(e.y+=i.titleMarginBottom-o)}}_drawColorBox(e,t,i,n,s){const a=this.labelColors[i],o=this.labelPointStyles[i],{boxHeight:r,boxWidth:l}=s,c=jt(s.bodyFont),h=Ps(this,"left",s),d=n.x(h),u=r<c.lineHeight?(c.lineHeight-r)/2:0,f=t.y+u;if(s.usePointStyle){const t={radius:Math.min(l,r)/2,pointStyle:o.pointStyle,rotation:o.rotation,borderWidth:1},i=n.leftForLtr(d,l)+l/2,c=f+r/2;e.strokeStyle=s.multiKeyBackground,e.fillStyle=s.multiKeyBackground,xt(e,t,i,c),e.strokeStyle=a.borderColor,e.fillStyle=a.backgroundColor,xt(e,t,i,c)}else{e.lineWidth=le(a.borderWidth)?Math.max(...Object.values(a.borderWidth)):a.borderWidth||1,e.strokeStyle=a.borderColor,e.setLineDash(a.borderDash||[]),e.lineDashOffset=a.borderDashOffset||0;const t=n.leftForLtr(d,l),i=n.leftForLtr(n.xPlus(d,1),l-2),o=Lt(a.borderRadius);Object.values(o).some((e=>0!==e))?(e.beginPath(),e.fillStyle=s.multiKeyBackground,At(e,{x:t,y:f,w:l,h:r,radius:o}),e.fill(),e.stroke(),e.fillStyle=a.backgroundColor,e.beginPath(),At(e,{x:i,y:f+1,w:l-2,h:r-2,radius:o}),e.fill()):(e.fillStyle=s.multiKeyBackground,e.fillRect(t,f,l,r),e.strokeRect(t,f,l,r),e.fillStyle=a.backgroundColor,e.fillRect(i,f+1,l-2,r-2))}e.fillStyle=this.labelTextColors[i]}drawBody(e,t,i){const{body:n}=this,{bodySpacing:s,bodyAlign:a,displayColors:o,boxHeight:r,boxWidth:l,boxPadding:c}=i,h=jt(i.bodyFont);let d=h.lineHeight,u=0;const f=ui(i.rtl,this.x,this.width),p=function(i){t.fillText(i,f.x(e.x+u),e.y+d/2),e.y+=d+s},g=f.textAlign(a);let m,y,b,v,_,x,w;for(t.textAlign=a,t.textBaseline="middle",t.font=h.string,e.x=Ps(this,g,i),t.fillStyle=i.bodyColor,fe(this.beforeBody,p),u=o&&"right"!==g?"center"===a?l/2+c:l+2+c:0,v=0,x=n.length;v<x;++v){for(m=n[v],y=this.labelTextColors[v],t.fillStyle=y,fe(m.before,p),b=m.lines,o&&b.length&&(this._drawColorBox(t,e,v,f,i),d=Math.max(h.lineHeight,r)),_=0,w=b.length;_<w;++_)p(b[_]),d=h.lineHeight;fe(m.after,p)}u=0,d=h.lineHeight,fe(this.afterBody,p),e.y-=s}drawFooter(e,t,i){const n=this.footer,s=n.length;let a,o;if(s){const r=ui(i.rtl,this.x,this.width);for(e.x=Ps(this,i.footerAlign,i),e.y+=i.footerMarginTop,t.textAlign=r.textAlign(i.footerAlign),t.textBaseline="middle",a=jt(i.footerFont),t.fillStyle=i.footerColor,t.font=a.string,o=0;o<s;++o)t.fillText(n[o],r.x(e.x),e.y+a.lineHeight/2),e.y+=a.lineHeight+i.footerSpacing}}drawBackground(e,t,i,n){const{xAlign:s,yAlign:a}=this,{x:o,y:r}=e,{width:l,height:c}=i,{topLeft:h,topRight:d,bottomLeft:u,bottomRight:f}=Lt(n.cornerRadius);t.fillStyle=n.backgroundColor,t.strokeStyle=n.borderColor,t.lineWidth=n.borderWidth,t.beginPath(),t.moveTo(o+h,r),"top"===a&&this.drawCaret(e,t,i,n),t.lineTo(o+l-d,r),t.quadraticCurveTo(o+l,r,o+l,r+d),"center"===a&&"right"===s&&this.drawCaret(e,t,i,n),t.lineTo(o+l,r+c-f),t.quadraticCurveTo(o+l,r+c,o+l-f,r+c),"bottom"===a&&this.drawCaret(e,t,i,n),t.lineTo(o+u,r+c),t.quadraticCurveTo(o,r+c,o,r+c-u),"center"===a&&"left"===s&&this.drawCaret(e,t,i,n),t.lineTo(o,r+h),t.quadraticCurveTo(o,r,o+h,r),t.closePath(),t.fill(),n.borderWidth>0&&t.stroke()}_updateAnimationTarget(e){const t=this.chart,i=this.$animations,n=i&&i.x,s=i&&i.y;if(n||s){const i=_s[e.position].call(this,this._active,this._eventPosition);if(!i)return;const a=this._size=ks(this,e),o=Object.assign({},i,this._size),r=Ms(t,e,o),l=Cs(e,o,r,t);n._to===l.x&&s._to===l.y||(this.xAlign=r.xAlign,this.yAlign=r.yAlign,this.width=a.width,this.height=a.height,this.caretX=i.x,this.caretY=i.y,this._resolveAnimations().update(this,l))}}_willRender(){return!!this.opacity}draw(e){const t=this.options.setContext(this.getContext());let i=this.opacity;if(!i)return;this._updateAnimationTarget(t);const n={width:this.width,height:this.height},s={x:this.x,y:this.y};i=Math.abs(i)<.001?0:i;const a=Rt(t.padding),o=this.title.length||this.beforeBody.length||this.body.length||this.afterBody.length||this.footer.length;t.enabled&&o&&(e.save(),e.globalAlpha=i,this.drawBackground(s,e,n,t),fi(e,t.textDirection),s.y+=a.top,this.drawTitle(s,e,t),this.drawBody(s,e,t),this.drawFooter(s,e,t),pi(e,t.textDirection),e.restore())}getActiveElements(){return this._active||[]}setActiveElements(e,t){const i=this._active,n=e.map((({datasetIndex:e,index:t})=>{const i=this.chart.getDatasetMeta(e);if(!i)throw new Error("Cannot find a dataset at index "+e);return{datasetIndex:e,element:i.data[t],index:t}})),s=!pe(i,n),a=this._positionChanged(n,t);(s||a)&&(this._active=n,this._eventPosition=t,this._ignoreReplayEvents=!0,this.update(!0))}handleEvent(e,t,i=!0){if(t&&this._ignoreReplayEvents)return!1;this._ignoreReplayEvents=!1;const n=this.options,s=this._active||[],a=this._getActiveElements(e,s,t,i),o=this._positionChanged(a,e),r=t||!pe(a,s)||o;return r&&(this._active=a,(n.enabled||n.external)&&(this._eventPosition={x:e.x,y:e.y},this.update(!0,t))),r}_getActiveElements(e,t,i,n){const s=this.options;if("mouseout"===e.type)return[];if(!n)return t.filter((e=>this.chart.data.datasets[e.datasetIndex]&&void 0!==this.chart.getDatasetMeta(e.datasetIndex).controller.getParsed(e.index)));const a=this.chart.getElementsAtEventForMode(e,s.mode,s,i);return s.reverse&&a.reverse(),a}_positionChanged(e,t){const{caretX:i,caretY:n,options:s}=this,a=_s[s.position].call(this,e,t);return!1!==a&&(i!==a.x||n!==a.y)}}var Ns={id:"tooltip",_element:Bs,positioners:_s,afterInit(e,t,i){i&&(e.tooltip=new Bs({chart:e,options:i}))},beforeUpdate(e,t,i){e.tooltip&&e.tooltip.initialize(i)},reset(e,t,i){e.tooltip&&e.tooltip.initialize(i)},afterDraw(e){const t=e.tooltip;if(t&&t._willRender()){const i={tooltip:t};if(!1===e.notifyPlugins("beforeTooltipDraw",{...i,cancelable:!0}))return;t.draw(e.ctx),e.notifyPlugins("afterTooltipDraw",i)}},afterEvent(e,t){if(e.tooltip){const i=t.replay;e.tooltip.handleEvent(t.event,i,t.inChartArea)&&(t.changed=!0)}},defaults:{enabled:!0,external:null,position:"average",backgroundColor:"rgba(0,0,0,0.8)",titleColor:"#fff",titleFont:{weight:"bold"},titleSpacing:2,titleMarginBottom:6,titleAlign:"left",bodyColor:"#fff",bodySpacing:2,bodyFont:{},bodyAlign:"left",footerColor:"#fff",footerSpacing:2,footerMarginTop:6,footerFont:{weight:"bold"},footerAlign:"left",padding:6,caretPadding:2,caretSize:5,cornerRadius:6,boxHeight:(e,t)=>t.bodyFont.size,boxWidth:(e,t)=>t.bodyFont.size,multiKeyBackground:"#fff",displayColors:!0,boxPadding:0,borderColor:"rgba(0,0,0,0)",borderWidth:0,animation:{duration:400,easing:"easeOutQuart"},animations:{numbers:{type:"number",properties:["x","y","width","height","caretX","caretY"]},opacity:{easing:"linear",duration:200}},callbacks:Ds},defaultRoutes:{bodyFont:"font",footerFont:"font",titleFont:"font"},descriptors:{_scriptable:e=>"filter"!==e&&"itemSort"!==e&&"external"!==e,_indexable:!1,callbacks:{_scriptable:!1,_indexable:!1},animation:{_fallback:!1},animations:{_fallback:"animation"}},additionalOptionScopes:["interaction"]};function Os(e){const t=this.getLabels();return e>=0&&e<t.length?t[e]:e}function Ls(e,t,{horizontal:i,minRotation:n}){const s=Fe(n),a=(i?Math.sin(s):Math.cos(s))||.001,o=.75*t*(""+e).length;return Math.min(t/a,o)}class Rs extends Nn{constructor(e){super(e),this.start=void 0,this.end=void 0,this._startValue=void 0,this._endValue=void 0,this._valueRange=0}parse(e,t){return oe(e)||("number"==typeof e||e instanceof Number)&&!isFinite(+e)?null:+e}handleTickRangeOptions(){const{beginAtZero:e}=this.options,{minDefined:t,maxDefined:i}=this.getUserBounds();let{min:n,max:s}=this;const a=e=>n=t?n:e,o=e=>s=i?s:e;if(e){const e=Oe(n),t=Oe(s);e<0&&t<0?o(0):e>0&&t>0&&a(0)}if(n===s){let t=0===s?1:Math.abs(.05*s);o(s+t),e||a(n-t)}this.min=n,this.max=s}getTickLimit(){const e=this.options.ticks;let t,{maxTicksLimit:i,stepSize:n}=e;return n?(t=Math.ceil(this.max/n)-Math.floor(this.min/n)+1,t>1e3&&(console.warn(`scales.${this.id}.ticks.stepSize: ${n} would result generating up to ${t} ticks. Limiting to 1000.`),t=1e3)):(t=this.computeTickLimit(),i=i||11),i&&(t=Math.min(i,t)),t}computeTickLimit(){return Number.POSITIVE_INFINITY}buildTicks(){const e=this.options,t=e.ticks;let i=this.getTickLimit();i=Math.max(2,i);const n=function(e,t){const i=[],{bounds:n,step:s,min:a,max:o,precision:r,count:l,maxTicks:c,maxDigits:h,includeBounds:d}=e,u=s||1,f=c-1,{min:p,max:g}=t,m=!oe(a),y=!oe(o),b=!oe(l),v=(g-p)/(h+1);let _,x,w,E,k=Re((g-p)/f/u)*u;if(k<1e-14&&!m&&!y)return[{value:p},{value:g}];E=Math.ceil(g/k)-Math.floor(p/k),E>f&&(k=Re(E*k/f/u)*u),oe(r)||(_=Math.pow(10,r),k=Math.ceil(k*_)/_),"ticks"===n?(x=Math.floor(p/k)*k,w=Math.ceil(g/k)*k):(x=p,w=g),m&&y&&s&&function(e,t){const i=Math.round(e);return i-t<=e&&i+t>=e}((o-a)/s,k/1e3)?(E=Math.round(Math.min((o-a)/k,c)),k=(o-a)/E,x=a,w=o):b?(x=m?a:x,w=y?o:w,E=l-1,k=(w-x)/E):(E=(w-x)/k,E=Le(E,Math.round(E),k/1e3)?Math.round(E):Math.ceil(E));const S=Math.max(He(k),He(x));_=Math.pow(10,oe(r)?S:r),x=Math.round(x*_)/_,w=Math.round(w*_)/_;let M=0;for(m&&(d&&x!==a?(i.push({value:a}),x<a&&M++,Le(Math.round((x+M*k)*_)/_,a,Ls(a,v,e))&&M++):x<a&&M++);M<E;++M){const e=Math.round((x+M*k)*_)/_;if(y&&e>o)break;i.push({value:e})}return y&&d&&w!==o?i.length&&Le(i[i.length-1].value,o,Ls(o,v,e))?i[i.length-1].value=o:i.push({value:o}):y&&w!==o||i.push({value:w}),i}({maxTicks:i,bounds:e.bounds,min:e.min,max:e.max,precision:t.precision,step:t.stepSize,count:t.count,maxDigits:this._maxDigits(),horizontal:this.isHorizontal(),minRotation:t.minRotation||0,includeBounds:!1!==t.includeBounds},this._range||this);return"ticks"===e.bounds&&function(e,t,i){let n,s,a;for(n=0,s=e.length;n<s;n++)a=e[n][i],isNaN(a)||(t.min=Math.min(t.min,a),t.max=Math.max(t.max,a))}(n,this,"value"),e.reverse?(n.reverse(),this.start=this.max,this.end=this.min):(this.start=this.min,this.end=this.max),n}configure(){const e=this.ticks;let t=this.min,i=this.max;if(super.configure(),this.options.offset&&e.length){const n=(i-t)/Math.max(e.length-1,1)/2;t-=n,i+=n}this._startValue=t,this._endValue=i,this._valueRange=i-t}getLabelForValue(e){return ct(e,this.chart.options.locale,this.options.ticks.format)}}class js extends Rs{static id="linear";static defaults={ticks:{callback:dt.formatters.numeric}};determineDataLimits(){const{min:e,max:t}=this.getMinMax(!0);this.min=ce(e)?e:0,this.max=ce(t)?t:1,this.handleTickRangeOptions()}computeTickLimit(){const e=this.isHorizontal(),t=e?this.width:this.height,i=Fe(this.options.ticks.minRotation),n=(e?Math.sin(i):Math.cos(i))||.001,s=this._resolveTickFontOptions(0);return Math.ceil(t/Math.min(40,s.lineHeight/n))}getPixelForValue(e){return null===e?NaN:this.getPixelForDecimal((e-this._startValue)/this._valueRange)}getValueForPixel(e){return this._startValue+this.getDecimalForPixel(e)*this._valueRange}}dt.formatters.logarithmic,dt.formatters.numeric,cs.register(class extends Bi{static id="bar";static defaults={datasetElementType:!1,dataElementType:"bar",categoryPercentage:.8,barPercentage:.9,grouped:!0,animations:{numbers:{type:"number",properties:["x","y","base","width","height"]}}};static overrides={scales:{_index_:{type:"category",offset:!0,grid:{offset:!0}},_value_:{type:"linear",beginAtZero:!0}}};parsePrimitiveData(e,t,i,n){return Li(e,t,i,n)}parseArrayData(e,t,i,n){return Li(e,t,i,n)}parseObjectData(e,t,i,n){const{iScale:s,vScale:a}=e,{xAxisKey:o="x",yAxisKey:r="y"}=this._parsing,l="x"===s.axis?o:r,c="x"===a.axis?o:r,h=[];let d,u,f,p;for(d=i,u=i+n;d<u;++d)p=t[d],f={},f[s.axis]=s.parse(we(p,l),d),h.push(Oi(we(p,c),f,a,d));return h}updateRangeFromParsed(e,t,i,n){super.updateRangeFromParsed(e,t,i,n);const s=i._custom;s&&t===this._cachedMeta.vScale&&(e.min=Math.min(e.min,s.min),e.max=Math.max(e.max,s.max))}getMaxOverflow(){return 0}getLabelAndValue(e){const t=this._cachedMeta,{iScale:i,vScale:n}=t,s=this.getParsed(e),a=s._custom,o=Ri(a)?"["+a.start+", "+a.end+"]":""+n.getLabelForValue(s[n.axis]);return{label:""+i.getLabelForValue(s[i.axis]),value:o}}initialize(){this.enableOptionSharing=!0,super.initialize(),this._cachedMeta.stack=this.getDataset().stack}update(e){const t=this._cachedMeta;this.updateElements(t.data,0,t.data.length,e)}updateElements(e,t,i,n){const s="reset"===n,{index:a,_cachedMeta:{vScale:o}}=this,r=o.getBasePixel(),l=o.isHorizontal(),c=this._getRuler(),{sharedOptions:h,includeOptions:d}=this._getSharedOptions(t,n);for(let u=t;u<t+i;u++){const t=this.getParsed(u),i=s||oe(t[o.axis])?{base:r,head:r}:this._calculateBarValuePixels(u),f=this._calculateBarIndexPixels(u,c),p=(t._stacks||{})[o.axis],g={horizontal:l,base:i.base,enableBorderRadius:!p||Ri(t._custom)||a===p._top||a===p._bottom,x:l?i.head:f.center,y:l?f.center:i.head,height:l?f.size:Math.abs(i.size),width:l?Math.abs(i.size):f.size};d&&(g.options=h||this.resolveDataElementOptions(u,e[u].active?"active":n));const m=g.options||e[u].options;ji(g,m,p,a),zi(g,m,c.ratio),this.updateElement(e[u],u,g,n)}}_getStacks(e,t){const{iScale:i}=this._cachedMeta,n=i.getMatchingVisibleMetas(this._type).filter((e=>e.controller.options.grouped)),s=i.options.stacked,a=[],o=this._cachedMeta.controller.getParsed(t),r=o&&o[i.axis],l=e=>{const t=e._parsed.find((e=>e[i.axis]===r)),n=t&&t[e.vScale.axis];if(oe(n)||isNaN(n))return!0};for(const i of n)if((void 0===t||!l(i))&&((!1===s||-1===a.indexOf(i.stack)||void 0===s&&void 0===i.stack)&&a.push(i.stack),i.index===e))break;return a.length||a.push(void 0),a}_getStackCount(e){return this._getStacks(void 0,e).length}_getAxisCount(){return this._getAxis().length}getFirstScaleIdForIndexAxis(){const e=this.chart.scales,t=this.chart.options.indexAxis;return Object.keys(e).filter((i=>e[i].axis===t)).shift()}_getAxis(){const e={},t=this.getFirstScaleIdForIndexAxis();for(const i of this.chart.data.datasets)e[de("x"===this.chart.options.indexAxis?i.xAxisID:i.yAxisID,t)]=!0;return Object.keys(e)}_getStackIndex(e,t,i){const n=this._getStacks(e,i),s=void 0!==t?n.indexOf(t):-1;return-1===s?n.length-1:s}_getRuler(){const e=this.options,t=this._cachedMeta,i=t.iScale,n=[];let s,a;for(s=0,a=t.data.length;s<a;++s)n.push(i.getPixelForValue(this.getParsed(s)[i.axis],s));const o=e.barThickness;return{min:o||Ni(t),pixels:n,start:i._startPixel,end:i._endPixel,stackCount:this._getStackCount(),scale:i,grouped:e.grouped,ratio:o?1:e.categoryPercentage*e.barPercentage}}_calculateBarValuePixels(e){const{_cachedMeta:{vScale:t,_stacked:i,index:n},options:{base:s,minBarLength:a}}=this,o=s||0,r=this.getParsed(e),l=r._custom,c=Ri(l);let h,d,u=r[t.axis],f=0,p=i?this.applyStack(t,r,i):u;p!==u&&(f=p-u,p=u),c&&(u=l.barStart,p=l.barEnd-l.barStart,0!==u&&Oe(u)!==Oe(l.barEnd)&&(f=0),f+=u);const g=oe(s)||c?f:s;let m=t.getPixelForValue(g);if(h=this.chart.getDataVisibility(e)?t.getPixelForValue(f+p):m,d=h-m,Math.abs(d)<a){d=function(e,t,i){return 0!==e?Oe(e):(t.isHorizontal()?1:-1)*(t.min>=i?1:-1)}(d,t,o)*a,u===o&&(m-=d/2);const e=t.getPixelForDecimal(0),s=t.getPixelForDecimal(1),l=Math.min(e,s),f=Math.max(e,s);m=Math.max(Math.min(m,f),l),h=m+d,i&&!c&&(r._stacks[t.axis]._visualValues[n]=t.getValueForPixel(h)-t.getValueForPixel(m))}if(m===t.getPixelForValue(o)){const e=Oe(d)*t.getLineWidthForValue(o)/2;m+=e,d-=e}return{size:d,base:m,head:h,center:h+d/2}}_calculateBarIndexPixels(e,t){const i=t.scale,n=this.options,s=n.skipNull,a=de(n.maxBarThickness,1/0);let o,r;const l=this._getAxisCount();if(t.grouped){const i=s?this._getStackCount(e):t.stackCount,c="flex"===n.barThickness?function(e,t,i,n){const s=t.pixels,a=s[e];let o=e>0?s[e-1]:null,r=e<s.length-1?s[e+1]:null;const l=i.categoryPercentage;null===o&&(o=a-(null===r?t.end-t.start:r-a)),null===r&&(r=a+a-o);const c=a-(a-Math.min(o,r))/2*l;return{chunk:Math.abs(r-o)/2*l/n,ratio:i.barPercentage,start:c}}(e,t,n,i*l):function(e,t,i,n){const s=i.barThickness;let a,o;return oe(s)?(a=t.min*i.categoryPercentage,o=i.barPercentage):(a=s*n,o=1),{chunk:a/n,ratio:o,start:t.pixels[e]-a/2}}(e,t,n,i*l),h="x"===this.chart.options.indexAxis?this.getDataset().xAxisID:this.getDataset().yAxisID,d=this._getAxis().indexOf(de(h,this.getFirstScaleIdForIndexAxis())),u=this._getStackIndex(this.index,this._cachedMeta.stack,s?e:void 0)+d;o=c.start+c.chunk*u+c.chunk/2,r=Math.min(a,c.chunk*c.ratio)}else o=i.getPixelForValue(this.getParsed(e)[i.axis],e),r=Math.min(a,t.min*t.ratio);return{base:o-r/2,head:o+r/2,center:o,size:r}}draw(){const e=this._cachedMeta,t=e.vScale,i=e.data,n=i.length;let s=0;for(;s<n;++s)null===this.getParsed(s)[t.axis]||i[s].hidden||i[s].draw(this._ctx)}},class extends Nn{static id="category";static defaults={ticks:{callback:Os}};constructor(e){super(e),this._startValue=void 0,this._valueRange=0,this._addedLabels=[]}init(e){const t=this._addedLabels;if(t.length){const e=this.getLabels();for(const{index:i,label:n}of t)e[i]===n&&e.splice(i,1);this._addedLabels=[]}super.init(e)}parse(e,t){if(oe(e))return null;const i=this.getLabels();return((e,t)=>null===e?null:Ve(Math.round(e),0,t))(t=isFinite(t)&&i[t]===e?t:function(e,t,i,n){const s=e.indexOf(t);return-1===s?((e,t,i,n)=>("string"==typeof t?(i=e.push(t)-1,n.unshift({index:i,label:t})):isNaN(t)&&(i=null),i))(e,t,i,n):s!==e.lastIndexOf(t)?i:s}(i,e,de(t,e),this._addedLabels),i.length-1)}determineDataLimits(){const{minDefined:e,maxDefined:t}=this.getUserBounds();let{min:i,max:n}=this.getMinMax(!0);"ticks"===this.options.bounds&&(e||(i=0),t||(n=this.getLabels().length-1)),this.min=i,this.max=n}buildTicks(){const e=this.min,t=this.max,i=this.options.offset,n=[];let s=this.getLabels();s=0===e&&t===s.length-1?s:s.slice(e,t+1),this._valueRange=Math.max(s.length-(i?0:1),1),this._startValue=this.min-(i?.5:0);for(let i=e;i<=t;i++)n.push({value:i});return n}getLabelForValue(e){return Os.call(this,e)}configure(){super.configure(),this.isHorizontal()||(this._reversePixels=!this._reversePixels)}getPixelForValue(e){return"number"!=typeof e&&(e=this.parse(e)),null===e?NaN:this.getPixelForDecimal((e-this._startValue)/this._valueRange)}getPixelForTick(e){const t=this.ticks;return e<0||e>t.length-1?null:this.getPixelForValue(t[e].value)}getValueForPixel(e){return Math.round(this._startValue+this.getDecimalForPixel(e)*this._valueRange)}getBasePixel(){return this.bottom}},js,class extends Sn{static id="bar";static defaults={borderSkipped:"start",borderWidth:0,borderRadius:0,inflateAmount:"auto",pointStyle:void 0};static defaultRoutes={backgroundColor:"backgroundColor",borderColor:"borderColor"};constructor(e){super(),this.options=void 0,this.horizontal=void 0,this.base=void 0,this.width=void 0,this.height=void 0,this.inflateAmount=void 0,e&&Object.assign(this,e)}draw(e){const{inflateAmount:t,options:{borderColor:i,backgroundColor:n}}=this,{inner:s,outer:a}=function(e){const t=ds(e),i=t.right-t.left,n=t.bottom-t.top,s=function(e,t,i){const n=e.options.borderWidth,s=e.borderSkipped,a=Ot(n);return{t:us(s.top,a.top,0,i),r:us(s.right,a.right,0,t),b:us(s.bottom,a.bottom,0,i),l:us(s.left,a.left,0,t)}}(e,i/2,n/2),a=function(e,t,i){const{enableBorderRadius:n}=e.getProps(["enableBorderRadius"]),s=e.options.borderRadius,a=Lt(s),o=Math.min(t,i),r=e.borderSkipped,l=n||le(s);return{topLeft:us(!l||r.top||r.left,a.topLeft,0,o),topRight:us(!l||r.top||r.right,a.topRight,0,o),bottomLeft:us(!l||r.bottom||r.left,a.bottomLeft,0,o),bottomRight:us(!l||r.bottom||r.right,a.bottomRight,0,o)}}(e,i/2,n/2);return{outer:{x:t.left,y:t.top,w:i,h:n,radius:a},inner:{x:t.left+s.l,y:t.top+s.t,w:i-s.l-s.r,h:n-s.t-s.b,radius:{topLeft:Math.max(0,a.topLeft-Math.max(s.t,s.l)),topRight:Math.max(0,a.topRight-Math.max(s.t,s.r)),bottomLeft:Math.max(0,a.bottomLeft-Math.max(s.b,s.l)),bottomRight:Math.max(0,a.bottomRight-Math.max(s.b,s.r))}}}}(this),o=(r=a.radius).topLeft||r.topRight||r.bottomLeft||r.bottomRight?At:ps;var r;e.save(),a.w===s.w&&a.h===s.h||(e.beginPath(),o(e,gs(a,t,s)),e.clip(),o(e,gs(s,-t,a)),e.fillStyle=i,e.fill("evenodd")),e.beginPath(),o(e,gs(s,t)),e.fillStyle=n,e.fill(),e.restore()}inRange(e,t,i){return fs(this,e,t,i)}inXRange(e,t){return fs(this,e,null,t)}inYRange(e,t){return fs(this,null,e,t)}getCenterPoint(e){const{x:t,y:i,base:n,horizontal:s}=this.getProps(["x","y","base","horizontal"],e);return{x:s?(t+n)/2:t,y:s?i:(i+n)/2}}getRange(e){return"x"===e?this.width/2:this.height/2}},Ns,vs);const Fs=({id:e,legendLabel:t,data:i,labels:s,datasetBackgroundColor:a,datasetBorderColor:r})=>{const l=(0,o.useRef)(null),[c,h]=(0,o.useState)(null);return(0,o.useEffect)((()=>{if(!l.current)return;const e=l.current.getContext("2d"),i=new cs(e,{type:"bar",data:{labels:[],datasets:[{label:t,data:[],backgroundColor:a,borderColor:r,borderWidth:1}]},options:{responsive:!0,scales:{x:{ticks:{maxTicksLimit:15}},y:{beginAtZero:!0}}}});return h(i),()=>{i&&i.destroy(),h(null)}}),[t,a,r]),(0,o.useEffect)((()=>{c&&s?(c.data.labels=s,c.data.datasets[0].data=i,t&&c.data.datasets[0].label!==t&&(c.data.datasets[0].label=t),c.update()):c&&(c.data.labels=[],c.data.datasets[0].data=[],t&&(c.data.datasets[0].label=t),c.update())}),[c,t,s,i]),(0,n.createElement)("div",null,(0,n.createElement)("canvas",{id:e,ref:l}))},Hs=({chart:e})=>{const[t,i]=(0,o.useState)(30),s=(0,o.useMemo)((()=>e.labels.slice(-t)),[e.labels,t]),a=(0,o.useMemo)((()=>e.data.messages.slice(-t)),[e.data.messages,t]),r=(0,o.useMemo)((()=>e.data.sessions.slice(-t)),[e.data.sessions,t]);return(0,n.createElement)("div",{className:"flex flex-col gap-1"},(0,n.createElement)("div",{className:"flex grow justify-end"},(0,n.createElement)(g.SelectControl,{label:(0,m.__)("Show data for","hyve-lite"),options:[{value:7,label:(0,m.__)("Last 7 days","hyve-lite")},{value:14,label:(0,m.__)("Last 14 days","hyve-lite")},{value:30,label:(0,m.__)("Last 30 days","hyve-lite")},{value:90,label:(0,m.__)("Last 90 days","hyve-lite")}],value:t,onChange:e=>{i(e),window.hyveTrk?.add?.({feature:"charts",featureComponent:"days-filter",featureValue:e})},labelPosition:"side"})),(0,n.createElement)(Fs,{id:"messages-chart",legendLabel:e.legend.messagesLabel,labels:s,data:a,datasetBorderColor:"rgba(54, 162, 235, 0.6)",datasetBackgroundColor:"rgba(54, 162, 235, 1)"}),(0,n.createElement)(Fs,{id:"sessions-chart",legendLabel:e.legend.sessionsLabel,labels:s,data:r,datasetBorderColor:"rgba(153, 102, 255, 0.6)",datasetBackgroundColor:"rgba(153, 102, 255, 1)"}))},{setRoute:zs}=(0,l.dispatch)("hyve"),Vs=[{label:(0,m.__)("Sessions","hyve-lite"),value:window.hyve?.stats?.threads,description:(0,m.__)("Unique chat sessions created by your users.","hyve-lite")},{label:(0,m.__)("Messages","hyve-lite"),value:window.hyve?.stats?.messages,description:(0,m.__)("Total messages exchanged between users and Hyve.","hyve-lite")},{label:(0,m.__)("Knowledge Base","hyve-lite"),value:Boolean(window.hyve.isQdrantActive)?window.hyve?.stats?.totalChunks:`${window.hyve?.stats?.totalChunks} / ${window.hyve?.chunksLimit}`,description:(0,m.__)("Current knowledge base chunks used.","hyve-lite"),action:{label:(0,m.__)("Need more storage?","hyve-lite"),action:()=>zs("integrations"),condition:!Boolean(window.hyve.isQdrantActive)&&400<window.hyve?.stats?.totalChunks}}],Ws=({isBlocked:e})=>{var t;const{setRoute:i}=(0,l.useDispatch)("hyve"),s=(0,l.useSelect)((e=>e("hyve").getSettings())),{setSetting:a}=(0,l.useDispatch)("hyve"),{createNotice:r}=(0,l.useDispatch)("core/notices"),[c,h]=(0,o.useState)(!1),d=(0,o.useCallback)((async()=>{try{const e=await p()({path:`${window.hyve.api}/settings`,method:"POST",data:{data:s}});if(e.error)throw new Error(e.error);r("success",(0,m.__)("Settings saved.","hyve-lite"),{type:"snackbar",isDismissible:!0})}catch(e){r("error",e,{type:"snackbar",isDismissible:!0})}}),[s,r]);(0,o.useEffect)((()=>{c&&(d(),h(!1))}),[c,d]);const u=[{id:"knowledge-base",label:(0,m.__)("Knowledge Base","hyve-lite"),description:(0,m.__)("In Knowledge Base, view and remove any Posts/Pages added to Hyve from the chat's data source.","hyve-lite"),icon:_,action:()=>i("data")},{id:"settings",label:(0,m.__)("Personalize","hyve-lite"),description:(0,m.__)("Customize Hyve's behavior and appearance to better suit your website and brand.","hyve-lite"),icon:M,action:()=>i("settings")},{id:"docs",label:(0,m.__)("Need help?","hyve-lite"),description:(0,m.__)("Check out our documentation or contact support for assistance.","hyve-lite"),icon:C,action:()=>window?.open(window?.hyve?.docs,"_blank")}];return(0,n.createElement)("div",{className:"col-span-6 xl:col-span-4"},(0,n.createElement)(g.Panel,{header:(0,m.__)("Dashboard","hyve-lite")},(0,n.createElement)(g.PanelRow,null,(0,n.createElement)(g.__experimentalToggleGroupControl,{__nextHasNoMarginBottom:!0,isBlock:!0,label:(0,m.__)("Enable Chat on all the pages","hyve-lite"),value:Boolean(s.chat_enabled),onChange:e=>{a("chat_enabled",Boolean(e)),h(!0)},help:(0,m.__)("Display the Chat on all the pages.","hyve-lite")+" "+(0,m.__)("For specific pages, use the Hyve Gutenberg Block.","hyve-lite")},(0,n.createElement)(g.__experimentalToggleGroupControlOption,{"aria-label":(0,m.__)("Enable Chat","hyve-lite"),label:(0,m.__)("Enable","hyve-lite"),showTooltip:!0,value:!0}),(0,n.createElement)(g.__experimentalToggleGroupControlOption,{"aria-label":(0,m.__)("Enable Chat","hyve-lite"),label:(0,m.__)("Disable","hyve-lite"),showTooltip:!0,value:!1})),0===Number(null!==(t=window.hyve?.stats?.totalChunks)&&void 0!==t?t:"0")&&(0,n.createElement)("div",{className:"my-4 p-4 bg-yellow-50 border-yellow-500 text-yellow-800 rounded-md"},(0,n.createElement)("p",{className:"mb-1"},(0,m.__)("Your Knowledge Base is currently empty.","hyve-lite")," ",(0,m.__)("The Chat won’t be able to respond to questions until sources are added.","hyve-lite")," ",(0,n.createElement)(g.Button,{variant:"link",onClick:()=>i("data"),className:"!text-yellow-800 !hover:text-yellow-900 !focus:text-yellow-900 !underline !p-0 !shadow-none"},(0,m.__)("Click here to add content.","hyve-lite")))),(0,n.createElement)("h2",{className:"text-xl py-2"},(0,m.__)("Overview","hyve-lite")),(0,n.createElement)("div",{className:"grid grid-cols-1 gap-5 sm:grid-cols-3 mt-4"},Vs.map((({label:e,value:t,description:i,action:s})=>(0,n.createElement)("div",{key:e,className:"bg-white overflow-hidden shadow-sm border-[0.5px] border-gray-300 border-solid rounded-md"},(0,n.createElement)("div",{className:"px-4 py-5 sm:p-6"},(0,n.createElement)("dl",null,(0,n.createElement)("dt",{className:"text-sm leading-5 font-medium text-gray-500 truncate"},e),(0,n.createElement)("dd",{className:"my-1 text-2xl leading-9 font-semibold"},t),(0,n.createElement)("dt",{className:"text-xs text-gray-500"},i),s&&s?.condition&&(0,n.createElement)("button",{className:"text-xs pt-1 text-blue-500 cursor-pointer bg-transparent border-none p-0 text-left",onClick:s?.action},s?.label))))))),(0,n.createElement)("h2",{className:"text-xl pt-6 pb-2"},(0,m.__)("Get Started","hyve-lite")),(0,n.createElement)("div",{className:"grid grid-cols-1 gap-5 sm:grid-cols-3 my-4"},u.map((({id:e,label:t,description:i,icon:s,action:a})=>(0,n.createElement)(g.Button,{key:e,className:"bg-white h-auto text-left overflow-hidden shadow-sm border-[0.5px] border-gray-300 border-solid rounded-md cursor-pointer",onClick:()=>{a(),window.hyveTrk?.add?.({feature:"dashboard",featureComponent:"get-started-shortcut",featureValue:e})}},(0,n.createElement)("div",{className:"px-4 py-5 sm:p-6"},(0,n.createElement)("dl",null,(0,n.createElement)("dt",{className:"w-8"},s),(0,n.createElement)("dt",{className:"text-sm leading-5 font-medium py-4"},t," →"),(0,n.createElement)("dt",{className:"text-xs font-medium text-gray-500"},i))))))))),!e&&0<window.hyve?.chart?.data?.messages?.length&&(0,n.createElement)(n.Fragment,null,(0,n.createElement)("br",null),(0,n.createElement)(g.Panel,{header:(0,m.__)("Chat Usage","hyve-lite")},(0,n.createElement)(g.PanelRow,null,(0,n.createElement)(Hs,{chart:window.hyve.chart})))))};const Us=()=>{var e;const t=(0,l.useSelect)((e=>e("hyve").getSettings())),{setSetting:i}=(0,l.useDispatch)("hyve"),{createNotice:s}=(0,l.useDispatch)("core/notices"),[a,r]=(0,o.useState)(!1);return(0,n.createElement)(g.Panel,{header:(0,m.__)("Options","hyve-lite")},(0,n.createElement)(g.PanelRow,null,(0,n.createElement)(g.RangeControl,{label:(0,m.__)("Cosine Similarity Threshold","hyve-lite"),help:(0,m.__)("Determines how similar a user query must be to knowledge base content. A higher value means stricter, more relevant matches, while a lower value allows for broader, potentially less precise results. This threshold is applied to the cosine similarity score between the query embedding and the knowledge base embeddings.","hyve-lite"),initialPosition:null!==(e=t?.similarity_score_threshold)&&void 0!==e?e:.4,max:1,min:-1,step:.01,value:t?.similarity_score_threshold,disabled:a,allowReset:!0,resetFallbackValue:.4,className:"py-4",onChange:e=>{i("similarity_score_threshold",e)}})),(0,n.createElement)(g.PanelRow,null,(0,n.createElement)(g.Button,{variant:"primary",isBusy:a,disabled:a,className:"mt-2",onClick:async()=>{r(!0);try{const e=await p()({path:`${window.hyve.api}/settings`,method:"POST",data:{data:t}});if(e.error)throw new Error(e.error);s("success",(0,m.__)("Settings saved.","hyve-lite"),{type:"snackbar",isDismissible:!0})}catch(e){s("error",e?.message,{type:"snackbar",isDismissible:!0})}r(!1)}},(0,m.__)("Save","hyve-lite"))))};var $s=window.wp.url;const Ys=({posts:e,isLoading:t,hasMore:i,onFetch:s,actions:a})=>(0,n.createElement)(n.Fragment,null,(0,n.createElement)("div",{className:"flex flex-col"},(0,n.createElement)("div",{className:"bg-gray-50 px-6 py-3 text-left text-xs text-gray-700 uppercase"},(0,n.createElement)("div",{className:"flex"},(0,n.createElement)("div",{className:"w-1/6"},(0,m.__)("ID","hyve-lite")),(0,n.createElement)("div",{className:"flex-1"},(0,m.__)("Title","hyve-lite")),(0,n.createElement)("div",{className:"w-1/6 flex justify-center"},(0,m.__)("Action","hyve-lite")))),(0,n.createElement)("div",{className:"flex flex-col"},e?.map((e=>(0,n.createElement)("div",{key:e.ID,className:"flex items-center bg-white px-6 py-4 border-b text-sm text-gray-500"},(0,n.createElement)("div",{className:"w-1/6"},e.ID),(0,n.createElement)("div",{className:"flex-1 text-left rtl:text-right overflow-hidden"},(0,n.createElement)("span",{className:"max-w-full text-ellipsis overflow-hidden"},e.title)),(0,n.createElement)("div",{className:"text-center flex gap-4"},a?.map((t=>(0,n.createElement)(g.Button,{key:t?.label,variant:t?.variant||"primary",onClick:()=>t?.onClick(e.ID),disabled:t?.isBusy.includes(e.ID)||t?.isDisabled,isBusy:t?.isBusy.includes(e.ID),isDestructive:t?.isDestructive,className:"w-20 justify-center"},t?.label))))))),!e.length&&!t&&(0,n.createElement)("div",{className:"flex justify-center py-4"},(0,m.__)("No data found.","hyve-lite")))),t&&(0,n.createElement)("div",{className:"flex justify-center pt-8"},(0,n.createElement)(g.Spinner,null)),i&&(0,n.createElement)("div",{className:"flex justify-center pt-8"},(0,n.createElement)(g.Button,{variant:"secondary",onClick:s},(0,m.__)("Load More","hyve-lite"))));var qs,Ks=i(802),Qs=i.n(Ks);function Xs(){return Xs=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var i=arguments[t];for(var n in i)({}).hasOwnProperty.call(i,n)&&(e[n]=i[n])}return e},Xs.apply(null,arguments)}const Gs=e=>n.createElement("svg",Xs({xmlns:"http://www.w3.org/2000/svg",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24"},e),qs||(qs=n.createElement("path",{d:"M12 20.25c4.97 0 9-3.694 9-8.25s-4.03-8.25-9-8.25S3 7.444 3 12c0 2.104.859 4.023 2.273 5.48.432.447.74 1.04.586 1.641a4.5 4.5 0 0 1-.923 1.785A6 6 0 0 0 6 21c1.282 0 2.47-.402 3.445-1.087.81.22 1.668.337 2.555.337Z"})));var Zs;function Js(){return Js=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var i=arguments[t];for(var n in i)({}).hasOwnProperty.call(i,n)&&(e[n]=i[n])}return e},Js.apply(null,arguments)}const ea=e=>n.createElement("svg",Js({xmlns:"http://www.w3.org/2000/svg",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24"},e),Zs||(Zs=n.createElement("path",{d:"M8.625 9.75a.375.375 0 1 1-.75 0 .375.375 0 0 1 .75 0Zm0 0H8.25m4.125 0a.375.375 0 1 1-.75 0 .375.375 0 0 1 .75 0Zm0 0H12m4.125 0a.375.375 0 1 1-.75 0 .375.375 0 0 1 .75 0Zm0 0h-.375m-13.5 3.01c0 1.6 1.123 2.994 2.707 3.227q1.63.24 3.293.369V21l4.184-4.183a1.14 1.14 0 0 1 .778-.332 48 48 0 0 0 5.83-.498c1.585-.233 2.708-1.626 2.708-3.228V6.741c0-1.602-1.123-2.995-2.707-3.228A48.4 48.4 0 0 0 12 3c-2.392 0-4.744.175-7.043.513C3.373 3.746 2.25 5.14 2.25 6.741z"})));var ta;function ia(){return ia=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var i=arguments[t];for(var n in i)({}).hasOwnProperty.call(i,n)&&(e[n]=i[n])}return e},ia.apply(null,arguments)}const na=e=>n.createElement("svg",ia({xmlns:"http://www.w3.org/2000/svg",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24"},e),ta||(ta=n.createElement("path",{d:"M2.25 12.76c0 1.6 1.123 2.994 2.707 3.227q1.603.236 3.238.364c.466.037.893.281 1.153.671L12 21l2.652-3.978c.26-.39.687-.634 1.153-.67q1.636-.13 3.238-.365c1.584-.233 2.707-1.626 2.707-3.228V6.741c0-1.602-1.123-2.995-2.707-3.228A48.4 48.4 0 0 0 12 3c-2.392 0-4.744.175-7.043.513C3.373 3.746 2.25 5.14 2.25 6.741z"})));var sa;function aa(){return aa=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var i=arguments[t];for(var n in i)({}).hasOwnProperty.call(i,n)&&(e[n]=i[n])}return e},aa.apply(null,arguments)}const oa=e=>n.createElement("svg",aa({xmlns:"http://www.w3.org/2000/svg",fill:"none",stroke:"currentColor",strokeWidth:1.5,viewBox:"0 0 24 24"},e),sa||(sa=n.createElement("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M8.625 12a.375.375 0 1 1-.75 0 .375.375 0 0 1 .75 0m0 0H8.25m4.125 0a.375.375 0 1 1-.75 0 .375.375 0 0 1 .75 0m0 0H12m4.125 0a.375.375 0 1 1-.75 0 .375.375 0 0 1 .75 0m0 0h-.375M21 12c0 4.556-4.03 8.25-9 8.25a9.8 9.8 0 0 1-2.555-.337A5.97 5.97 0 0 1 5.41 20.97a6 6 0 0 1-.474-.065 4.5 4.5 0 0 0 .978-2.025c.09-.457-.133-.901-.467-1.226C3.93 16.178 3 14.189 3 12c0-4.556 4.03-8.25 9-8.25s9 3.694 9 8.25"})));var ra;function la(){return la=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var i=arguments[t];for(var n in i)({}).hasOwnProperty.call(i,n)&&(e[n]=i[n])}return e},la.apply(null,arguments)}const ca=e=>n.createElement("svg",la({xmlns:"http://www.w3.org/2000/svg",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24"},e),ra||(ra=n.createElement("path",{d:"M2.25 12.76c0 1.6 1.123 2.994 2.707 3.227q1.63.24 3.293.369V21l4.076-4.076a1.53 1.53 0 0 1 1.037-.443 48 48 0 0 0 5.68-.494c1.584-.233 2.707-1.626 2.707-3.228V6.741c0-1.602-1.123-2.995-2.707-3.228A48.4 48.4 0 0 0 12 3c-2.392 0-4.744.175-7.043.513C3.373 3.746 2.25 5.14 2.25 6.741z"})));var ha;function da(){return da=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var i=arguments[t];for(var n in i)({}).hasOwnProperty.call(i,n)&&(e[n]=i[n])}return e},da.apply(null,arguments)}const ua=e=>n.createElement("svg",da({xmlns:"http://www.w3.org/2000/svg",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24"},e),ha||(ha=n.createElement("path",{d:"M20.25 8.511c.884.284 1.5 1.128 1.5 2.097v4.286c0 1.136-.847 2.1-1.98 2.193q-.51.041-1.02.072v3.091l-3-3a50 50 0 0 1-4.02-.163 2.1 2.1 0 0 1-.825-.242m9.345-8.334a2 2 0 0 0-.476-.095 48.6 48.6 0 0 0-8.048 0c-1.131.094-1.976 1.057-1.976 2.192v4.286c0 .837.46 1.58 1.155 1.951m9.345-8.334V6.637c0-1.621-1.152-3.026-2.76-3.235A48.5 48.5 0 0 0 11.25 3c-2.115 0-4.198.137-6.24.402-1.608.209-2.76 1.614-2.76 3.235v6.226c0 1.621 1.152 3.026 2.76 3.235q.865.113 1.74.194V21l4.155-4.155"}))),{createNotice:fa}=(0,l.dispatch)("core/notices"),pa={hate:{label:(0,m.__)("Hate Speech","hyve-lite"),description:(0,m.__)("Content that expresses, incites, or promotes hate based on race, gender, ethnicity, religion, nationality, sexual orientation, disability status, or caste. Hateful content aimed at non-protected groups (e.g., chess players) is harassment.","hyve-lite"),default:.7},"hate/threatening":{label:(0,m.__)("Hate Speech/Threatening","hyve-lite"),description:(0,m.__)("Hateful content that also includes violence or serious harm towards the targeted group based on race, gender, ethnicity, religion, nationality, sexual orientation, disability status, or caste.","hyve-lite"),default:.6},harassment:{label:(0,m.__)("Harassment","hyve-lite"),description:(0,m.__)("Content that expresses, incites, or promotes harassing language towards any target.","hyve-lite"),default:.7},"harassment/threatening":{label:(0,m.__)("Harassment/Threatening","hyve-lite"),description:(0,m.__)("Harassment content that also includes violence or serious harm towards any target.","hyve-lite"),default:.6},"self-harm":{label:(0,m.__)("Self-Harm","hyve-lite"),description:(0,m.__)("Content that promotes, encourages, or depicts acts of self-harm, such as suicide, cutting, and eating disorders.","hyve-lite"),default:.5},"self-harm/intent":{label:(0,m.__)("Self-Harm with Intent","hyve-lite"),description:(0,m.__)("Content where the speaker expresses that they are engaging or intend to engage in acts of self-harm, such as suicide, cutting, and eating disorders.","hyve-lite"),default:.5},"self-harm/instructions":{label:(0,m.__)("Self-Harm Instructions","hyve-lite"),description:(0,m.__)("Content that encourages performing acts of self-harm, such as suicide, cutting, and eating disorders, or that gives instructions or advice on how to commit such acts.","hyve-lite"),default:.5},sexual:{label:(0,m.__)("Sexual Content","hyve-lite"),description:(0,m.__)("Content meant to arouse sexual excitement, such as the description of sexual activity, or that promotes sexual services (excluding sex education and wellness).","hyve-lite"),default:.8},"sexual/minors":{label:(0,m.__)("Sexual Content Involving Minors","hyve-lite"),description:(0,m.__)("Sexual content that includes an individual who is under 18 years old.","hyve-lite"),default:.5},violence:{label:(0,m.__)("Violence","hyve-lite"),description:(0,m.__)("Content that depicts death, violence, or physical injury.","hyve-lite"),default:.7},"violence/graphic":{label:(0,m.__)("Graphic Violence","hyve-lite"),description:(0,m.__)("Content that depicts death, violence, or physical injury in graphic detail.","hyve-lite"),default:.8}},ga=async({post:e={},type:t="core",params:i={},onSuccess:n=(()=>{}),onError:s=(()=>{})})=>{let a;try{if(a="knowledge"===t?await p()({path:e.ID?`${window.hyve.api}/knowledge/${e.ID}`:`${window.hyve.api}/knowledge`,method:"POST",data:{data:e,...i}}):"link"===t?await p()({path:`${window.hyve.api}/link`,method:"POST",data:{data:e,...i}}):await p()({path:`${window.hyve.api}/data`,method:"POST",data:{data:e,...i}}),a.error)throw a;fa("success",(0,m.__)("Post has been updated.","hyve-lite"),{type:"snackbar",isDismissible:!0}),n()}catch(e){fa("error",e.error,{type:"snackbar",isDismissible:!0}),s(e)}},ma=e=>new Intl.DateTimeFormat("en-GB",{day:"2-digit",month:"2-digit",year:"numeric",hour:"2-digit",minute:"2-digit",hour12:!1}).format(new Date(e)).replace(",",""),ya=(e,t)=>{const i=new URL(e);return i.searchParams.set("utm_campaign",t),i.toString()},ba=()=>[{icon:oa,label:(0,m.__)("Chat Bubble Left Ellipsis","hyve-lite"),value:"default"},{icon:Gs,label:(0,m.__)("Chat Bubble Oval Left","hyve-lite"),value:"chat-bubble-oval-left"},{icon:ea,label:(0,m.__)("Chat Bubble Bottom Center Text","hyve-lite"),value:"chat-bubble-bottom-center-text"},{icon:na,label:(0,m.__)("Chat Bubble Bottom Center","hyve-lite"),value:"chat-bubble-bottom-center"},{icon:ca,label:(0,m.__)("Chat Bubble Left","hyve-lite"),value:"chat-bubble-left"},{icon:ua,label:(0,m.__)("Chat Bubble Left Right","hyve-lite"),value:"chat-bubble-left-right"}];var va=(0,b.jsx)(y.SVG,{viewBox:"0 0 24 24",xmlns:"http://www.w3.org/2000/svg",children:(0,b.jsx)(y.Path,{fillRule:"evenodd",clipRule:"evenodd",d:"M5.5 12a6.5 6.5 0 1 0 13 0 6.5 6.5 0 0 0-13 0ZM12 4a8 8 0 1 0 0 16 8 8 0 0 0 0-16Zm.75 4v1.5h-1.5V8h1.5Zm0 8v-5h-1.5v5h1.5Z"})}),_a=({post:e,type:t="",isOpen:i,onClose:s,onSuccess:a=(()=>{})})=>{const[r,l]=(0,o.useState)(!1);return i&&e?.review?(0,n.createElement)(g.Modal,{title:(0,m.sprintf)(
// translators: %s the reason for failed moderation.
// translators: %s the reason for failed moderation.
(0,m.__)("Failed Moderation: %s","hyve-lite"),e?.title||(0,m.__)("Untitled","hyve-lite")),onRequestClose:s,shouldCloseOnClickOutside:!1,className:"md:max-w-3xl md:w-full"},(0,n.createElement)("p",{className:"pb-4"},(0,m.__)("The content of the post listed here could not be added or updated due to non-compliance with content policies. Review these to understand the limitations and possibly modify content to align with required standards.","hyve-lite")),(0,n.createElement)("p",{className:"pb-4"},(0,m.__)("The following content was flagged for:","hyve-lite")),e&&Object.keys(e.review).map((t=>(0,n.createElement)("div",{key:t,className:"flex items-center gap-4 bg-white px-6 py-4 border-b text-sm text-gray-500"},(0,n.createElement)("div",{className:"flex items-center max-w-48 w-48"},(0,n.createElement)("h4",{className:"overflow-hidden text-ellipsis block text-nowrap"},pa[t].label),(0,n.createElement)(g.Button,{icon:va,showTooltip:!0,isPressed:!1,label:pa[t].description,className:"focus:!shadow-none"})),(0,n.createElement)("div",{className:"flex-1 text-left rtl:text-right overflow-hidden"},(0,n.createElement)("div",{className:"w-full bg-gray-200 rounded-full h-2.5 dark:bg-gray-700"},(0,n.createElement)("div",{className:"bg-blue-600 h-2.5 rounded-full",style:{width:`${Math.floor(100*e.review[t])}%`}}))),(0,n.createElement)("div",{className:"w-2/8 text-center flex"},(0,n.createElement)("span",null,Math.floor(100*e.review[t]),"%"))))),(0,n.createElement)("p",{className:"pt-4"},(0,m.__)("Occasionally, OpenAI's Moderation system may incorrectly flag content as a violation—these are false positives. Such errors can occur because automated systems sometimes lack the necessary context to interpret nuances accurately. If your content is flagged but you believe it adheres to the guidelines, please manually review it. Should you determine it does not violate the content policies, you can click the button below to override the moderation decision.","hyve-lite")),(0,n.createElement)("div",{className:"flex"},(0,n.createElement)(g.Button,{variant:"secondary",className:"mt-4 ml-auto",disabled:r,isBusy:r,onClick:async()=>{l(!0),await ga({post:e,type:t,params:{action:"override"},onSuccess:()=>{s(),a()}}),l(!1)}},(0,m.__)("Override Moderation","hyve-lite")))):null};const xa=["attachment"],wa=window.hyve.postTypes.filter((e=>!xa.includes(e.value)));wa.unshift({label:(0,m.__)("All","hyve-lite"),value:"any"});var Ea=({refresh:e,setAddPost:t})=>{const[i,s]=(0,o.useState)({}),[a,r]=(0,o.useState)([]),[c,h]=(0,o.useState)(!1),[d,u]=(0,o.useState)(!0),[f,y]=(0,o.useState)([]),[b,v]=(0,o.useState)(!1),[_,x]=(0,o.useState)(null),[w,E]=(0,o.useState)(0),[k,S]=(0,o.useState)({type:"any",search:""}),M=(0,o.useMemo)((()=>Qs()(k)),[k]),{setTotalChunks:C}=(0,l.useDispatch)("hyve"),P=(0,l.useSelect)((e=>e("hyve").hasReachedLimit()));(0,o.useEffect)((()=>{const e=setTimeout((()=>(async()=>{u(!0);const e=await p()({path:(0,$s.addQueryArgs)(`${window.hyve.api}/data`,{offset:w,...k})});u(!1),s((t=>({...t,[M]:(t[M]||[]).concat(e.posts)}))),h(e.more),C(e?.totalChunks)})()),1e3);return()=>clearTimeout(e)}),[k,C,M,w]);const A=(e,t)=>{S({...k,[e]:t})};return(0,n.createElement)(n.Fragment,null,(0,n.createElement)("div",{className:"col-span-6 xl:col-span-4"},(0,n.createElement)(g.Panel,null,(0,n.createElement)("div",{className:"items-center gap-4 flex shrink-0 h-12 px-4 py-0 border-b-[#ddd] border-b border-solid"},(0,n.createElement)(g.Button,{icon:"arrow-left-alt",hideLabel:!0,label:(0,m.__)("Back","hyve-lite"),onClick:()=>t(!1)}),(0,n.createElement)("h3",null,(0,m.__)("Add Data","hyve-lite"))),(0,n.createElement)(g.PanelRow,null,P&&(0,n.createElement)(g.Notice,{status:"warning",isDismissible:!1},(0,m.__)("You have reached the limit of posts that can be added to the Knowledge Base. Please delete existing posts if you wish to add more.","hyve-lite")),(0,n.createElement)("p",{className:"py-4"},(0,m.__)("Select posts that are informative, engaging, and relevant. These will be the building blocks that empower your chat assistant to deliver precise and helpful responses. Whether it is answering FAQs or diving into detailed explanations, the content you choose here will shape how effectively your assistant interacts with users.","hyve-lite")),(0,n.createElement)("div",{className:"relative pt-4 pb-8 overflow-x-auto"},(0,n.createElement)("div",{className:"flex gap-4 pb-2"},(0,n.createElement)("div",{className:"w-1/4"},(0,n.createElement)(g.SelectControl,{label:(0,m.__)("Post Type","hyve-lite"),hideLabelFromVision:!0,className:"h-10",options:wa,onChange:e=>A("type",e)})),(0,n.createElement)("div",{className:"w-3/4"},(0,n.createElement)(g.SearchControl,{label:(0,m.__)("Search for Posts","hyve-lite"),value:k.search,onChange:e=>A("search",e)}))),(0,n.createElement)(Ys,{posts:i[Qs()(k)]?.filter((e=>!a.includes(e.ID)))||[],isLoading:d,hasMore:c,onFetch:()=>{var e;E(null!==(e=i[M]?.length)&&void 0!==e?e:0)},actions:[{label:(0,m.__)("Add","hyve-lite"),isBusy:f,onClick:async t=>{y((e=>[...e,t]));const n=i[M].find((e=>e.ID===t));await ga({post:n,onSuccess:()=>{y((e=>e.filter((e=>e!==t)))),r((e=>[...e,t])),e(),window.hyveTrk?.add?.({feature:"knowledge-base",featureComponent:"add-data",featureValue:"import-wordpress-data"})},onError:e=>{if("content_failed_moderation"===e?.code&&void 0!==e.review){const t={...n,review:e.review};x(t),v(!0)}y((e=>e.filter((e=>e!==t))))}})},isDisabled:P}]}))))),(0,n.createElement)(_a,{post:_,isOpen:b,onClose:()=>{v(!1),y((e=>e.filter((e=>e!==_.ID))))},onSuccess:()=>{v(!1),y((e=>e.filter((e=>e!==_.ID)))),r((e=>[...e,_.ID]))}}))},ka=({title:e,description:t,campaign:i,children:s})=>(0,n.createElement)("div",{className:"col-span-6 xl:col-span-4 relative"},s,(0,n.createElement)("div",{className:"w-full h-full absolute bg-white/75 flex justify-center items-center top-0"},(0,n.createElement)("div",{className:"flex flex-col items-center gap-2 p-6 rounded-lg bg-white shadow-lg"},(0,n.createElement)("div",{className:"text-xl font-bold"},e),(0,n.createElement)("p",null,t),(0,n.createElement)(g.Button,{variant:"primary",className:"mt-2",target:"_blank",href:ya(window?.hyve?.pro,i)},(0,m.__)("Get Hyve Pro!","hyve-lite")))));const Sa=[{ID:1,title:(0,m.__)("Halloween Limited Time Deal Information","hyve-lite")},{ID:2,title:(0,m.__)("What to do if my order is missing an item?","hyve-lite")},{ID:3,title:(0,m.__)("How do I return an item?","hyve-lite")},{ID:4,title:(0,m.__)("How do I track my order?","hyve-lite")},{ID:5,title:(0,m.__)("How do I change my delivery address?","hyve-lite")},{ID:6,title:(0,m.__)("How do I cancel my order?","hyve-lite")}];const Ma=Array.from({length:5},((e,t)=>({id:t+1,title:`https://example.com/page${t+1}`})));var Ca=window.lodash;const Pa={1:{url:"https://example.com/sitemap.xml",status:"queued"},2:{url:"https://example.com/sitemap.xml",status:"completed"},3:{url:"https://example.com/sitemap.xml",status:"completed"}};const Aa=[{question:(0,m.__)("How do I reset my password?","hyve-lite"),count:5},{question:(0,m.__)("How do I change my email address?","hyve-lite"),count:3},{question:(0,m.__)("How do I update my payment method?","hyve-lite"),count:2},{question:(0,m.__)("How do I cancel my subscription?","hyve-lite"),count:1},{question:(0,m.__)("How do I change my plan?","hyve-lite"),count:1},{question:(0,m.__)("How do I update my billing information?","hyve-lite"),count:1}];var Ia=i(942),Da=i.n(Ia);const Ta=({onClick:e})=>(0,n.createElement)(g.Button,{onClick:e,className:"flex items-center justify-center p-4 h-auto w-full text-base font-normal text-gray-900 hover:text-gray-900 hover:bg-gray-100 border-t-gray-300 border-t-[0.5px] border-solid"},(0,n.createElement)("div",{className:"flex flex-row gap-1"},(0,m.__)("Load more","hyve-lite"))),Ba=({isOpen:e,onRequestClose:t})=>e?(0,n.createElement)(g.Modal,{onRequestClose:t,className:"md:max-w-3xl md:w-full overflow-hidden"},(0,n.createElement)(ka,{title:(0,m.__)("Message History is a Premium feature","hyve-lite"),description:(0,m.__)("Upgrade to Hyve Premium to unlock entire Message History feature and many more.","hyve-lite"),campaign:"messages-feature"},(0,n.createElement)("img",{className:"border-t-gray-300 border-t-[0.5px] border-x-0 border-b-0 border-solid",src:`${window?.hyve?.assets?.images}threads.png`,alt:(0,m.__)("Message threads preview showing conversation history","hyve-lite")}))):null,Na=({message:e})=>{const t=ma(1e3*e.time);return"bot"===e.sender?(0,n.createElement)("div",{className:"text-black max-w-[75%] min-w-[50%] flex flex-col items-start mr-auto my-3.5"},(0,n.createElement)("p",{className:"hyve-chat-message text-[13px] flex flex-col w-full break-words bg-[#ecf1fb] justify-start m-0 p-2.5 rounded-md",dangerouslySetInnerHTML:{__html:e.message}}),(0,n.createElement)("time",{className:"text-[10px] text-black p-1"},t)):"user"===e.sender?(0,n.createElement)("div",{className:"max-w-[75%] min-w-[50%] text-[white] flex flex-col items-end ml-auto my-3.5"},(0,n.createElement)("p",{className:"hyve-chat-message text-[13px] flex flex-col w-full break-words bg-[#1155cc] justify-end m-0 p-2.5 rounded-md"},e.message),(0,n.createElement)("time",{className:"text-[10px] text-black p-1"},t)):null},Oa=({selectedPost:e,onDelete:t})=>e?(0,n.createElement)(n.Fragment,null,(0,n.createElement)("div",{className:"flex justify-between px-4 border-b-gray-300 border-b-[0.5px] border-solid"},(0,n.createElement)("h2",{className:"text-xs font-semibold"},(0,m.__)("Thread ID","hyve-lite")),(0,n.createElement)("p",{className:"text-xs text-gray-500"},e?.thread_id?.replace("thread_","")),(0,n.createElement)(g.Button,{isDestructive:!0,"aria-label":(0,m.__)("Delete conversation","hyve-lite"),onClick:()=>t(e?.ID)},(0,n.createElement)(g.Icon,{icon:"trash"}))),(0,n.createElement)("div",{className:"overflow-scroll pl-4 grow"},e?.thread?.map(((e,t)=>(0,n.createElement)(Na,{key:t,message:e}))))):(0,n.createElement)("div",{className:"flex justify-center w-full h-full items-center"},(0,n.createElement)("p",{className:"text-xs"},(0,m.__)("Select a message to view the conversation","hyve-lite"))),La=({post:e,onClick:t,isSelected:i,isFirst:s})=>(0,n.createElement)(g.Button,{key:e.ID,onClick:()=>t(e),className:Da()("flex items-center p-4 h-auto w-full text-base font-normal text-gray-900 hover:text-gray-900 hover:bg-gray-100",{"bg-gray-100 hover:text-gray-900":i,"border-t-gray-300 border-t-[0.5px] border-solid":!s})},(0,n.createElement)("div",{className:"flex flex-col items-start gap-1"},(0,n.createElement)("span",{className:"text-sm overflow-hidden text-ellipsis text-left"},e.title),(0,n.createElement)("span",{className:"text-xs text-gray-500"},ma(e.date)))),Ra=({posts:e,selectedPost:t,onPostSelect:i,loadMoreButton:s})=>(0,n.createElement)("div",{className:"col-span-6 xl:col-span-2 border-r-gray-300 border-r-[0.5px] border-solid max-h-[672px] overflow-scroll"},e?.map(((e,s)=>(0,n.createElement)(La,{key:e.ID,post:e,onClick:i,isSelected:t?.ID===e.ID,isFirst:0===s}))),s),ja=({onClick:e})=>(0,r.applyFilters)("hyve.messages.export-messages",(0,n.createElement)(g.Button,{variant:"tertiary",onClick:e},(0,n.createElement)(g.Icon,{icon:"lock"}),(0,m.__)("Export Messages","hyve-lite")),(0,n.createElement)(g.Icon,{icon:"download"}),(0,m.__)("Export Messages","hyve-lite"));var Fa=(0,b.jsx)(y.SVG,{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 24 24",children:(0,b.jsx)(y.Path,{d:"M16.7 7.1l-6.3 8.5-3.3-2.5-.9 1.2 4.5 3.4L17.9 8z"})}),Ha=({value:e,max:t=100,className:i})=>{const s=0<t?Math.round(e/t*100):0,a=Da()("w-full h-5 border rounded-md border-solid bg-white border-light-gray relative overflow-hidden",i);return(0,n.createElement)("div",{className:a,role:"progressbar","aria-valuemin":"0","aria-valuemax":t,"aria-valuenow":e},(0,n.createElement)("div",{className:"absolute left-0 h-full bg-blue-500",style:{width:`${s}%`}}))};const za=()=>(0,n.createElement)(ka,{title:(0,m.__)("Suggested Questions is a Premium feature","hyve-lite"),description:(0,m.__)("Get the conversation started with suggested questions. Upgrade now!","hyve-lite"),campaign:"suggested-questions-settings"},(0,n.createElement)(g.PanelRow,null,(0,n.createElement)(g.BaseControl,{id:"suggested-questions",label:(0,m.__)("Suggested Questions","hyve-lite")},(0,n.createElement)("p",{className:"components-base-control__help text-xs not-italic text-[rgb(117,117,117)] mt-[calc(8px)] mb-[revert]"},(0,m.__)("These questions will be displayed in the chat to get the conversation started.","hyve-lite")),(0,n.createElement)("div",{className:"overflow-y-auto max-h-96 flex flex-col gap-4"},Array.from({length:3}).map(((e,t)=>(0,n.createElement)(g.TextControl,{key:t,value:"",placeholder:(0,m.__)("e.g. Do you ship to Europe?","hyve-lite"),className:"flex-1",onChange:()=>{}})))))));const Va=[{label:(0,m.__)("Chat Background","hyve-lite"),value:"chat_background",default:"#ffffff"},{label:(0,m.__)("Assistant Background","hyve-lite"),value:"assistant_background",default:"#ecf1fb"},{label:(0,m.__)("User Background","hyve-lite"),value:"user_background",default:"#1155cc"},{label:(0,m.__)("Icon Background","hyve-lite"),value:"icon_background",default:"#1155cc"}];const Wa=()=>(0,n.createElement)(g.Panel,{header:(0,m.__)("Access Tokens","hyve-lite")},(0,n.createElement)(g.PanelRow,null,(0,n.createElement)("p",null,(0,m.__)("Upgrade to Pro to unlock advanced access management: generate and manage secure API tokens, and control who can access your Knowledge Base via external integrations. Empower your team and automate workflows with confidence and security.","hyve-lite")),(0,n.createElement)(g.Button,{variant:"primary",className:"mt-2",target:"_blank",href:ya(window?.hyve?.pro,"api-search")},(0,m.__)("Get Hyve Pro!","hyve-lite")))),Ua={home:{label:(0,m.__)("Dashboard","hyve-lite"),icon:v,component:()=>{const e=(0,l.useSelect)((e=>e("hyve").hasAPI())),{setRoute:t}=(0,l.useDispatch)("hyve");return e?(0,n.createElement)(Ws,null):(0,n.createElement)("div",{className:"col-span-6 xl:col-span-4 relative"},(0,n.createElement)(Ws,{isBlocked:!0}),(0,n.createElement)("div",{className:"w-full h-full absolute bg-white/75 flex justify-center items-center top-0"},(0,n.createElement)("div",{className:"flex flex-col items-center max-w-lg gap-2 p-6 rounded-lg bg-white shadow-lg"},(0,n.createElement)("p",{className:"py-2"},(0,m.__)("Welcome to Hyve! Designed to seamlessly integrate AI chat into your WordPress site, this plugin allows you to craft a personalized chat experience using your own posts and pages. Enjoy engaging with your website visitors through Hyve!","hyve-lite")),(0,n.createElement)("p",{className:"py-2"},(0,m.__)("To begin using the Hyve plugin, you'll need an OpenAI API key. This key enables Hyve to communicate with OpenAI's powerful language models, ensuring you get the best possible responses.","hyve-lite")),(0,n.createElement)("div",{className:"flex gap-4"},(0,n.createElement)(g.Button,{variant:"primary",className:"mt-2",onClick:()=>t("advanced")},(0,m.__)("Setup API Key","hyve-lite")),(0,n.createElement)(g.Button,{variant:"secondary",className:"mt-2",href:window?.hyve?.docs,target:"_blank"},(0,m.__)("Documentation","hyve-lite"))))))},disabled:!1},data:{label:(0,m.__)("Knowledge Base","hyve-lite"),icon:_,children:{data:{label:(0,m.__)("Knowledge Base","hyve-lite"),component:()=>{const[e,t]=(0,o.useState)(null),i=(0,r.applyFilters)("hyve.data",$a);if(e){const{component:s}=i[e];return(0,n.createElement)(s,{setView:t})}return(0,n.createElement)("div",{className:"col-span-6 xl:col-span-4"},(0,n.createElement)(g.Panel,{header:(0,m.__)("Knowledge Base","hyve-lite")},(0,n.createElement)(g.PanelRow,null,(0,n.createElement)("p",{className:"py-4"},(0,m.__)("A list of all the content that has been added to the Knowledge Base. It's the foundation that supports your chat assistant, enabling it to provide accurate and insightful responses.","hyve-lite")),(0,n.createElement)("div",{className:"grid grid-cols-1 gap-5 sm:grid-cols-2 my-4"},Object.keys(i).map((e=>{const{label:s,description:a,icon:o,isPro:r=!1}=i[e];return(0,n.createElement)(g.Button,{key:s,className:"bg-white h-auto text-left overflow-hidden shadow-sm border-[0.5px] border-gray-300 border-solid rounded-md cursor-pointer",onClick:()=>{t(e),window.hyveTrk?.add({feature:"knowledge-base-source",featureValue:e})}},(0,n.createElement)("div",{className:"px-4 py-5 w-full sm:p-6"},(0,n.createElement)("dl",null,(0,n.createElement)("dt",{className:"flex flex-row justify-between"},(0,n.createElement)("div",{className:"w-8"},o),r&&(0,n.createElement)("div",{className:"text-xs h-6 py-1 px-3 bg-blue-500 text-white uppercase font-bold rounded-full"},(0,m.__)("Pro","hyve-lite"))),(0,n.createElement)("dt",{className:"text-sm leading-5 font-medium py-4"},s," →"),(0,n.createElement)("dt",{className:"text-xs font-medium text-gray-500"},a))))}))))),(0,n.createElement)("br",null),(0,n.createElement)(Us,null))}},update:{label:(0,m.__)("Requires Update","hyve-lite"),component:()=>{const[e,t]=(0,o.useState)([]),[i,s]=(0,o.useState)(!1),[a,r]=(0,o.useState)(!1),[c,h]=(0,o.useState)([]),[d,u]=(0,o.useState)(!1),[f,y]=(0,o.useState)(null),[b,v]=(0,o.useState)(0),{setTotalChunks:_}=(0,l.useDispatch)("hyve");return(0,o.useEffect)((()=>{(async()=>{r(!0);const e=await p()({path:(0,$s.addQueryArgs)(`${window.hyve.api}/data`,{offset:b,status:"pending"})});r(!1),t((t=>[...t,...e.posts])),s(e.more),_(e?.totalChunks)})()}),[_,b]),(0,n.createElement)(n.Fragment,null,(0,n.createElement)("div",{className:"col-span-6 xl:col-span-4"},(0,n.createElement)(g.Panel,{header:(0,m.__)("Updated","hyve-lite")},(0,n.createElement)(g.PanelRow,null,(0,n.createElement)("p",{className:"py-4"},(0,m.__)("Here, you'll see posts that have been updated since their addition to the Knowledge Base. This page allows you to review these updates and decide if you want to refresh the knowledge your assistant relies on.","hyve-lite")),(0,n.createElement)("div",{className:"relative pt-4 pb-8 overflow-x-auto"},(0,n.createElement)(Ys,{posts:e||[],isLoading:a,hasMore:i,onFetch:()=>{v(e.length)},actions:[{label:(0,m.__)("Update","hyve-lite"),isBusy:c,onClick:async i=>{h((e=>[...e,i]));const n=e.find((e=>e.ID===i));await ga({post:n,params:{action:"update"},onSuccess:()=>{h((e=>e.filter((e=>e!==i)))),t((e=>e.filter((e=>e.ID!==i))))},onError:e=>{if("content_failed_moderation"===e?.code&&void 0!==e.review){const t={...n,review:e.review};y(t),u(!0)}h((e=>e.filter((e=>e!==i))))}})}}]}))))),(0,n.createElement)(_a,{post:f,isOpen:d,onClose:()=>{u(!1),h((e=>e.filter((e=>e!==f.ID))))},onSuccess:()=>{u(!1),h((e=>e.filter((e=>e!==f.ID)))),t((e=>e.filter((e=>e.ID!==f.ID))))}}))}},flagged:{label:(0,m.__)("Failed Moderation","hyve-lite"),component:()=>{const[e,t]=(0,o.useState)([]),[i,s]=(0,o.useState)(!1),[a,r]=(0,o.useState)(!1),[c,h]=(0,o.useState)([]),[d,u]=(0,o.useState)(!1),[f,y]=(0,o.useState)(null),[b,v]=(0,o.useState)(0),{setTotalChunks:_}=(0,l.useDispatch)("hyve");return(0,o.useEffect)((()=>{(async()=>{r(!0);const e=await p()({path:(0,$s.addQueryArgs)(`${window.hyve.api}/data`,{offset:b,status:"moderation"})});r(!1),t((t=>[...t,...e.posts])),s(e.more),_(e?.totalChunks)})()}),[b,_]),(0,n.createElement)(n.Fragment,null,(0,n.createElement)("div",{className:"col-span-6 xl:col-span-4"},(0,n.createElement)(g.Panel,{header:(0,m.__)("Failed Moderation","hyve-lite")},(0,n.createElement)(g.PanelRow,null,(0,n.createElement)("p",{className:"py-4"},(0,m.__)("On this page, you'll find posts and pages that could not be added or updated due to non-compliance with content policies. Review these to understand the limitations and possibly modify content to align with required standards. You can also adjust the moderation threshold in the Settings.","hyve-lite")),(0,n.createElement)("div",{className:"relative pt-4 pb-8 overflow-x-auto"},(0,n.createElement)(Ys,{posts:e||[],isLoading:a,hasMore:i,onFetch:()=>{v(e.length)},actions:[{label:(0,m.__)("More Info","hyve-lite"),isBusy:c,variant:"secondary",onClick:t=>{const i=e.find((e=>e.ID===t));u(!0),y(i)}},{label:(0,m.__)("Update","hyve-lite"),isBusy:c,onClick:async i=>{h((e=>[...e,i]));const n=e.find((e=>e.ID===i));await ga({post:n,params:{action:"update"},onSuccess:()=>{h((e=>e.filter((e=>e!==i)))),t((e=>e.filter((e=>e.ID!==i))))},onError:e=>{if("content_failed_moderation"===e?.code&&void 0!==e.review){const t={...n,review:e.review};y(t),u(!0)}h((e=>e.filter((e=>e!==i))))}})}}]}))))),(0,n.createElement)(_a,{post:f,isOpen:d,onClose:()=>{u(!1),h((e=>e.filter((e=>e!==f.ID))))},onSuccess:()=>{t((e=>e.filter((e=>e.ID!==f.ID)))),h((e=>e.filter((e=>e!==f.ID))))}}))}},faq:{label:(0,m.__)("FAQ","hyve-lite"),component:()=>(0,n.createElement)("div",{className:"col-span-6 xl:col-span-4"},(0,n.createElement)(g.Panel,{header:(0,m.__)("FAQ","hyve-lite")},(0,n.createElement)(g.PanelRow,null,(0,n.createElement)("p",{className:"py-4"},(0,m.__)("The FAQ captures frequently asked questions that went unanswered by our chatbot, providing you with a valuable insight into what your users are seeking. This feature allows you to review these queries and decide whether to incorporate them into your bot's knowledge base. By actively updating your FAQ, you can continuously refine your chatbot's ability to address user needs effectively and enhance their interactive experience. These aren't updated instantly.","hyve-lite")),(0,n.createElement)("div",{className:"relative pt-4 pb-8 overflow-x-auto"},(0,n.createElement)(ka,{title:(0,m.__)("FAQ is a Premium feature","hyve-lite"),description:(0,m.__)("Review unanswered questions, enhance your bot's knowledge base, and refine your users' interactive experience. Upgrade now!","hyve-lite"),campaign:"faq-feature"},(0,n.createElement)("div",{className:"flex flex-col"},(0,n.createElement)("div",{className:"bg-gray-50 px-6 py-3 text-left text-xs text-gray-700 uppercase"},(0,n.createElement)("div",{className:"flex"},(0,n.createElement)("div",{className:"flex-1"},(0,m.__)("Title","hyve-lite")),(0,n.createElement)("div",{className:"w-1/6"},(0,m.__)("Count","hyve-lite")),(0,n.createElement)("div",{className:"w-1/6 flex justify-center"},(0,m.__)("Action","hyve-lite")))),(0,n.createElement)("div",{className:"flex flex-col"},Aa?.map(((e,t)=>(0,n.createElement)("div",{key:t,className:"flex items-center bg-white px-6 py-4 border-b text-sm text-gray-500"},(0,n.createElement)("div",{className:"flex-1 text-left rtl:text-right overflow-hidden"},(0,n.createElement)("span",{className:"max-w-full text-ellipsis overflow-hidden"},e.question)),(0,n.createElement)("div",{className:"w-1/6"},e.count),(0,n.createElement)("div",{className:"w-1/6 text-center flex gap-4"},(0,n.createElement)(g.Button,{variant:"secondary",onClick:()=>{},className:"w-20 justify-center"},(0,m.__)("Delete","hyve-lite")),(0,n.createElement)(g.Button,{variant:"primary",onClick:()=>{},className:"w-20 justify-center"},(0,m.__)("Add","hyve-lite"))))))))))))),isPro:!0}}},messages:{label:(0,m.__)("Messages","hyve-lite"),icon:x,component:()=>{const[e,t]=(0,o.useState)([]),[i,s]=(0,o.useState)(null),[a,c]=(0,o.useState)(!1),[h,d]=(0,o.useState)(!1),[u,f]=(0,o.useState)(!0),[y,b]=(0,o.useState)(0),{createNotice:v}=(0,l.useDispatch)("core/notices"),_=(0,o.useCallback)((async e=>{try{const i=await p()({path:(0,$s.addQueryArgs)(`${window.hyve.api}/threads`,{id:e}),method:"DELETE"});i.data&&(t((t=>t.filter((t=>t.ID!==e)))),s(null),v("success",i.data,{type:"snackbar",isDismissible:!0}),window.hyveTrk?.add?.({feature:"dashboard",featureComponent:"messages-tab",featureValue:"delete-thread"}))}catch(e){v("error",e?.message,{type:"snackbar",isDismissible:!0})}}),[v]);(0,o.useEffect)((()=>{(async()=>{f(!0);const e=await p()({path:(0,$s.addQueryArgs)(`${window.hyve.api}/threads`,{offset:y})});f(!1),t((t=>[...t,...e.posts])),c(e.more)})()}),[y]);const x=a?(0,r.applyFilters)("hyve.messages.load-more",(0,n.createElement)(Ta,{onClick:()=>d(!0)}),u,(()=>{b(e.length)})):null;return(0,n.createElement)("div",{className:"col-span-6 xl:col-span-4"},(0,n.createElement)(Ba,{isOpen:h,onRequestClose:()=>d(!1)}),(0,n.createElement)(g.Panel,{header:(0,m.__)("Messages","hyve-lite")},(0,n.createElement)(g.PanelRow,null,(0,n.createElement)("p",{className:"py-4"},(0,m.__)("Here you can see an history of all the messages between Hyve and your users.","hyve-lite")),u&&!e?.length&&(0,n.createElement)("div",{className:"flex justify-center items-center h-52 border-[0.5px] border-gray-300 border-solid"},(0,n.createElement)(g.Spinner,null)),!u&&!e?.length&&(0,n.createElement)("div",{className:"flex justify-center items-center h-52 border-[0.5px] border-gray-300 border-solid"},(0,n.createElement)("p",{className:"text-xs"},(0,m.__)("Messsages between Hyve and your users will appear here","hyve-lite"))),(!u&&e&&0<e.length||e&&0<e.length)&&(0,n.createElement)(n.Fragment,null,(0,n.createElement)("div",{className:"grid grid-cols-6 relative border-[0.5px] border-gray-300 border-solid"},(!u||e&&0<e.length)&&(0,n.createElement)(Ra,{posts:e,selectedPost:i,onPostSelect:s,loadMoreButton:x}),(0,n.createElement)("div",{className:"flex flex-col col-span-6 xl:col-span-4 max-h-[672px]"},(0,n.createElement)(Oa,{selectedPost:i,onDelete:_}))),(0,n.createElement)("div",{className:"flex justify-end mt-1"},(0,n.createElement)(ja,{onClick:()=>d(!0)}))))))}},integrations:{label:(0,m.__)("Integrations","hyve-lite"),icon:w,children:{integrations:{label:(0,m.__)("Qdrant","hyve-lite"),component:()=>{var e,t;const i=(0,l.useSelect)((e=>e("hyve").getSettings())),s=(0,l.useSelect)((e=>e("hyve").isQdrantActive())),{setSetting:a,setQdrantStatus:r}=(0,l.useDispatch)("hyve"),{createNotice:c}=(0,l.useDispatch)("core/notices"),[h,d]=(0,o.useState)(!1),[u,f]=(0,o.useState)(!1),[y,b]=(0,o.useState)([]),v=(0,o.useCallback)((async()=>{try{const e=await p()({path:`${window.hyve.api}/qdrant`});if(e.error)throw new Error(e.error);r(Boolean(e.status)),b(e.migration),e.migration?.in_progress&&setTimeout(v,1e4)}catch(e){c("error",e,{type:"snackbar",isDismissible:!0})}}),[r,c]);return(0,o.useEffect)((()=>{v()}),[v]),(0,n.createElement)("div",{className:"col-span-6 xl:col-span-4"},(0,n.createElement)(g.Panel,{header:(0,m.__)("Qdrant Integration","hyve-lite")},!s&&(0,n.createElement)(n.Fragment,null,(0,n.createElement)(g.PanelRow,null,(0,n.createElement)("p",{className:"py-4"},(0,m.__)("Use Qdrant to increase the Knowledge Base limit of Hyve. By integrating Qdrant, you can manage larger datasets and improve query performance for your website. To integrate Qdrant with your application, you'll need an API key and endpoint.","hyve-lite")),(0,n.createElement)("p",{className:"pt-0 pb-4"},(0,m.__)("Qdrant offers a free plan that supports thousands of data chunks, making it an excellent choice for most use cases without incurring additional costs.","hyve-lite")),(0,n.createElement)(g.ExternalLink,{href:window.hyve?.qdrant_docs,className:"text-blue-600"},(0,m.__)("Learn more about Qdrant","hyve-lite"))),(0,n.createElement)(g.PanelRow,null,(0,n.createElement)(g.TextControl,{label:(0,m.__)("API Key","hyve-lite"),type:"password",value:i.qdrant_api_key||"",disabled:h,onChange:e=>a("qdrant_api_key",e)})),(0,n.createElement)(g.PanelRow,null,(0,n.createElement)(g.TextControl,{label:(0,m.__)("API Endpoint","hyve-lite"),type:"url",value:i.qdrant_endpoint||"",disabled:h,onChange:e=>a("qdrant_endpoint",e)})),(0,n.createElement)(g.PanelRow,null,(0,n.createElement)(g.Button,{variant:"primary",isBusy:h,disabled:h,className:"mt-2",onClick:async()=>{d(!0);try{const e=await p()({path:`${window.hyve.api}/settings`,method:"POST",data:{data:i}});if(e.error)throw new Error(e.error);await v(),c("success",(0,m.__)("Settings saved.","hyve-lite"),{type:"snackbar",isDismissible:!0}),window.hyveTrk?.add({feature:"qdrant",featureComponent:"api-key",featureValue:"connected"})}catch(e){c("error",e,{type:"snackbar",isDismissible:!0})}d(!1)}},(0,m.__)("Connect","hyve-lite")))),s&&Boolean(y?.in_progress)&&(0,n.createElement)(g.PanelRow,null,(0,n.createElement)("p",{className:"py-4"},(0,m.__)("Migration in progress. Please wait while we process your data. This may take a couple of minutes.","hyve-lite")),(0,n.createElement)(Ha,{value:null!==(e=y?.current)&&void 0!==e?e:0,max:null!==(t=y?.total)&&void 0!==t?t:100})),s&&!Boolean(y?.in_progress)&&(0,n.createElement)(n.Fragment,null,u&&(0,n.createElement)(g.Modal,{title:(0,m.__)("Are you sure you want to disconnect Qdrant?","hyve-lite"),onRequestClose:()=>f(!1),size:"medium"},(0,n.createElement)("p",{className:"pt-2 pb-4"},(0,m.__)("If you proceed, all the data associated with this website will be deleted from Qdrant, and all the posts exceeding the Knowledge Base limit will be removed from the Knowledge Base.","hyve-lite")),(0,n.createElement)(g.Button,{variant:"primary",isDestructive:!0,isBusy:h,disabled:h,onClick:async()=>{d(!0);try{const e=await p()({path:`${window.hyve.api}/qdrant`,method:"POST"});if(e.error)throw new Error(e.error);r(!1),c("success",(0,m.__)("Qdrant disconnected.","hyve-lite"),{type:"snackbar",isDismissible:!0}),window.hyveTrk?.add({feature:"qdrant",featureComponent:"api-key",featureValue:"disconnected"})}catch(e){c("error",e,{type:"snackbar",isDismissible:!0})}d(!1)}},(0,m.__)("Disconnect","hyve-lite"))),(0,n.createElement)(g.PanelRow,null,(0,n.createElement)("p",{className:"pb-2 flex flex-row items-center"},(0,n.createElement)(g.Icon,{icon:Fa,size:24,className:"fill-green-600 mr-2"}),(0,m.__)("Qdrant is connected and ready to use.","hyve-lite")),(0,n.createElement)(g.Button,{variant:"primary",isDestructive:!0,className:"mt-2",onClick:()=>f(!0)},(0,m.__)("Disconnect","hyve-lite"))))))}},search:{label:(0,m.__)("Hyve Connect","hyve-lite"),component:()=>(0,n.createElement)("div",{className:"col-span-6 xl:col-span-4"},(0,n.createElement)(g.Panel,{header:(0,m.__)("Semantic Search","hyve-lite")},(0,n.createElement)(g.PanelRow,null,(0,n.createElement)("p",null,(0,m.__)("Enable external services to search your Knowledge Base using advanced semantic search powered by Retrieval-Augmented Generation (RAG) and OpenAI embeddings.","hyve-lite")," ",(0,m.__)("Integrate automation tools (Zapier, n8n, etc.) with a secure API endpoint to perform intelligent content searches via simple API requests.","hyve-lite")),(0,n.createElement)("p",null,(0,m.__)("With an Access Token, you can securely search your content from any location using the API.","hyve-lite")),(0,n.createElement)("p",{className:"monospace bg-gray-100 p-2 rounded whitespace-pre"},["curl --request POST",`  --url ${window.hyve.rest_url}/knowledge-base/search`,"  --header 'authorization: Bearer hyve_sk_MozAlDXXXXXXXXXXXXXXXX'","  --header 'content-type: application/json'","  --data '{",'        "query": "What is the cost of the phone?"',"}'"].map(((e,t)=>(0,n.createElement)(o.Fragment,{key:t},e,(0,n.createElement)("br",null))))))),(0,n.createElement)("br",null),(0,r.applyFilters)("hyve.tokens-management",(0,n.createElement)(Wa,null))),isPro:!Boolean(window.hyve.hasPro)}}},settings:{label:(0,m.__)("Settings","hyve-lite"),icon:E,children:{settings:{label:(0,m.__)("General","hyve-lite"),component:()=>{const e=(0,l.useSelect)((e=>e("hyve").getSettings())),{setSetting:t}=(0,l.useDispatch)("hyve"),{createNotice:i}=(0,l.useDispatch)("core/notices"),[s,a]=(0,o.useState)(!1);return(0,n.createElement)("div",{className:"col-span-6 xl:col-span-4"},(0,n.createElement)(g.Panel,{header:(0,m.__)("General Settings","hyve-lite")},(0,n.createElement)(g.PanelRow,null,(0,n.createElement)(g.__experimentalToggleGroupControl,{__nextHasNoMarginBottom:!0,isBlock:!0,label:(0,m.__)("Enable “Add to Hyve” Post Action","hyve-lite"),value:Boolean(e.post_row_addon_enabled),onChange:e=>t("post_row_addon_enabled",Boolean(e)),help:(0,m.__)("When enabled, an “Add to Hyve” button will appear in the post/page row actions. Disable this to remove the option entirely from the posts/pages list.","hyve-lite")},(0,n.createElement)(g.__experimentalToggleGroupControlOption,{"aria-label":(0,m.__)("Enable “Add to Hyve” button","hyve-lite"),label:(0,m.__)("Enable","hyve-lite"),showTooltip:!0,value:!0}),(0,n.createElement)(g.__experimentalToggleGroupControlOption,{"aria-label":(0,m.__)("Disable “Add to Hyve” button","hyve-lite"),label:(0,m.__)("Disable","hyve-lite"),showTooltip:!0,value:!1}))),(0,n.createElement)(g.PanelRow,null,(0,n.createElement)(g.TextControl,{label:(0,m.__)("Welcome Message","hyve-lite"),help:(0,m.__)("This message will be displayed when the chat is opened.","hyve-lite"),value:e.welcome_message||"",disabled:s,onChange:e=>t("welcome_message",e)})),(0,n.createElement)(g.PanelRow,null,(0,n.createElement)(g.TextControl,{label:(0,m.__)("Default Message","hyve-lite"),help:(0,m.__)("This message will return when the chat is unable to find an answer.","hyve-lite"),value:e.default_message||"",disabled:s,onChange:e=>t("default_message",e)})),(0,r.applyFilters)("hyve.suggestedQuestions",(0,n.createElement)(za,null),s,e,t),(0,n.createElement)(g.PanelRow,null,(0,n.createElement)(g.Button,{variant:"primary",isBusy:s,disabled:s,className:"mt-2",onClick:async()=>{a(!0);try{const t=await p()({path:`${window.hyve.api}/settings`,method:"POST",data:{data:e}});if(t.error)throw new Error(t.error);i("success",(0,m.__)("Settings saved.","hyve-lite"),{type:"snackbar",isDismissible:!0})}catch(e){i("error",e,{type:"snackbar",isDismissible:!0})}a(!1)}},(0,m.__)("Save","hyve-lite")))))}},appearance:{label:(0,m.__)("Appearance","hyve-lite"),component:()=>{const e=(0,o.useMemo)((()=>(0,r.applyFilters)("hyve.appearance.chat-icons",[])),[]);return(0,n.createElement)("div",{className:"col-span-6 xl:col-span-4"},(0,n.createElement)(g.Panel,{header:(0,m.__)("Appearance Settings","hyve-lite")},(0,n.createElement)(ka,{title:(0,m.__)("Appearance customization is a Premium feature","hyve-lite"),description:(0,m.__)("Customize the look and feel of your chat box with our Premium subscription. Upgrade now!","hyve-lite"),campaign:"appearance-settings"},0<e?.length&&(0,n.createElement)(g.PanelRow,null,(0,n.createElement)(g.__experimentalToggleGroupControl,{__next40pxDefaultSize:!0,__nextHasNoMarginBottom:!0,isBlock:!0,label:(0,m.__)("Chat Icons","hyve-lite"),value:"default",onChange:()=>{},className:"hyve-chat-icons"},e?.map((({icon:e,label:t,value:i})=>{const s=e;return(0,n.createElement)(g.__experimentalToggleGroupControlOptionIcon,{key:i,icon:(0,n.createElement)(s,{width:"24"}),label:t,value:i})})))),(0,n.createElement)(g.PanelRow,null,Va.map((e=>(0,n.createElement)(g.BaseControl,{id:e.label,key:e.value,label:e.label},(0,n.createElement)(g.ColorPalette,{colors:[],value:e.default,onChange:()=>{}}))))),(0,n.createElement)(g.PanelRow,null,(0,n.createElement)(g.Button,{variant:"primary",className:"mt-2",onClick:()=>{}},(0,m.__)("Save","hyve-lite"))))))},disabled:!0,isPro:!0},assistant:{label:(0,m.__)("Assistant","hyve-lite"),component:()=>{const e=(0,l.useSelect)((e=>e("hyve").getSettings())),{setSetting:t}=(0,l.useDispatch)("hyve"),{createNotice:i}=(0,l.useDispatch)("core/notices"),[s,a]=(0,o.useState)(!1);return(0,n.createElement)("div",{className:"col-span-6 xl:col-span-4"},(0,n.createElement)(g.Panel,{header:(0,m.__)("Assistant Settings","hyve-lite")},(0,n.createElement)(g.PanelRow,null,(0,n.createElement)(g.RadioControl,{label:(0,m.__)("Model","hyve-lite"),help:(0,m.__)("Choose the AI model that powers your chatbot. More advanced models provide better responses but may cost more.","hyve-lite"),options:[{label:(0,m.__)("GPT-4.1","hyve-lite"),value:"gpt-4.1",description:(0,m.__)("Most accurate and capable model — ideal for complex tasks.","hyve-lite")},{label:(0,m.__)("GPT-4.1 mini","hyve-lite"),value:"gpt-4.1-mini",description:(0,m.__)("Faster and cheaper than full GPT-4.1 — great balance of cost and quality.","hyve-lite")},{label:(0,m.__)("GPT-4.1 nano","hyve-lite"),value:"gpt-4.1-nano",description:(0,m.__)("Ultra-fast and low-cost — best for lightweight and high-traffic chats.","hyve-lite")},{label:(0,m.__)("GPT-4o","hyve-lite"),value:"gpt-4o",description:(0,m.__)("Fast, smart, and cost-effective — best for most use cases.","hyve-lite")},{label:(0,m.__)("GPT-4o mini","hyve-lite"),value:"gpt-4o-mini",description:(0,m.__)("Optimized for real-time chats — faster and cheaper than GPT-4o.","hyve-lite")},{label:(0,m.__)("GPT-3.5 Turbo 0125","hyve-lite"),value:"gpt-3.5-turbo-0125",description:(0,m.__)("Legacy model for basic tasks.","hyve-lite")}],selected:e.chat_model,disabled:s,onChange:e=>t("chat_model",e)})),(0,n.createElement)(g.PanelRow,null,(0,n.createElement)(g.RangeControl,{label:(0,m.__)("Temperature","hyve-lite"),help:(0,m.__)("What sampling temperature to use, between 0 and 2. Higher values like 0.8 will make the output more random, while lower values like 0.2 will make it more focused and deterministic. We generally recommend altering this or temperature but not both.","hyve-lite"),initialPosition:e.temperature||1,max:2,min:.1,step:.1,value:e.temperature||1,disabled:s,onChange:e=>t("temperature",e)})),(0,n.createElement)(g.PanelRow,null,(0,n.createElement)(g.RangeControl,{label:(0,m.__)("Top P","hyve-lite"),help:(0,m.__)("What sampling temperature to use, between 0 and 2. Higher values like 0.8 will make the output more random, while lower values like 0.2 will make it more focused and deterministic.","hyve-lite"),initialPosition:e.top_p||1,max:1,min:.1,step:.1,value:e.top_p||1,disabled:s,onChange:e=>t("top_p",e)})),(0,n.createElement)(g.PanelRow,null,(0,n.createElement)(g.Button,{variant:"primary",isBusy:s,disabled:s,className:"mt-2",onClick:async()=>{a(!0);try{const t=await p()({path:`${window.hyve.api}/settings`,method:"POST",data:{data:e}});if(t.error)throw new Error(t.error);i("success",(0,m.__)("Settings saved.","hyve-lite"),{type:"snackbar",isDismissible:!0})}catch(e){i("error",e,{type:"snackbar",isDismissible:!0})}a(!1)}},(0,m.__)("Save","hyve-lite")))))},disabled:!0},moderation:{label:(0,m.__)("Moderation","hyve-lite"),component:()=>{const e=(0,l.useSelect)((e=>e("hyve").getSettings())),{setSetting:t}=(0,l.useDispatch)("hyve"),{createNotice:i}=(0,l.useDispatch)("core/notices"),[s,a]=(0,o.useState)(!1);return(0,n.createElement)("div",{className:"col-span-6 xl:col-span-4"},(0,n.createElement)(g.Panel,{header:(0,m.__)("Moderation Settings","hyve-lite")},(0,n.createElement)(g.PanelRow,null,(0,n.createElement)("p",{className:"py-4"},(0,m.__)("With the moderation functionality, you can check whether your content is potentially harmful. Users can use it to identify content that might be harmful and take action.","hyve-lite")),(0,n.createElement)("p",{className:"pt-2 pb-4"},(0,m.__)("Occasionally, OpenAI's Moderation system may incorrectly flag content as a violation—these are false positives. Such errors can occur because automated systems sometimes lack the necessary context to interpret nuances accurately. If your content is flagged but you believe it adheres to the guidelines, please manually review it. Should you determine it does not violate the content policies, you can also override the moderation decisions.","hyve-lite")),Object.keys(pa).map((i=>(0,n.createElement)(g.RangeControl,{key:i,label:pa[i].label,help:pa[i].description,initialPosition:e?.moderation_threshold?.[i]/100||.5,max:1,min:0,step:.1,value:e?.moderation_threshold?.[i]/100,disabled:s,allowReset:!0,resetFallbackValue:pa[i].default,className:"py-4",onChange:n=>{return s=i,a=n,void t("moderation_threshold",{...e.moderation_threshold,[s]:100*Number(a)});var s,a}})))),(0,n.createElement)(g.PanelRow,null,(0,n.createElement)(g.Button,{variant:"primary",isBusy:s,disabled:s,className:"mt-2",onClick:async()=>{a(!0);try{const t=await p()({path:`${window.hyve.api}/settings`,method:"POST",data:{data:e}});if(t.error)throw new Error(t.error);i("success",(0,m.__)("Settings saved.","hyve-lite"),{type:"snackbar",isDismissible:!0})}catch(e){i("error",e,{type:"snackbar",isDismissible:!0})}a(!1)}},(0,m.__)("Save","hyve-lite")))))},disabled:!0},advanced:{label:(0,m.__)("Advanced","hyve-lite"),component:()=>{const e=(0,l.useSelect)((e=>e("hyve").getSettings())),{setHasAPI:t,setSetting:i}=(0,l.useDispatch)("hyve"),{createNotice:s}=(0,l.useDispatch)("core/notices"),[a,c]=(0,o.useState)(!1),h=async()=>{c(!0);try{const i=await p()({path:`${window.hyve.api}/settings`,method:"POST",data:{data:e}});if(i.error)throw new Error(i.error);e.api_key?t(!0):t(!1),s("success",(0,m.__)("Settings saved.","hyve-lite"),{type:"snackbar",isDismissible:!0})}catch(e){s("error",e,{type:"snackbar",isDismissible:!0})}c(!1)};return(0,n.createElement)("div",{className:"col-span-6 xl:col-span-4"},(0,n.createElement)(g.Panel,{header:(0,m.__)("Advanced","hyve-lite")},(0,n.createElement)(g.PanelRow,null,(0,n.createElement)(g.BaseControl,{help:(0,m.__)("This plugin requires an OpenAI API key to function properly.","hyve-lite")},(0,n.createElement)(g.TextControl,{label:(0,m.__)("OpenAI API Key","hyve-lite"),type:"password",value:e.api_key||"",disabled:a,onChange:e=>{window.hyveTrk?.add({feature:"openai",featureComponent:"api-key",featureValue:"added"}),i("api_key",e)}})),(0,n.createElement)(g.ExternalLink,{href:"https://platform.openai.com/api-keys",className:"flex mb-2 items-centertext-sm text-blue-600"},(0,m.__)("Get an API key","hyve-lite")),(0,n.createElement)(g.Button,{variant:"primary",isBusy:a,disabled:a,className:"mt-2",onClick:h},(0,m.__)("Save","hyve-lite")))),(0,n.createElement)("br",null),(0,r.applyFilters)("hyve.others",(()=>(0,n.createElement)(n.Fragment,null)),a,e,i,h))},disabled:!1}}}},$a={posts:{label:(0,m.__)("WordPress","hyve-lite"),description:(0,m.__)("Import your WordPress content into the Knowledge Base.","hyve-lite"),icon:k,component:({setView:e})=>{const[t,i]=(0,o.useState)([]),[s,a]=(0,o.useState)(!1),[r,c]=(0,o.useState)(!0),[h,d]=(0,o.useState)([]),[u,f]=(0,o.useState)(!1),{createNotice:y}=(0,l.useDispatch)("core/notices"),{setTotalChunks:b}=(0,l.useDispatch)("hyve"),[v,_]=(0,o.useState)(0);return(0,o.useEffect)((()=>{(async()=>{c(!0);const e=await p()({path:(0,$s.addQueryArgs)(`${window.hyve.api}/data`,{offset:v,status:"included"})});c(!1),i((t=>[...t,...e.posts])),a(e.more),b(e?.totalChunks)})()}),[v,b]),u?(0,n.createElement)(Ea,{refresh:()=>{_((e=>e+t.length))},setAddPost:f}):(0,n.createElement)("div",{className:"col-span-6 xl:col-span-4"},(0,n.createElement)(g.Panel,null,(0,n.createElement)("div",{className:"items-center gap-4 flex shrink-0 h-12 px-4 py-0 border-b-[#ddd] border-b border-solid"},(0,n.createElement)(g.Button,{icon:"arrow-left-alt",hideLabel:!0,label:(0,m.__)("Back","hyve-lite"),onClick:()=>e(null)}),(0,n.createElement)("h3",null,(0,m.__)("WordPress Posts","hyve-lite"))),(0,n.createElement)(g.PanelRow,null,(0,n.createElement)("p",{className:"py-4"},(0,m.__)("All the content from your WordPress site that has been added to the Knowledge Base.","hyve-lite")),(0,n.createElement)("div",{className:"w-full flex justify-end"},(0,n.createElement)(g.Button,{variant:"primary",onClick:()=>f(!0)},(0,m.__)("Add Posts","hyve-lite"))),(0,n.createElement)("div",{className:"relative pt-4 pb-8 overflow-x-auto"},(0,n.createElement)(Ys,{posts:t,isLoading:r,hasMore:s,onFetch:()=>{_(t.length)},actions:[{label:(0,m.__)("Remove","hyve-lite"),isBusy:h,variant:"secondary",isDestructive:!0,onClick:async e=>{d([...h,e]),await p()({path:(0,$s.addQueryArgs)(`${window.hyve.api}/data`,{id:e}),method:"DELETE"}),i(t.filter((t=>t.ID!==e))),y("success",(0,m.__)("Post has been removed.","hyve-lite"),{type:"snackbar",isDismissible:!0})}}]})))))}},custom:{label:(0,m.__)("Custom Data","hyve-lite"),description:(0,m.__)("Add custom data to your Knowledge Base.","hyve-lite"),icon:_,component:({setView:e})=>(0,n.createElement)("div",{className:"col-span-6 xl:col-span-4"},(0,n.createElement)(g.Panel,null,(0,n.createElement)("div",{className:"items-center gap-4 flex shrink-0 h-12 px-4 py-0 border-b-[#ddd] border-b border-solid"},(0,n.createElement)(g.Button,{icon:"arrow-left-alt",hideLabel:!0,label:(0,m.__)("Back","hyve-lite"),onClick:()=>e(null)}),(0,n.createElement)("h3",null,(0,m.__)("Custom Data","hyve-lite"))),(0,n.createElement)(g.PanelRow,null,(0,n.createElement)("p",{className:"py-4"},(0,m.__)("Custom Data allows you to privately feed specific data directly into your chat bot without displaying this information on your public website. With this, you can equip your bot with unique, specialized knowledge that aligns with your business needs and customer queries.","hyve-lite")),(0,n.createElement)("div",{className:"relative pt-4 pb-8 overflow-x-auto"},(0,n.createElement)(ka,{title:(0,m.__)("Custom Data is a Premium feature","hyve-lite"),description:(0,m.__)("Privately feed specific data directly into your chatbot, equipping specialized knowledge that aligns with your business needs and customer queries. Upgrade now!","hyve-lite"),campaign:"custom-data-feature"},(0,n.createElement)("div",{className:"flex gap-4 pb-4 flex-col"},(0,n.createElement)("div",{className:"w-full"},(0,n.createElement)(g.SearchControl,{label:(0,m.__)("Search for Posts","hyve-lite"),value:"",onChange:()=>{}})),(0,n.createElement)("div",{className:"w-full flex justify-end"},(0,n.createElement)(g.Button,{variant:"primary",onClick:()=>{}},(0,m.__)("Add Data","hyve-lite")))),(0,n.createElement)(Ys,{posts:Sa,isLoading:!1,hasMore:!1,onFetch:()=>{},actions:[{label:(0,m.__)("Edit","hyve-lite"),isBusy:[],onClick:()=>{},isDisabled:!1}]})))))),isPro:!0},url:{label:(0,m.__)("Website URL","hyve-lite"),description:(0,m.__)("Crawl URLs to add content to the Knowledge Base.","hyve-lite"),icon:S,component:({setView:e})=>(0,n.createElement)(n.Fragment,null,(0,n.createElement)("div",{className:"col-span-6 xl:col-span-4"},(0,n.createElement)(g.Panel,null,(0,n.createElement)("div",{className:"items-center gap-4 flex shrink-0 h-12 px-4 py-0 border-b-[#ddd] border-b border-solid"},(0,n.createElement)(g.Button,{icon:"arrow-left-alt",hideLabel:!0,label:(0,m.__)("Back","hyve-lite"),onClick:()=>e(null)}),(0,n.createElement)("h3",null,(0,m.__)("Website URL","hyve-lite"))),(0,n.createElement)(g.PanelRow,null,(0,n.createElement)("p",{className:"py-4"},(0,m.__)('This page allows you to add URLs to the Knowledge Base. You can add URLs to the Knowledge Base by entering the URL in the field below and clicking the "Crawl URL" button.',"hyve-lite")),(0,n.createElement)("div",{className:"relative pt-4 pb-8 overflow-x-auto"},(0,n.createElement)(ka,{title:(0,m.__)("URL Crawling is a Premium feature","hyve-lite"),description:(0,m.__)("Use this tool to crawl a website and add its content to the Knowledge Base using the sitemap. Upgrade now!","hyve-lite"),campaign:"website-crawling-feature"},(0,n.createElement)("div",{className:"flex gap-4 pb-4 flex-col"},(0,n.createElement)("div",{className:"flex w-full items-end gap-4"},(0,n.createElement)(g.TextControl,{label:(0,m.__)("Website URL","hyve-lite"),placeholder:"https://",type:"url",className:"w-full",value:"",onChange:()=>{}}),(0,n.createElement)(g.Button,{variant:"secondary",onClick:()=>{}},(0,m.__)("Crawl URL","hyve-lite")))),(0,n.createElement)(Ys,{posts:Ma||[],isLoading:!1,hasMore:!1,onFetch:()=>{},actions:[{label:(0,m.__)("Delete","hyve-lite"),onClick:()=>{},isBusy:[],variant:"secondary",isDestructive:!0}]}))))))),isPro:!0},sitemap:{label:(0,m.__)("Sitemap","hyve-lite"),description:(0,m.__)("Add a sitemap to the Knowledge Base.","hyve-lite"),icon:w,component:({setView:e})=>(0,n.createElement)(n.Fragment,null,(0,n.createElement)("div",{className:"col-span-6 xl:col-span-4"},(0,n.createElement)(g.Panel,null,(0,n.createElement)("div",{className:"items-center gap-4 flex shrink-0 h-12 px-4 py-0 border-b-[#ddd] border-b border-solid"},(0,n.createElement)(g.Button,{icon:"arrow-left-alt",hideLabel:!0,label:(0,m.__)("Back","hyve-lite"),onClick:()=>e(null)}),(0,n.createElement)("h3",null,(0,m.__)("Sitemap","hyve-lite"))),(0,n.createElement)(g.PanelRow,null,(0,n.createElement)("p",{className:"py-4"},(0,m.__)("Use this tool to crawl a website and add its content to the Knowledge Base using the sitemap.","hyve-lite")),(0,n.createElement)("div",{className:"relative pt-4 pb-8 overflow-x-auto"},(0,n.createElement)(ka,{title:(0,m.__)("Sitemap Crawling is a Premium feature","hyve-lite"),description:(0,m.__)("Use this tool to crawl a website and add its content to the Knowledge Base using the sitemap. Upgrade now!","hyve-lite"),campaign:"sitemap-crawling-feature"},(0,n.createElement)("div",{className:"flex gap-4 pb-4 flex-col"},(0,n.createElement)("div",{className:"w-full flex justify-end"},(0,n.createElement)(g.Button,{variant:"primary",onClick:()=>{}},(0,m.__)("Add Sitemap","hyve-lite")))),(0,n.createElement)("div",{className:"flex flex-col"},(0,n.createElement)("div",{className:"bg-gray-50 px-6 py-3 text-left text-xs text-gray-700 uppercase"},(0,n.createElement)("div",{className:"flex"},(0,n.createElement)("div",{className:"flex-1"},(0,m.__)("Sitemap URL","hyve-lite")),(0,n.createElement)("div",{className:"w-1/6"},(0,m.__)("Status","hyve-lite")),(0,n.createElement)("div",{className:"w-1/6 flex justify-center"},(0,m.__)("Action","hyve-lite")))),(0,n.createElement)("div",{className:"flex flex-col"},Object.keys(Pa).map((e=>(0,n.createElement)("div",{key:e,className:"flex items-center bg-white px-6 py-4 border-b text-sm text-gray-500"},(0,n.createElement)("div",{className:"flex-1 text-left rtl:text-right overflow-hidden"},(0,n.createElement)("span",{className:"max-w-full text-ellipsis overflow-hidden"},Pa[e].url)),(0,n.createElement)("div",{className:"w-1/6"},(0,Ca.capitalize)(Pa[e].status)),(0,n.createElement)("div",{className:"w-1/6 flex justify-center"},(0,n.createElement)(g.Button,{onClick:()=>{},variant:"secondary",className:"w-20 justify-center"},(0,m.__)("Details","hyve-lite")))))))))))))),isPro:!0}};var Ya=(0,b.jsx)(y.SVG,{viewBox:"0 0 24 24",xmlns:"http://www.w3.org/2000/svg",children:(0,b.jsx)(y.Path,{d:"M17.5 11.6L12 16l-5.5-4.4.9-1.2L12 14l4.5-3.6 1 1.2z"})}),qa=()=>{const e=(0,l.useSelect)((e=>e("hyve").getRoute())),t=(0,l.useSelect)((e=>e("hyve").hasAPI())),{setRoute:i}=(0,l.useDispatch)("hyve"),s=(0,r.applyFilters)("hyve.route",Ua);return(0,n.createElement)("div",{className:"col-span-6 xl:col-span-2"},(0,n.createElement)(g.Panel,{header:(0,m.__)("Menu","hyve-lite")},(0,n.createElement)("div",{className:"max-w-2xl mx-auto"},(0,n.createElement)("aside",{"aria-label":"Sidebar"},(0,n.createElement)("div",{className:"px-3 py-4 overflow-y-auto rounded-sm bg-white"},(0,n.createElement)("ul",{className:"space-y-2"},Object.keys(s).map((a=>(0,n.createElement)("li",{key:a},(0,n.createElement)(g.Button,{onClick:()=>i(a),disabled:!t&&!1!==s[a]?.disabled,className:Da()("flex items-center p-2 h-16 w-full text-base font-normal text-gray-900 hover:text-gray-900 rounded-lg hover:bg-gray-100",{"bg-gray-100 hover:text-gray-900":e===a})},(0,n.createElement)(g.Icon,{icon:s[a].icon,className:"w-6 h-6 text-gray-500 transition duration-75"}),(0,n.createElement)("span",{className:"ml-3"},s[a].label),s[a].children&&(0,n.createElement)(g.Icon,{icon:Ya,className:"w-6 h-6 ml-auto text-gray-500 transition duration-75"})),(s[a]?.children&&a===e||s[a]?.children&&Object.keys(s[a]?.children).includes(e))&&(0,n.createElement)("ul",{className:"py-2 space-y-2"},Object.keys(s[a].children).map((o=>(0,n.createElement)("li",{key:o},(0,n.createElement)(g.Button,{onClick:()=>i(o),disabled:!t&&!1!==s[a].children[o]?.disabled,className:Da()("flex items-center justify-between w-full h-12 p-2 text-base font-normal text-gray-900 hover:text-gray-900 transition duration-75 rounded-lg group hover:bg-gray-100 pl-11",{"bg-gray-100 hover:text-gray-900":e===o})},s[a].children[o].label,s[a].children[o].isPro&&(0,n.createElement)("div",{className:"text-xs py-1 px-3 bg-blue-500 text-white uppercase font-bold rounded-full"},(0,m.__)("Pro","hyve-lite"))))))))))))))),t&&!window?.hyve?.license&&(0,n.createElement)(n.Fragment,null,(0,n.createElement)("br",null),(0,n.createElement)(g.Panel,null,(0,n.createElement)("div",{className:"flex flex-col items-center justify-center py-8 px-4 rounded-lg"},(0,n.createElement)("div",{className:"text-center"},(0,n.createElement)("h3",{className:"text-lg font-semibold text-gray-800"},(0,m.__)("Upgrade to Premium","hyve-lite")),(0,n.createElement)("p",{className:"text-sm text-gray-500"},(0,m.__)("Unlock powerful features and enhance your chatbot experience.","hyve-lite"))),(0,n.createElement)(g.Button,{variant:"primary",className:"mt-4",target:"_blank",href:ya(window?.hyve?.pro,"sidebar-banner")},(0,m.__)("Learn More","hyve-lite"))))))},Ka=window.wp.notices,Qa=()=>{const e=(0,l.useSelect)((e=>e(Ka.store).getNotices().filter((e=>"snackbar"===e.type))),[]),{removeNotice:t}=(0,l.useDispatch)(Ka.store);return(0,n.createElement)(g.SnackbarList,{className:"edit-site-notices",notices:e,onRemove:t})};const Xa=()=>{const e=(0,m.__)("Please test the chat after solving the problem.","hyve-lite")+" "+(0,m.__)("The error will disappear after a successful interaction with the chat.","hyve-lite");return(0,n.createElement)(n.Fragment,null,window.hyve?.serviceErrors?.map((({provider:t,date:i,message:s,code:a})=>(0,n.createElement)(g.Notice,{key:t,className:"service-error mb-4 mx-auto max-w-270 break-all",isDismissible:!1,status:"error"},(0,n.createElement)("b",null,"[",t,"]"," ",(0,m.__)("Service Error","hyve-lite"),":")," ",s," (",a,") |"," ",new Date(i).toLocaleString(),(0,n.createElement)("br",null),(0,n.createElement)("br",null),e))))};var Ga=()=>{const e=(0,l.useSelect)((e=>e("hyve").hasLoaded())),t=(0,l.useSelect)((e=>e("hyve").getRoute())),{setSettings:i,setLoading:s,setRoute:a}=(0,l.useDispatch)("hyve");(0,o.useEffect)((()=>{(async()=>{const e=await p()({path:`${window.hyve.api}/settings`});i(e),s();const t=new Event("themeisle:banner:init");document.dispatchEvent(t)})();const e=new URLSearchParams(window.location.search).get("nav");e&&a(e),window.tsdk_reposition_notice&&window.tsdk_reposition_notice()}),[i,s,a]);const c=(0,r.applyFilters)("hyve.route",Ua),h=Object.keys(c).reduce(((e,t)=>(c[t].component&&(e[t]=c[t].component),c[t].children&&Object.keys(c[t].children).forEach((i=>{e[i]=c[t].children[i].component})),e)),{})[t]||null;return(0,n.createElement)(n.Fragment,null,!e&&(0,n.createElement)("div",{className:"flex items-center justify-center absolute w-full h-screen z-10 bg-white"},(0,n.createElement)(g.Spinner,null)),(0,n.createElement)("div",{className:"mx-auto max-w-screen-2xl p-4 md:p-6 2xl:p-10"},(0,n.createElement)("div",{id:"tsdk_banner"}),(0,n.createElement)(Xa,null),(0,n.createElement)("div",{className:"mx-auto max-w-270"},(0,n.createElement)("div",{className:"grid grid-cols-6 gap-8"},(0,n.createElement)(qa,null),h&&(0,n.createElement)(h,null)))),(0,n.createElement)(Qa,null))};const Za=({settings:e,setSetting:t,isSaving:i,onSave:s})=>{const[a,r]=(0,o.useState)(!1);return(0,o.useEffect)((()=>{a&&(s(),r(!1))}),[a,e,s]),(0,n.createElement)("div",{className:"col-span-6 xl:col-span-4"},(0,n.createElement)(g.Panel,{header:(0,m.__)("Others","hyve-lite")},(0,n.createElement)(g.PanelRow,null,(0,n.createElement)(g.ToggleControl,{label:(0,m.__)("Telemetry","hyve-lite"),help:(0,m.__)("Enable telemetry to help us improve the plugin by sending anonymous usage data. Data is private and not shared third-party entities.","hyve-lite"),checked:Boolean(e.telemetry_enabled),onChange:e=>{t("telemetry_enabled",e),setTimeout((()=>{r(!0)}),500)},disabled:i||a}))))};window.hyveComponents={},window.hyveComponents.PostsTable=Ys,window.hyveComponents.PostModal=({action:e,post:t,onClose:i})=>{const[s,a]=(0,o.useState)({...t}),[r,c]=(0,o.useState)(!1),[h,d]=(0,o.useState)(!1),{createNotice:u}=(0,l.useDispatch)("core/notices"),f="edit"===e;return h?(0,n.createElement)(_a,{post:s,type:"knowledge",isOpen:h,onClose:()=>{d(!1)},onSuccess:()=>{i(!0),d(!1)}}):(0,n.createElement)(g.Modal,{title:f?(0,m.__)("Edit Data","hyve-lite"):(0,m.__)("Add Data","hyve-lite"),onRequestClose:()=>i(!1),shouldCloseOnOverlayClick:!0,isOpen:!0,className:"md:max-w-3xl md:w-full"},(0,n.createElement)("div",{className:"flex flex-col gap-4"},(0,n.createElement)(g.TextControl,{label:(0,m.__)("Title","hyve-lite"),value:s?.title||"",disabled:r,onChange:e=>{a({...s,title:e})}}),(0,n.createElement)(g.TextareaControl,{label:(0,m.__)("Content","hyve-lite"),value:s?.content||"",rows:8,disabled:r,maxLength:4e3,onChange:e=>{a({...s,content:e})}}),(0,n.createElement)("div",{className:"flex"},f&&(0,n.createElement)(g.Button,{variant:"tertiary",isDestructive:!0,disabled:r,isBusy:r,onClick:async()=>{c(!0);const e=await p()({path:`${window.hyve.api}/knowledge/${s.ID}`,method:"POST",headers:{"X-HTTP-Method-Override":"DELETE"}});if(e.error)return u("error",e.error,{type:"snackbar",isDismissible:!0}),void c(!1);u("success",(0,m.__)("Post has been deleted.","hyve-lite"),{type:"snackbar",isDismissible:!0}),i(!0)}},(0,m.__)("Delete","hyve-lite")),(0,n.createElement)(g.Button,{variant:"primary",className:"ml-auto",disabled:r||!s.title||!s.content,isBusy:r,onClick:async()=>{c(!0),await ga({post:s,type:"knowledge",onSuccess:()=>{i(!0),c(!1),window.hyveTrk?.add?.({feature:"knowledge-base",featureComponent:"add-data",featureValue:"import-custom-data"})},onError:e=>{if("content_failed_moderation"===e?.code&&void 0!==e.review){const t={...s,review:e.review};a(t),d(!0)}c(!1)}})}},f?(0,m.__)("Save","hyve-lite"):(0,m.__)("Add","hyve-lite")))))},a()((()=>{(0,r.addFilter)("hyve.appearance.chat-icons","hyve/data",ba),window?.tiTrk&&(window.tiTrk.autoSendIntervalTime=3e4,window.hyveTrk=window.tiTrk?.with("hyve"),window.tiTrk?.start()),(0,r.addFilter)("hyve.others","hyve/others",((e,t,i,s,a)=>(0,n.createElement)(Za,{isSaving:t,settings:i,setSetting:s,onSave:a}))),(0,o.createRoot)(document.getElementById("hyve-options")).render((0,n.createElement)(Ga,null))}))},609:function(e){"use strict";e.exports=window.React},802:function(e){e.exports=function e(t,i,n){function s(o,r){if(!i[o]){if(!t[o]){if(a)return a(o,!0);throw new Error("Cannot find module '"+o+"'")}r=i[o]={exports:{}},t[o][0].call(r.exports,(function(e){return s(t[o][1][e]||e)}),r,r.exports,e,t,i,n)}return i[o].exports}for(var a=void 0,o=0;o<n.length;o++)s(n[o]);return s}({1:[function(e,t,i){(function(n,s,a,o,r,l,c,h,d){"use strict";var u=e("crypto");function f(e,t){var i;return void 0===(i="passthrough"!==(t=m(e,t)).algorithm?u.createHash(t.algorithm):new v).write&&(i.write=i.update,i.end=i.update),b(t,i).dispatch(e),i.update||i.end(""),i.digest?i.digest("buffer"===t.encoding?void 0:t.encoding):(e=i.read(),"buffer"!==t.encoding?e.toString(t.encoding):e)}(i=t.exports=f).sha1=function(e){return f(e)},i.keys=function(e){return f(e,{excludeValues:!0,algorithm:"sha1",encoding:"hex"})},i.MD5=function(e){return f(e,{algorithm:"md5",encoding:"hex"})},i.keysMD5=function(e){return f(e,{algorithm:"md5",encoding:"hex",excludeValues:!0})};var p=u.getHashes?u.getHashes().slice():["sha1","md5"],g=(p.push("passthrough"),["buffer","hex","binary","base64"]);function m(e,t){var i={};if(i.algorithm=(t=t||{}).algorithm||"sha1",i.encoding=t.encoding||"hex",i.excludeValues=!!t.excludeValues,i.algorithm=i.algorithm.toLowerCase(),i.encoding=i.encoding.toLowerCase(),i.ignoreUnknown=!0===t.ignoreUnknown,i.respectType=!1!==t.respectType,i.respectFunctionNames=!1!==t.respectFunctionNames,i.respectFunctionProperties=!1!==t.respectFunctionProperties,i.unorderedArrays=!0===t.unorderedArrays,i.unorderedSets=!1!==t.unorderedSets,i.unorderedObjects=!1!==t.unorderedObjects,i.replacer=t.replacer||void 0,i.excludeKeys=t.excludeKeys||void 0,void 0===e)throw new Error("Object argument required.");for(var n=0;n<p.length;++n)p[n].toLowerCase()===i.algorithm.toLowerCase()&&(i.algorithm=p[n]);if(-1===p.indexOf(i.algorithm))throw new Error('Algorithm "'+i.algorithm+'"  not supported. supported values: '+p.join(", "));if(-1===g.indexOf(i.encoding)&&"passthrough"!==i.algorithm)throw new Error('Encoding "'+i.encoding+'"  not supported. supported values: '+g.join(", "));return i}function y(e){if("function"==typeof e)return null!=/^function\s+\w*\s*\(\s*\)\s*{\s+\[native code\]\s+}$/i.exec(Function.prototype.toString.call(e))}function b(e,t,i){function n(e){return t.update?t.update(e,"utf8"):t.write(e,"utf8")}return i=i||[],{dispatch:function(t){return this["_"+(null===(t=e.replacer?e.replacer(t):t)?"null":typeof t)](t)},_object:function(t){var s,o=Object.prototype.toString.call(t),r=/\[object (.*)\]/i.exec(o);if(r=(r=r?r[1]:"unknown:["+o+"]").toLowerCase(),0<=(o=i.indexOf(t)))return this.dispatch("[CIRCULAR:"+o+"]");if(i.push(t),void 0!==a&&a.isBuffer&&a.isBuffer(t))return n("buffer:"),n(t);if("object"===r||"function"===r||"asyncfunction"===r)return o=Object.keys(t),e.unorderedObjects&&(o=o.sort()),!1===e.respectType||y(t)||o.splice(0,0,"prototype","__proto__","constructor"),e.excludeKeys&&(o=o.filter((function(t){return!e.excludeKeys(t)}))),n("object:"+o.length+":"),s=this,o.forEach((function(i){s.dispatch(i),n(":"),e.excludeValues||s.dispatch(t[i]),n(",")}));if(!this["_"+r]){if(e.ignoreUnknown)return n("["+r+"]");throw new Error('Unknown object type "'+r+'"')}this["_"+r](t)},_array:function(t,s){s=void 0!==s?s:!1!==e.unorderedArrays;var a=this;if(n("array:"+t.length+":"),!s||t.length<=1)return t.forEach((function(e){return a.dispatch(e)}));var o=[];return s=t.map((function(t){var n=new v,s=i.slice();return b(e,n,s).dispatch(t),o=o.concat(s.slice(i.length)),n.read().toString()})),i=i.concat(o),s.sort(),this._array(s,!1)},_date:function(e){return n("date:"+e.toJSON())},_symbol:function(e){return n("symbol:"+e.toString())},_error:function(e){return n("error:"+e.toString())},_boolean:function(e){return n("bool:"+e.toString())},_string:function(e){n("string:"+e.length+":"),n(e.toString())},_function:function(t){n("fn:"),y(t)?this.dispatch("[native]"):this.dispatch(t.toString()),!1!==e.respectFunctionNames&&this.dispatch("function-name:"+String(t.name)),e.respectFunctionProperties&&this._object(t)},_number:function(e){return n("number:"+e.toString())},_xml:function(e){return n("xml:"+e.toString())},_null:function(){return n("Null")},_undefined:function(){return n("Undefined")},_regexp:function(e){return n("regex:"+e.toString())},_uint8array:function(e){return n("uint8array:"),this.dispatch(Array.prototype.slice.call(e))},_uint8clampedarray:function(e){return n("uint8clampedarray:"),this.dispatch(Array.prototype.slice.call(e))},_int8array:function(e){return n("int8array:"),this.dispatch(Array.prototype.slice.call(e))},_uint16array:function(e){return n("uint16array:"),this.dispatch(Array.prototype.slice.call(e))},_int16array:function(e){return n("int16array:"),this.dispatch(Array.prototype.slice.call(e))},_uint32array:function(e){return n("uint32array:"),this.dispatch(Array.prototype.slice.call(e))},_int32array:function(e){return n("int32array:"),this.dispatch(Array.prototype.slice.call(e))},_float32array:function(e){return n("float32array:"),this.dispatch(Array.prototype.slice.call(e))},_float64array:function(e){return n("float64array:"),this.dispatch(Array.prototype.slice.call(e))},_arraybuffer:function(e){return n("arraybuffer:"),this.dispatch(new Uint8Array(e))},_url:function(e){return n("url:"+e.toString())},_map:function(t){return n("map:"),t=Array.from(t),this._array(t,!1!==e.unorderedSets)},_set:function(t){return n("set:"),t=Array.from(t),this._array(t,!1!==e.unorderedSets)},_file:function(e){return n("file:"),this.dispatch([e.name,e.size,e.type,e.lastModfied])},_blob:function(){if(e.ignoreUnknown)return n("[blob]");throw Error('Hashing Blob objects is currently not supported\n(see https://github.com/puleos/object-hash/issues/26)\nUse "options.replacer" or "options.ignoreUnknown"\n')},_domwindow:function(){return n("domwindow")},_bigint:function(e){return n("bigint:"+e.toString())},_process:function(){return n("process")},_timer:function(){return n("timer")},_pipe:function(){return n("pipe")},_tcp:function(){return n("tcp")},_udp:function(){return n("udp")},_tty:function(){return n("tty")},_statwatcher:function(){return n("statwatcher")},_securecontext:function(){return n("securecontext")},_connection:function(){return n("connection")},_zlib:function(){return n("zlib")},_context:function(){return n("context")},_nodescript:function(){return n("nodescript")},_httpparser:function(){return n("httpparser")},_dataview:function(){return n("dataview")},_signal:function(){return n("signal")},_fsevent:function(){return n("fsevent")},_tlswrap:function(){return n("tlswrap")}}}function v(){return{buf:"",write:function(e){this.buf+=e},end:function(e){this.buf+=e},read:function(){return this.buf}}}i.writeToStream=function(e,t,i){return void 0===i&&(i=t,t={}),b(t=m(e,t),i).dispatch(e)}}).call(this,e("lYpoI2"),"undefined"!=typeof self?self:"undefined"!=typeof window?window:{},e("buffer").Buffer,arguments[3],arguments[4],arguments[5],arguments[6],"/fake_9a5aa49d.js","/")},{buffer:3,crypto:5,lYpoI2:11}],2:[function(e,t,i){(function(e,t,n,s,a,o,r,l,c){!function(e){"use strict";var t="undefined"!=typeof Uint8Array?Uint8Array:Array,i="+".charCodeAt(0),n="/".charCodeAt(0),s="0".charCodeAt(0),a="a".charCodeAt(0),o="A".charCodeAt(0),r="-".charCodeAt(0),l="_".charCodeAt(0);function c(e){return(e=e.charCodeAt(0))===i||e===r?62:e===n||e===l?63:e<s?-1:e<s+10?e-s+26+26:e<o+26?e-o:e<a+26?e-a+26:void 0}e.toByteArray=function(e){var i,n;if(0<e.length%4)throw new Error("Invalid string. Length must be a multiple of 4");var s=e.length,a=(s="="===e.charAt(s-2)?2:"="===e.charAt(s-1)?1:0,new t(3*e.length/4-s)),o=0<s?e.length-4:e.length,r=0;function l(e){a[r++]=e}for(i=0;i<o;i+=4,0)l((16711680&(n=c(e.charAt(i))<<18|c(e.charAt(i+1))<<12|c(e.charAt(i+2))<<6|c(e.charAt(i+3))))>>16),l((65280&n)>>8),l(255&n);return 2==s?l(255&(n=c(e.charAt(i))<<2|c(e.charAt(i+1))>>4)):1==s&&(l((n=c(e.charAt(i))<<10|c(e.charAt(i+1))<<4|c(e.charAt(i+2))>>2)>>8&255),l(255&n)),a},e.fromByteArray=function(e){var t,i,n,s,a=e.length%3,o="";function r(e){return"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/".charAt(e)}for(t=0,n=e.length-a;t<n;t+=3)o+=r((s=i=(e[t]<<16)+(e[t+1]<<8)+e[t+2])>>18&63)+r(s>>12&63)+r(s>>6&63)+r(63&s);switch(a){case 1:o=(o+=r((i=e[e.length-1])>>2))+r(i<<4&63)+"==";break;case 2:o=(o=(o+=r((i=(e[e.length-2]<<8)+e[e.length-1])>>10))+r(i>>4&63))+r(i<<2&63)+"="}return o}}(void 0===i?this.base64js={}:i)}).call(this,e("lYpoI2"),"undefined"!=typeof self?self:"undefined"!=typeof window?window:{},e("buffer").Buffer,arguments[3],arguments[4],arguments[5],arguments[6],"/node_modules/gulp-browserify/node_modules/base64-js/lib/b64.js","/node_modules/gulp-browserify/node_modules/base64-js/lib")},{buffer:3,lYpoI2:11}],3:[function(e,t,i){(function(t,n,s,a,o,r,l,c,h){var d=e("base64-js"),u=e("ieee754");function s(e,t,i){if(!(this instanceof s))return new s(e,t,i);var n,a,o,r,l=typeof e;if("base64"===t&&"string"==l)for(e=(r=e).trim?r.trim():r.replace(/^\s+|\s+$/g,"");e.length%4!=0;)e+="=";if("number"==l)n=C(e);else if("string"==l)n=s.byteLength(e,t);else{if("object"!=l)throw new Error("First argument needs to be a number, array or string.");n=C(e.length)}if(s._useTypedArrays?a=s._augment(new Uint8Array(n)):((a=this).length=n,a._isBuffer=!0),s._useTypedArrays&&"number"==typeof e.byteLength)a._set(e);else if(P(r=e)||s.isBuffer(r)||r&&"object"==typeof r&&"number"==typeof r.length)for(o=0;o<n;o++)s.isBuffer(e)?a[o]=e.readUInt8(o):a[o]=e[o];else if("string"==l)a.write(e,0,t);else if("number"==l&&!s._useTypedArrays&&!i)for(o=0;o<n;o++)a[o]=0;return a}function f(e,t,i,n){var s;if(n||(R("boolean"==typeof i,"missing or invalid endian"),R(null!=t,"missing offset"),R(t+1<e.length,"Trying to read beyond buffer length")),!((n=e.length)<=t))return i?(s=e[t],t+1<n&&(s|=e[t+1]<<8)):(s=e[t]<<8,t+1<n&&(s|=e[t+1])),s}function p(e,t,i,n){var s;if(n||(R("boolean"==typeof i,"missing or invalid endian"),R(null!=t,"missing offset"),R(t+3<e.length,"Trying to read beyond buffer length")),!((n=e.length)<=t))return i?(t+2<n&&(s=e[t+2]<<16),t+1<n&&(s|=e[t+1]<<8),s|=e[t],t+3<n&&(s+=e[t+3]<<24>>>0)):(t+1<n&&(s=e[t+1]<<16),t+2<n&&(s|=e[t+2]<<8),t+3<n&&(s|=e[t+3]),s+=e[t]<<24>>>0),s}function g(e,t,i,n){if(n||(R("boolean"==typeof i,"missing or invalid endian"),R(null!=t,"missing offset"),R(t+1<e.length,"Trying to read beyond buffer length")),!(e.length<=t))return 32768&(n=f(e,t,i,!0))?-1*(65535-n+1):n}function m(e,t,i,n){if(n||(R("boolean"==typeof i,"missing or invalid endian"),R(null!=t,"missing offset"),R(t+3<e.length,"Trying to read beyond buffer length")),!(e.length<=t))return 2147483648&(n=p(e,t,i,!0))?-1*(4294967295-n+1):n}function y(e,t,i,n){return n||(R("boolean"==typeof i,"missing or invalid endian"),R(t+3<e.length,"Trying to read beyond buffer length")),u.read(e,t,i,23,4)}function b(e,t,i,n){return n||(R("boolean"==typeof i,"missing or invalid endian"),R(t+7<e.length,"Trying to read beyond buffer length")),u.read(e,t,i,52,8)}function v(e,t,i,n,s){if(s||(R(null!=t,"missing value"),R("boolean"==typeof n,"missing or invalid endian"),R(null!=i,"missing offset"),R(i+1<e.length,"trying to write beyond buffer length"),N(t,65535)),!((s=e.length)<=i))for(var a=0,o=Math.min(s-i,2);a<o;a++)e[i+a]=(t&255<<8*(n?a:1-a))>>>8*(n?a:1-a)}function _(e,t,i,n,s){if(s||(R(null!=t,"missing value"),R("boolean"==typeof n,"missing or invalid endian"),R(null!=i,"missing offset"),R(i+3<e.length,"trying to write beyond buffer length"),N(t,4294967295)),!((s=e.length)<=i))for(var a=0,o=Math.min(s-i,4);a<o;a++)e[i+a]=t>>>8*(n?a:3-a)&255}function x(e,t,i,n,s){s||(R(null!=t,"missing value"),R("boolean"==typeof n,"missing or invalid endian"),R(null!=i,"missing offset"),R(i+1<e.length,"Trying to write beyond buffer length"),O(t,32767,-32768)),e.length<=i||v(e,0<=t?t:65535+t+1,i,n,s)}function w(e,t,i,n,s){s||(R(null!=t,"missing value"),R("boolean"==typeof n,"missing or invalid endian"),R(null!=i,"missing offset"),R(i+3<e.length,"Trying to write beyond buffer length"),O(t,2147483647,-2147483648)),e.length<=i||_(e,0<=t?t:4294967295+t+1,i,n,s)}function E(e,t,i,n,s){s||(R(null!=t,"missing value"),R("boolean"==typeof n,"missing or invalid endian"),R(null!=i,"missing offset"),R(i+3<e.length,"Trying to write beyond buffer length"),L(t,34028234663852886e22,-34028234663852886e22)),e.length<=i||u.write(e,t,i,n,23,4)}function k(e,t,i,n,s){s||(R(null!=t,"missing value"),R("boolean"==typeof n,"missing or invalid endian"),R(null!=i,"missing offset"),R(i+7<e.length,"Trying to write beyond buffer length"),L(t,17976931348623157e292,-17976931348623157e292)),e.length<=i||u.write(e,t,i,n,52,8)}i.Buffer=s,i.SlowBuffer=s,i.INSPECT_MAX_BYTES=50,s.poolSize=8192,s._useTypedArrays=function(){try{var e=new ArrayBuffer(0),t=new Uint8Array(e);return t.foo=function(){return 42},42===t.foo()&&"function"==typeof t.subarray}catch(e){return!1}}(),s.isEncoding=function(e){switch(String(e).toLowerCase()){case"hex":case"utf8":case"utf-8":case"ascii":case"binary":case"base64":case"raw":case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return!0;default:return!1}},s.isBuffer=function(e){return!(null==e||!e._isBuffer)},s.byteLength=function(e,t){var i;switch(e+="",t||"utf8"){case"hex":i=e.length/2;break;case"utf8":case"utf-8":i=I(e).length;break;case"ascii":case"binary":case"raw":i=e.length;break;case"base64":i=D(e).length;break;case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":i=2*e.length;break;default:throw new Error("Unknown encoding")}return i},s.concat=function(e,t){if(R(P(e),"Usage: Buffer.concat(list, [totalLength])\nlist should be an Array."),0===e.length)return new s(0);if(1===e.length)return e[0];if("number"!=typeof t)for(a=t=0;a<e.length;a++)t+=e[a].length;for(var i=new s(t),n=0,a=0;a<e.length;a++){var o=e[a];o.copy(i,n),n+=o.length}return i},s.prototype.write=function(e,t,i,n){isFinite(t)?isFinite(i)||(n=i,i=void 0):(c=n,n=t,t=i,i=c),t=Number(t)||0;var a,o,r,l,c=this.length-t;switch((!i||c<(i=Number(i)))&&(i=c),n=String(n||"utf8").toLowerCase()){case"hex":a=function(e,t,i,n){i=Number(i)||0;var a=e.length-i;(!n||a<(n=Number(n)))&&(n=a),R((a=t.length)%2==0,"Invalid hex string"),a/2<n&&(n=a/2);for(var o=0;o<n;o++){var r=parseInt(t.substr(2*o,2),16);R(!isNaN(r),"Invalid hex string"),e[i+o]=r}return s._charsWritten=2*o,o}(this,e,t,i);break;case"utf8":case"utf-8":o=this,r=t,l=i,a=s._charsWritten=T(I(e),o,r,l);break;case"ascii":case"binary":a=function(e,t,i,n){return s._charsWritten=T(function(e){for(var t=[],i=0;i<e.length;i++)t.push(255&e.charCodeAt(i));return t}(t),e,i,n)}(this,e,t,i);break;case"base64":o=this,r=t,l=i,a=s._charsWritten=T(D(e),o,r,l);break;case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":a=function(e,t,i,n){return s._charsWritten=T(function(e){for(var t,i,n=[],s=0;s<e.length;s++)t=(i=e.charCodeAt(s))>>8,i%=256,n.push(i),n.push(t);return n}(t),e,i,n)}(this,e,t,i);break;default:throw new Error("Unknown encoding")}return a},s.prototype.toString=function(e,t,i){var n,s,a,o,r=this;if(e=String(e||"utf8").toLowerCase(),t=Number(t)||0,(i=void 0!==i?Number(i):r.length)===t)return"";switch(e){case"hex":n=function(e,t,i){var n=e.length;(!t||t<0)&&(t=0),(!i||i<0||n<i)&&(i=n);for(var s="",a=t;a<i;a++)s+=A(e[a]);return s}(r,t,i);break;case"utf8":case"utf-8":n=function(e,t,i){var n="",s="";i=Math.min(e.length,i);for(var a=t;a<i;a++)e[a]<=127?(n+=B(s)+String.fromCharCode(e[a]),s=""):s+="%"+e[a].toString(16);return n+B(s)}(r,t,i);break;case"ascii":case"binary":n=function(e,t,i){var n="";i=Math.min(e.length,i);for(var s=t;s<i;s++)n+=String.fromCharCode(e[s]);return n}(r,t,i);break;case"base64":s=r,o=i,n=0===(a=t)&&o===s.length?d.fromByteArray(s):d.fromByteArray(s.slice(a,o));break;case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":n=function(e,t,i){for(var n=e.slice(t,i),s="",a=0;a<n.length;a+=2)s+=String.fromCharCode(n[a]+256*n[a+1]);return s}(r,t,i);break;default:throw new Error("Unknown encoding")}return n},s.prototype.toJSON=function(){return{type:"Buffer",data:Array.prototype.slice.call(this._arr||this,0)}},s.prototype.copy=function(e,t,i,n){if(t=t||0,(n=n||0===n?n:this.length)!==(i=i||0)&&0!==e.length&&0!==this.length){R(i<=n,"sourceEnd < sourceStart"),R(0<=t&&t<e.length,"targetStart out of bounds"),R(0<=i&&i<this.length,"sourceStart out of bounds"),R(0<=n&&n<=this.length,"sourceEnd out of bounds"),n>this.length&&(n=this.length);var a=(n=e.length-t<n-i?e.length-t+i:n)-i;if(a<100||!s._useTypedArrays)for(var o=0;o<a;o++)e[o+t]=this[o+i];else e._set(this.subarray(i,i+a),t)}},s.prototype.slice=function(e,t){var i=this.length;if(e=M(e,i,0),t=M(t,i,i),s._useTypedArrays)return s._augment(this.subarray(e,t));for(var n=t-e,a=new s(n,void 0,!0),o=0;o<n;o++)a[o]=this[o+e];return a},s.prototype.get=function(e){return console.log(".get() is deprecated. Access using array indexes instead."),this.readUInt8(e)},s.prototype.set=function(e,t){return console.log(".set() is deprecated. Access using array indexes instead."),this.writeUInt8(e,t)},s.prototype.readUInt8=function(e,t){if(t||(R(null!=e,"missing offset"),R(e<this.length,"Trying to read beyond buffer length")),!(e>=this.length))return this[e]},s.prototype.readUInt16LE=function(e,t){return f(this,e,!0,t)},s.prototype.readUInt16BE=function(e,t){return f(this,e,!1,t)},s.prototype.readUInt32LE=function(e,t){return p(this,e,!0,t)},s.prototype.readUInt32BE=function(e,t){return p(this,e,!1,t)},s.prototype.readInt8=function(e,t){if(t||(R(null!=e,"missing offset"),R(e<this.length,"Trying to read beyond buffer length")),!(e>=this.length))return 128&this[e]?-1*(255-this[e]+1):this[e]},s.prototype.readInt16LE=function(e,t){return g(this,e,!0,t)},s.prototype.readInt16BE=function(e,t){return g(this,e,!1,t)},s.prototype.readInt32LE=function(e,t){return m(this,e,!0,t)},s.prototype.readInt32BE=function(e,t){return m(this,e,!1,t)},s.prototype.readFloatLE=function(e,t){return y(this,e,!0,t)},s.prototype.readFloatBE=function(e,t){return y(this,e,!1,t)},s.prototype.readDoubleLE=function(e,t){return b(this,e,!0,t)},s.prototype.readDoubleBE=function(e,t){return b(this,e,!1,t)},s.prototype.writeUInt8=function(e,t,i){i||(R(null!=e,"missing value"),R(null!=t,"missing offset"),R(t<this.length,"trying to write beyond buffer length"),N(e,255)),t>=this.length||(this[t]=e)},s.prototype.writeUInt16LE=function(e,t,i){v(this,e,t,!0,i)},s.prototype.writeUInt16BE=function(e,t,i){v(this,e,t,!1,i)},s.prototype.writeUInt32LE=function(e,t,i){_(this,e,t,!0,i)},s.prototype.writeUInt32BE=function(e,t,i){_(this,e,t,!1,i)},s.prototype.writeInt8=function(e,t,i){i||(R(null!=e,"missing value"),R(null!=t,"missing offset"),R(t<this.length,"Trying to write beyond buffer length"),O(e,127,-128)),t>=this.length||(0<=e?this.writeUInt8(e,t,i):this.writeUInt8(255+e+1,t,i))},s.prototype.writeInt16LE=function(e,t,i){x(this,e,t,!0,i)},s.prototype.writeInt16BE=function(e,t,i){x(this,e,t,!1,i)},s.prototype.writeInt32LE=function(e,t,i){w(this,e,t,!0,i)},s.prototype.writeInt32BE=function(e,t,i){w(this,e,t,!1,i)},s.prototype.writeFloatLE=function(e,t,i){E(this,e,t,!0,i)},s.prototype.writeFloatBE=function(e,t,i){E(this,e,t,!1,i)},s.prototype.writeDoubleLE=function(e,t,i){k(this,e,t,!0,i)},s.prototype.writeDoubleBE=function(e,t,i){k(this,e,t,!1,i)},s.prototype.fill=function(e,t,i){if(t=t||0,i=i||this.length,R("number"==typeof(e="string"==typeof(e=e||0)?e.charCodeAt(0):e)&&!isNaN(e),"value is not a number"),R(t<=i,"end < start"),i!==t&&0!==this.length){R(0<=t&&t<this.length,"start out of bounds"),R(0<=i&&i<=this.length,"end out of bounds");for(var n=t;n<i;n++)this[n]=e}},s.prototype.inspect=function(){for(var e=[],t=this.length,n=0;n<t;n++)if(e[n]=A(this[n]),n===i.INSPECT_MAX_BYTES){e[n+1]="...";break}return"<Buffer "+e.join(" ")+">"},s.prototype.toArrayBuffer=function(){if("undefined"==typeof Uint8Array)throw new Error("Buffer.toArrayBuffer not supported in this browser");if(s._useTypedArrays)return new s(this).buffer;for(var e=new Uint8Array(this.length),t=0,i=e.length;t<i;t+=1)e[t]=this[t];return e.buffer};var S=s.prototype;function M(e,t,i){return"number"!=typeof e?i:t<=(e=~~e)?t:0<=e||0<=(e+=t)?e:0}function C(e){return(e=~~Math.ceil(+e))<0?0:e}function P(e){return(Array.isArray||function(e){return"[object Array]"===Object.prototype.toString.call(e)})(e)}function A(e){return e<16?"0"+e.toString(16):e.toString(16)}function I(e){for(var t=[],i=0;i<e.length;i++){var n=e.charCodeAt(i);if(n<=127)t.push(e.charCodeAt(i));else for(var s=i,a=(55296<=n&&n<=57343&&i++,encodeURIComponent(e.slice(s,i+1)).substr(1).split("%")),o=0;o<a.length;o++)t.push(parseInt(a[o],16))}return t}function D(e){return d.toByteArray(e)}function T(e,t,i,n){for(var s=0;s<n&&!(s+i>=t.length||s>=e.length);s++)t[s+i]=e[s];return s}function B(e){try{return decodeURIComponent(e)}catch(e){return String.fromCharCode(65533)}}function N(e,t){R("number"==typeof e,"cannot write a non-number as a number"),R(0<=e,"specified a negative value for writing an unsigned value"),R(e<=t,"value is larger than maximum value for type"),R(Math.floor(e)===e,"value has a fractional component")}function O(e,t,i){R("number"==typeof e,"cannot write a non-number as a number"),R(e<=t,"value larger than maximum allowed value"),R(i<=e,"value smaller than minimum allowed value"),R(Math.floor(e)===e,"value has a fractional component")}function L(e,t,i){R("number"==typeof e,"cannot write a non-number as a number"),R(e<=t,"value larger than maximum allowed value"),R(i<=e,"value smaller than minimum allowed value")}function R(e,t){if(!e)throw new Error(t||"Failed assertion")}s._augment=function(e){return e._isBuffer=!0,e._get=e.get,e._set=e.set,e.get=S.get,e.set=S.set,e.write=S.write,e.toString=S.toString,e.toLocaleString=S.toString,e.toJSON=S.toJSON,e.copy=S.copy,e.slice=S.slice,e.readUInt8=S.readUInt8,e.readUInt16LE=S.readUInt16LE,e.readUInt16BE=S.readUInt16BE,e.readUInt32LE=S.readUInt32LE,e.readUInt32BE=S.readUInt32BE,e.readInt8=S.readInt8,e.readInt16LE=S.readInt16LE,e.readInt16BE=S.readInt16BE,e.readInt32LE=S.readInt32LE,e.readInt32BE=S.readInt32BE,e.readFloatLE=S.readFloatLE,e.readFloatBE=S.readFloatBE,e.readDoubleLE=S.readDoubleLE,e.readDoubleBE=S.readDoubleBE,e.writeUInt8=S.writeUInt8,e.writeUInt16LE=S.writeUInt16LE,e.writeUInt16BE=S.writeUInt16BE,e.writeUInt32LE=S.writeUInt32LE,e.writeUInt32BE=S.writeUInt32BE,e.writeInt8=S.writeInt8,e.writeInt16LE=S.writeInt16LE,e.writeInt16BE=S.writeInt16BE,e.writeInt32LE=S.writeInt32LE,e.writeInt32BE=S.writeInt32BE,e.writeFloatLE=S.writeFloatLE,e.writeFloatBE=S.writeFloatBE,e.writeDoubleLE=S.writeDoubleLE,e.writeDoubleBE=S.writeDoubleBE,e.fill=S.fill,e.inspect=S.inspect,e.toArrayBuffer=S.toArrayBuffer,e}}).call(this,e("lYpoI2"),"undefined"!=typeof self?self:"undefined"!=typeof window?window:{},e("buffer").Buffer,arguments[3],arguments[4],arguments[5],arguments[6],"/node_modules/gulp-browserify/node_modules/buffer/index.js","/node_modules/gulp-browserify/node_modules/buffer")},{"base64-js":2,buffer:3,ieee754:10,lYpoI2:11}],4:[function(e,t,i){(function(i,n,s,a,o,r,l,c,h){s=e("buffer").Buffer;var d=new s(4);d.fill(0),t.exports={hash:function(e,t,i,n){for(var a=t(function(e,t){e.length%4!=0&&(i=e.length+(4-e.length%4),e=s.concat([e,d],i));for(var i,n=[],a=t?e.readInt32BE:e.readInt32LE,o=0;o<e.length;o+=4)n.push(a.call(e,o));return n}(e=s.isBuffer(e)?e:new s(e),n),8*e.length),o=(t=n,new s(i)),r=t?o.writeInt32BE:o.writeInt32LE,l=0;l<a.length;l++)r.call(o,a[l],4*l,!0);return o}}}).call(this,e("lYpoI2"),"undefined"!=typeof self?self:"undefined"!=typeof window?window:{},e("buffer").Buffer,arguments[3],arguments[4],arguments[5],arguments[6],"/node_modules/gulp-browserify/node_modules/crypto-browserify/helpers.js","/node_modules/gulp-browserify/node_modules/crypto-browserify")},{buffer:3,lYpoI2:11}],5:[function(e,t,i){(function(t,n,s,a,o,r,l,c,h){s=e("buffer").Buffer;var d=e("./sha"),u=e("./sha256"),f=e("./rng"),p={sha1:d,sha256:u,md5:e("./md5")},g=64,m=new s(g);function y(e,t){var i=p[e=e||"sha1"],n=[];return i||b("algorithm:",e,"is not yet supported"),{update:function(e){return s.isBuffer(e)||(e=new s(e)),n.push(e),e.length,this},digest:function(e){var a=s.concat(n);return a=t?function(e,t,i){s.isBuffer(t)||(t=new s(t)),s.isBuffer(i)||(i=new s(i)),t.length>g?t=e(t):t.length<g&&(t=s.concat([t,m],g));for(var n=new s(g),a=new s(g),o=0;o<g;o++)n[o]=54^t[o],a[o]=92^t[o];return i=e(s.concat([n,i])),e(s.concat([a,i]))}(i,t,a):i(a),n=null,e?a.toString(e):a}}}function b(){var e=[].slice.call(arguments).join(" ");throw new Error([e,"we accept pull requests","http://github.com/dominictarr/crypto-browserify"].join("\n"))}m.fill(0),i.createHash=function(e){return y(e)},i.createHmac=y,i.randomBytes=function(e,t){if(!t||!t.call)return new s(f(e));try{t.call(this,void 0,new s(f(e)))}catch(e){t(e)}};var v,_=["createCredentials","createCipher","createCipheriv","createDecipher","createDecipheriv","createSign","createVerify","createDiffieHellman","pbkdf2"],x=function(e){i[e]=function(){b("sorry,",e,"is not implemented yet")}};for(v in _)x(_[v])}).call(this,e("lYpoI2"),"undefined"!=typeof self?self:"undefined"!=typeof window?window:{},e("buffer").Buffer,arguments[3],arguments[4],arguments[5],arguments[6],"/node_modules/gulp-browserify/node_modules/crypto-browserify/index.js","/node_modules/gulp-browserify/node_modules/crypto-browserify")},{"./md5":6,"./rng":7,"./sha":8,"./sha256":9,buffer:3,lYpoI2:11}],6:[function(e,t,i){(function(i,n,s,a,o,r,l,c,h){var d=e("./helpers");function u(e,t){e[t>>5]|=128<<t%32,e[14+(t+64>>>9<<4)]=t;for(var i=1732584193,n=-271733879,s=-1732584194,a=271733878,o=0;o<e.length;o+=16){var r=i,l=n,c=s,h=a;i=p(i,n,s,a,e[o+0],7,-680876936),a=p(a,i,n,s,e[o+1],12,-389564586),s=p(s,a,i,n,e[o+2],17,606105819),n=p(n,s,a,i,e[o+3],22,-1044525330),i=p(i,n,s,a,e[o+4],7,-176418897),a=p(a,i,n,s,e[o+5],12,1200080426),s=p(s,a,i,n,e[o+6],17,-1473231341),n=p(n,s,a,i,e[o+7],22,-45705983),i=p(i,n,s,a,e[o+8],7,1770035416),a=p(a,i,n,s,e[o+9],12,-1958414417),s=p(s,a,i,n,e[o+10],17,-42063),n=p(n,s,a,i,e[o+11],22,-1990404162),i=p(i,n,s,a,e[o+12],7,1804603682),a=p(a,i,n,s,e[o+13],12,-40341101),s=p(s,a,i,n,e[o+14],17,-1502002290),i=g(i,n=p(n,s,a,i,e[o+15],22,1236535329),s,a,e[o+1],5,-165796510),a=g(a,i,n,s,e[o+6],9,-1069501632),s=g(s,a,i,n,e[o+11],14,643717713),n=g(n,s,a,i,e[o+0],20,-373897302),i=g(i,n,s,a,e[o+5],5,-701558691),a=g(a,i,n,s,e[o+10],9,38016083),s=g(s,a,i,n,e[o+15],14,-660478335),n=g(n,s,a,i,e[o+4],20,-405537848),i=g(i,n,s,a,e[o+9],5,568446438),a=g(a,i,n,s,e[o+14],9,-1019803690),s=g(s,a,i,n,e[o+3],14,-187363961),n=g(n,s,a,i,e[o+8],20,1163531501),i=g(i,n,s,a,e[o+13],5,-1444681467),a=g(a,i,n,s,e[o+2],9,-51403784),s=g(s,a,i,n,e[o+7],14,1735328473),i=m(i,n=g(n,s,a,i,e[o+12],20,-1926607734),s,a,e[o+5],4,-378558),a=m(a,i,n,s,e[o+8],11,-2022574463),s=m(s,a,i,n,e[o+11],16,1839030562),n=m(n,s,a,i,e[o+14],23,-35309556),i=m(i,n,s,a,e[o+1],4,-1530992060),a=m(a,i,n,s,e[o+4],11,1272893353),s=m(s,a,i,n,e[o+7],16,-155497632),n=m(n,s,a,i,e[o+10],23,-1094730640),i=m(i,n,s,a,e[o+13],4,681279174),a=m(a,i,n,s,e[o+0],11,-358537222),s=m(s,a,i,n,e[o+3],16,-722521979),n=m(n,s,a,i,e[o+6],23,76029189),i=m(i,n,s,a,e[o+9],4,-640364487),a=m(a,i,n,s,e[o+12],11,-421815835),s=m(s,a,i,n,e[o+15],16,530742520),i=y(i,n=m(n,s,a,i,e[o+2],23,-995338651),s,a,e[o+0],6,-198630844),a=y(a,i,n,s,e[o+7],10,1126891415),s=y(s,a,i,n,e[o+14],15,-1416354905),n=y(n,s,a,i,e[o+5],21,-57434055),i=y(i,n,s,a,e[o+12],6,1700485571),a=y(a,i,n,s,e[o+3],10,-1894986606),s=y(s,a,i,n,e[o+10],15,-1051523),n=y(n,s,a,i,e[o+1],21,-2054922799),i=y(i,n,s,a,e[o+8],6,1873313359),a=y(a,i,n,s,e[o+15],10,-30611744),s=y(s,a,i,n,e[o+6],15,-1560198380),n=y(n,s,a,i,e[o+13],21,1309151649),i=y(i,n,s,a,e[o+4],6,-145523070),a=y(a,i,n,s,e[o+11],10,-1120210379),s=y(s,a,i,n,e[o+2],15,718787259),n=y(n,s,a,i,e[o+9],21,-343485551),i=b(i,r),n=b(n,l),s=b(s,c),a=b(a,h)}return Array(i,n,s,a)}function f(e,t,i,n,s,a){return b((t=b(b(t,e),b(n,a)))<<s|t>>>32-s,i)}function p(e,t,i,n,s,a,o){return f(t&i|~t&n,e,t,s,a,o)}function g(e,t,i,n,s,a,o){return f(t&n|i&~n,e,t,s,a,o)}function m(e,t,i,n,s,a,o){return f(t^i^n,e,t,s,a,o)}function y(e,t,i,n,s,a,o){return f(i^(t|~n),e,t,s,a,o)}function b(e,t){var i=(65535&e)+(65535&t);return(e>>16)+(t>>16)+(i>>16)<<16|65535&i}t.exports=function(e){return d.hash(e,u,16)}}).call(this,e("lYpoI2"),"undefined"!=typeof self?self:"undefined"!=typeof window?window:{},e("buffer").Buffer,arguments[3],arguments[4],arguments[5],arguments[6],"/node_modules/gulp-browserify/node_modules/crypto-browserify/md5.js","/node_modules/gulp-browserify/node_modules/crypto-browserify")},{"./helpers":4,buffer:3,lYpoI2:11}],7:[function(e,t,i){(function(e,i,n,s,a,o,r,l,c){t.exports=function(e){for(var t,i=new Array(e),n=0;n<e;n++)!(3&n)&&(t=4294967296*Math.random()),i[n]=t>>>((3&n)<<3)&255;return i}}).call(this,e("lYpoI2"),"undefined"!=typeof self?self:"undefined"!=typeof window?window:{},e("buffer").Buffer,arguments[3],arguments[4],arguments[5],arguments[6],"/node_modules/gulp-browserify/node_modules/crypto-browserify/rng.js","/node_modules/gulp-browserify/node_modules/crypto-browserify")},{buffer:3,lYpoI2:11}],8:[function(e,t,i){(function(i,n,s,a,o,r,l,c,h){var d=e("./helpers");function u(e,t){e[t>>5]|=128<<24-t%32,e[15+(t+64>>9<<4)]=t;for(var i,n,s,a=Array(80),o=1732584193,r=-271733879,l=-1732584194,c=271733878,h=-1009589776,d=0;d<e.length;d+=16){for(var u=o,g=r,m=l,y=c,b=h,v=0;v<80;v++){a[v]=v<16?e[d+v]:p(a[v-3]^a[v-8]^a[v-14]^a[v-16],1);var _=f(f(p(o,5),(_=r,n=l,s=c,(i=v)<20?_&n|~_&s:!(i<40)&&i<60?_&n|_&s|n&s:_^n^s)),f(f(h,a[v]),(i=v)<20?1518500249:i<40?1859775393:i<60?-1894007588:-899497514));h=c,c=l,l=p(r,30),r=o,o=_}o=f(o,u),r=f(r,g),l=f(l,m),c=f(c,y),h=f(h,b)}return Array(o,r,l,c,h)}function f(e,t){var i=(65535&e)+(65535&t);return(e>>16)+(t>>16)+(i>>16)<<16|65535&i}function p(e,t){return e<<t|e>>>32-t}t.exports=function(e){return d.hash(e,u,20,!0)}}).call(this,e("lYpoI2"),"undefined"!=typeof self?self:"undefined"!=typeof window?window:{},e("buffer").Buffer,arguments[3],arguments[4],arguments[5],arguments[6],"/node_modules/gulp-browserify/node_modules/crypto-browserify/sha.js","/node_modules/gulp-browserify/node_modules/crypto-browserify")},{"./helpers":4,buffer:3,lYpoI2:11}],9:[function(e,t,i){(function(i,n,s,a,o,r,l,c,h){function d(e,t){var i=(65535&e)+(65535&t);return(e>>16)+(t>>16)+(i>>16)<<16|65535&i}function u(e,t){var i,n=new Array(1116352408,1899447441,3049323471,3921009573,961987163,1508970993,2453635748,2870763221,3624381080,310598401,607225278,1426881987,1925078388,2162078206,2614888103,3248222580,3835390401,4022224774,264347078,604807628,770255983,1249150122,1555081692,1996064986,2554220882,2821834349,2952996808,3210313671,3336571891,3584528711,113926993,338241895,666307205,773529912,1294757372,1396182291,1695183700,1986661051,2177026350,2456956037,2730485921,2820302411,3259730800,3345764771,3516065817,3600352804,4094571909,275423344,430227734,506948616,659060556,883997877,958139571,1322822218,1537002063,1747873779,1955562222,2024104815,2227730452,2361852424,2428436474,2756734187,3204031479,3329325298),s=new Array(1779033703,3144134277,1013904242,2773480762,1359893119,2600822924,528734635,1541459225),a=new Array(64);e[t>>5]|=128<<24-t%32,e[15+(t+64>>9<<4)]=t;for(var o,r,l=0;l<e.length;l+=16){for(var c=s[0],h=s[1],u=s[2],f=s[3],m=s[4],y=s[5],b=s[6],v=s[7],_=0;_<64;_++)a[_]=_<16?e[_+l]:d(d(d((r=a[_-2],p(r,17)^p(r,19)^g(r,10)),a[_-7]),(r=a[_-15],p(r,7)^p(r,18)^g(r,3))),a[_-16]),i=d(d(d(d(v,p(r=m,6)^p(r,11)^p(r,25)),m&y^~m&b),n[_]),a[_]),o=d(p(o=c,2)^p(o,13)^p(o,22),c&h^c&u^h&u),v=b,b=y,y=m,m=d(f,i),f=u,u=h,h=c,c=d(i,o);s[0]=d(c,s[0]),s[1]=d(h,s[1]),s[2]=d(u,s[2]),s[3]=d(f,s[3]),s[4]=d(m,s[4]),s[5]=d(y,s[5]),s[6]=d(b,s[6]),s[7]=d(v,s[7])}return s}var f=e("./helpers"),p=function(e,t){return e>>>t|e<<32-t},g=function(e,t){return e>>>t};t.exports=function(e){return f.hash(e,u,32,!0)}}).call(this,e("lYpoI2"),"undefined"!=typeof self?self:"undefined"!=typeof window?window:{},e("buffer").Buffer,arguments[3],arguments[4],arguments[5],arguments[6],"/node_modules/gulp-browserify/node_modules/crypto-browserify/sha256.js","/node_modules/gulp-browserify/node_modules/crypto-browserify")},{"./helpers":4,buffer:3,lYpoI2:11}],10:[function(e,t,i){(function(e,t,n,s,a,o,r,l,c){i.read=function(e,t,i,n,s){var a,o,r=8*s-n-1,l=(1<<r)-1,c=l>>1,h=-7,d=i?s-1:0,u=i?-1:1;for(s=e[t+d],d+=u,a=s&(1<<-h)-1,s>>=-h,h+=r;0<h;a=256*a+e[t+d],d+=u,h-=8);for(o=a&(1<<-h)-1,a>>=-h,h+=n;0<h;o=256*o+e[t+d],d+=u,h-=8);if(0===a)a=1-c;else{if(a===l)return o?NaN:1/0*(s?-1:1);o+=Math.pow(2,n),a-=c}return(s?-1:1)*o*Math.pow(2,a-n)},i.write=function(e,t,i,n,s,a){var o,r,l=8*a-s-1,c=(1<<l)-1,h=c>>1,d=23===s?Math.pow(2,-24)-Math.pow(2,-77):0,u=n?0:a-1,f=n?1:-1;for(a=t<0||0===t&&1/t<0?1:0,t=Math.abs(t),isNaN(t)||t===1/0?(r=isNaN(t)?1:0,o=c):(o=Math.floor(Math.log(t)/Math.LN2),t*(n=Math.pow(2,-o))<1&&(o--,n*=2),2<=(t+=1<=o+h?d/n:d*Math.pow(2,1-h))*n&&(o++,n/=2),c<=o+h?(r=0,o=c):1<=o+h?(r=(t*n-1)*Math.pow(2,s),o+=h):(r=t*Math.pow(2,h-1)*Math.pow(2,s),o=0));8<=s;e[i+u]=255&r,u+=f,r/=256,s-=8);for(o=o<<s|r,l+=s;0<l;e[i+u]=255&o,u+=f,o/=256,l-=8);e[i+u-f]|=128*a}}).call(this,e("lYpoI2"),"undefined"!=typeof self?self:"undefined"!=typeof window?window:{},e("buffer").Buffer,arguments[3],arguments[4],arguments[5],arguments[6],"/node_modules/gulp-browserify/node_modules/ieee754/index.js","/node_modules/gulp-browserify/node_modules/ieee754")},{buffer:3,lYpoI2:11}],11:[function(e,t,i){(function(e,i,n,s,a,o,r,l,c){var h,d,u;function f(){}(e=t.exports={}).nextTick=(d="undefined"!=typeof window&&window.setImmediate,u="undefined"!=typeof window&&window.postMessage&&window.addEventListener,d?function(e){return window.setImmediate(e)}:u?(h=[],window.addEventListener("message",(function(e){var t=e.source;t!==window&&null!==t||"process-tick"!==e.data||(e.stopPropagation(),0<h.length&&h.shift()())}),!0),function(e){h.push(e),window.postMessage("process-tick","*")}):function(e){setTimeout(e,0)}),e.title="browser",e.browser=!0,e.env={},e.argv=[],e.on=f,e.addListener=f,e.once=f,e.off=f,e.removeListener=f,e.removeAllListeners=f,e.emit=f,e.binding=function(e){throw new Error("process.binding is not supported")},e.cwd=function(){return"/"},e.chdir=function(e){throw new Error("process.chdir is not supported")}}).call(this,e("lYpoI2"),"undefined"!=typeof self?self:"undefined"!=typeof window?window:{},e("buffer").Buffer,arguments[3],arguments[4],arguments[5],arguments[6],"/node_modules/gulp-browserify/node_modules/process/browser.js","/node_modules/gulp-browserify/node_modules/process")},{buffer:3,lYpoI2:11}]},{},[1])(1)},848:function(e,t,i){"use strict";e.exports=i(20)},942:function(e,t){var i;!function(){"use strict";var n={}.hasOwnProperty;function s(){for(var e="",t=0;t<arguments.length;t++){var i=arguments[t];i&&(e=o(e,a(i)))}return e}function a(e){if("string"==typeof e||"number"==typeof e)return e;if("object"!=typeof e)return"";if(Array.isArray(e))return s.apply(null,e);if(e.toString!==Object.prototype.toString&&!e.toString.toString().includes("[native code]"))return e.toString();var t="";for(var i in e)n.call(e,i)&&e[i]&&(t=o(t,i));return t}function o(e,t){return t?e?e+" "+t:e+t:e}e.exports?(s.default=s,e.exports=s):void 0===(i=function(){return s}.apply(t,[]))||(e.exports=i)}()}},i={};function n(e){var s=i[e];if(void 0!==s)return s.exports;var a=i[e]={exports:{}};return t[e](a,a.exports,n),a.exports}n.m=t,e=[],n.O=function(t,i,s,a){if(!i){var o=1/0;for(h=0;h<e.length;h++){i=e[h][0],s=e[h][1],a=e[h][2];for(var r=!0,l=0;l<i.length;l++)(!1&a||o>=a)&&Object.keys(n.O).every((function(e){return n.O[e](i[l])}))?i.splice(l--,1):(r=!1,a<o&&(o=a));if(r){e.splice(h--,1);var c=s();void 0!==c&&(t=c)}}return t}a=a||0;for(var h=e.length;h>0&&e[h-1][2]>a;h--)e[h]=e[h-1];e[h]=[i,s,a]},n.n=function(e){var t=e&&e.__esModule?function(){return e.default}:function(){return e};return n.d(t,{a:t}),t},n.d=function(e,t){for(var i in t)n.o(t,i)&&!n.o(e,i)&&Object.defineProperty(e,i,{enumerable:!0,get:t[i]})},n.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)},function(){var e={57:0,350:0};n.O.j=function(t){return 0===e[t]};var t=function(t,i){var s,a,o=i[0],r=i[1],l=i[2],c=0;if(o.some((function(t){return 0!==e[t]}))){for(s in r)n.o(r,s)&&(n.m[s]=r[s]);if(l)var h=l(n)}for(t&&t(i);c<o.length;c++)a=o[c],n.o(e,a)&&e[a]&&e[a][0](),e[a]=0;return n.O(h)},i=self.webpackChunkhyve_lite=self.webpackChunkhyve_lite||[];i.forEach(t.bind(null,0)),i.push=t.bind(null,i.push.bind(i))}();var s=n.O(void 0,[350],(function(){return n(150)}));s=n.O(s)}();